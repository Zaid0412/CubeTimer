/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/style.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/style.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap);\"]);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);\"]);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `*{\r\n    /* font-family: \"Josefin Sans\", sans-serif; */\r\n    font-family: \"Poppins\", sans-serif;\r\n}\r\n\r\nbody{\r\n    background-color: var(--primary-clr);\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nbody.dark{\r\n    --primary-clr: #222831;\r\n    --secondary-clr: #fff;\r\n    --black: #191E26;\r\n    --dark-grey: #343d4b;\r\n    --grey: #9F9FA3;\r\n    --grey_2:#364153;\r\n}\r\n\r\n\r\nbody.light{\r\n    --primary-clr:#fff;\r\n    --secondary-clr:#222831;\r\n    --black:#F5F5F5;\r\n    --dark-grey:#BFBFBF;\r\n    --grey: #D7D7D7;\r\n    --grey_2:#B3B0B0;\r\n}\r\n\r\nbody.light .icon{\r\n    filter: invert(100%);\r\n}\r\n\r\n.top{\r\n    width: 100%;\r\n\r\n}\r\n\r\n.top.timerpage .top-nav{\r\n    display: flex;\r\n    align-items: center;\r\n    height: 11vh;\r\n}\r\n\r\n /* Timer Page */\r\n.top.timerpage{\r\n    width: 100%;\r\n\r\n    height: 93vh;\r\n\r\n    display: grid;\r\n    grid-template-columns: repeat(20, 1fr);\r\n    grid-template-rows: repeat(15, 1fr);\r\n}\r\n\r\n.top.timerpage .top-nav .dropdown{\r\n    width: fit-content;\r\n}\r\n\r\n.main{\r\n    grid-row: 2/12;\r\n    grid-column: 1/20;\r\n    padding: 3em;\r\n\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n}\r\n\r\n.avgs{\r\n    grid-row: 12/17;\r\n    grid-column: 1/20;\r\n}\r\n\r\n.aside{\r\n    grid-row: 2/15;\r\n    grid-column: 16/20;\r\n\r\n    display: flex;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.stats{\r\n    align-self: flex-start;\r\n    color: var(--secondary-clr);\r\n    \r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    text-align: center;\r\n}\r\n\r\n.stats h2{\r\n    font-size: .8rem;\r\n  width: 5rem;\r\n  padding-left: 5rem;\r\n}\r\n\r\n.scramble h1{\r\n display: flex;\r\n color: var(--secondary-clr);\r\n font-size: 3.5vh;\r\n font-weight: 600;\r\n letter-spacing: 0.25rem;\r\n flex-wrap: nowrap;\r\n}\r\n\r\nscramble-display{\r\n    width: 43vh;\r\n    height: 43vh;\r\n\r\n    align-self: center;\r\n}\r\n\r\n\r\n.stopwatch h1{\r\n    font-family: \"Roboto Mono\", monospace;\r\n    color: var(--secondary-clr);\r\n    letter-spacing: 0.1 rem;\r\n    font-size: 15vh;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    transition: .7s;\r\n}\r\n\r\n.timerStart{\r\n   opacity: 35% !important;\r\n} \r\n\r\n /* Solves Page */\r\n.top.solvespage{\r\n    box-sizing: border-box;\r\n    /* padding: 5rem; */\r\n    width: 93vw;\r\n    height: 93vh;\r\n    \r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.top.solvespage .top-nav{\r\n    background-color: var(--primary-clr);\r\n    width: 100vw;\r\n    height: 11vh;\r\n    align-self: flex-start;\r\n    width: 100%;\r\n\r\n\r\n}\r\n\r\n.top.solvespage .main{  \r\n    padding-top: 15rem;\r\n    width: 35vw;\r\n    gap: 7px;\r\n}\r\n\r\n.top.solvespage .main .solves{\r\n    /* border: 5px solid var(--grey_2); */\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n}\r\n\r\n.solve{\r\n    color: var(--secondary-clr);\r\n    background-color: var(--black);\r\n    cursor: pointer;\r\n\r\n    min-width:  499.9px;\r\n    width: 40vw;\r\n    max-width: 555.5px;\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    align-self: baseline;\r\n    gap: 8rem;\r\n    padding-right: 1rem;\r\n    padding-left: 1rem;\r\n    border-radius: 5px;\r\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset;\r\n    transition: all 0.15s ease;\r\n    will-change: transform;\r\n}\r\n\r\n.solve:hover{\r\n    transform: scale(1.025);\r\n}\r\n\r\n.solve h1{\r\n    font-size: 2rem;\r\n}\r\n\r\n\r\n.solve h2{\r\n    font-size: .8rem;\r\n}\r\n\r\n.solve div{\r\n    background-color: var(--grey_2);\r\n\r\n    border-radius: 15px;\r\n    padding: 5px 7px;\r\n    font-size: 0.8rem;\r\n    text-align: center;\r\n}\r\n\r\n.solve-info{\r\n    box-sizing: border-box;\r\n    background-color: var(--black);\r\n    border: none;\r\n    width: 30vw;\r\n    height: 80vh;\r\n    border-radius: 15px;\r\n    padding: 15px;\r\n    box-shadow: rgba(0, 0, 0, 0.56) 0px 22px 70px 4px,\r\n    rgba(204, 219, 232, 0.4) 3px 3px 6px 0px inset,\r\n    rgba(255, 255, 255, 0.3) -3px -3px 6px 1px inset;\r\n\r\n    /* display: grid; */\r\n    grid-template-rows: 1fr 1fr;   \r\n}\r\n\r\n\r\ndialog[open] {\r\n    animation: slidein .2s ease alternate;\r\n  }\r\n  \r\n  @keyframes slidein{\r\n    0%{\r\n      transform: translateY(-100%);\r\n      opacity: 0;\r\n    }\r\n    100%{\r\n        transform: translateY(0%);\r\n        opacity: 1;\r\n    }\r\n  }\r\n\r\n\r\n.solve-info::backdrop{\r\n    background-color: #000;\r\n    opacity: 40%;\r\n}\r\n\r\n.section-1{\r\n    border-bottom: 3px solid var(--primary-clr);\r\n    box-sizing: border-box;\r\n    color: var(--secondary-clr);\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    gap: 1.2rem;\r\n    padding: 5px;\r\n}\r\n\r\n.section-1 button{\r\n    border: none;\r\n    border-radius: 5px;\r\n    background-color: var(--dark-grey);\r\n    padding: 5px 11px;\r\n    color: var(--secondary-clr);\r\n}\r\n\r\n.section-1 .btns{\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n}\r\n\r\n.section-1 .btns button{\r\n    grid-column: 1/2;\r\n    justify-self: start;\r\n}\r\n\r\n.section-1 .btns img{\r\n    grid-column: 2/3;\r\n    justify-self: end;\r\n}\r\n\r\n.section-1 .solve-time{\r\n    font-size: 2.5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    grid-row: 2/4;\r\n}\r\n\r\n.section-1 .solve-options{\r\n    display: flex;\r\n    gap: 7px;\r\n}\r\n\r\n.delete-btn{\r\n    cursor: pointer;\r\n    transition: all 0.15s ease;\r\n    will-change: transform;\r\n}\r\n\r\n.section-1 .solve-date{\r\n    font-size: .75rem;\r\n    color: var(--grey);\r\n    font-weight: 500;\r\n}\r\n\r\n#plus2-btn,\r\n#DNF-btn{\r\n    cursor: pointer;\r\n    transition: all 0.15s ease;\r\n    will-change: transform;\r\n}\r\n\r\n\r\n#plus2-btn:active,\r\n#DNF-btn:active,\r\n.delete-btn:active{\r\n    transform: scale(0.95);\r\n}\r\n\r\n#plus2-btn:hover,\r\n#DNF-btn:hover,\r\n.delete-btn:hover{\r\n    transform: scale(1.05);\r\n}\r\n\r\n.plus2-active{\r\n    background-color: #FF8200 !important;\r\n}\r\n\r\n.DNF-active{\r\n    background-color: #FE0000 !important;\r\n}\r\n\r\n.section-2{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n}\r\n\r\n.solve-scrambleDisplay scramble-display{\r\n    padding: 10px;\r\n    padding-bottom: 15px;\r\n    width: 20vw;\r\n    height: 20vh;\r\n}\r\n\r\n.solve-scramble{\r\n    color: var(--secondary-clr);\r\n    font-weight: 500;\r\n}\r\n\r\n /* Alg set Page */\r\n.top.algsetpage .top-nav{\r\n    color: var(--secondary-clr);\r\n    box-sizing: border-box;\r\n    padding-left: 2em;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: 11vh;\r\n}\r\n\r\n.top.algsetpage .top-nav h1{\r\n    font-size: 1.75rem;\r\n}\r\n\r\n\r\n /* Dropdown menu */\r\n .dropdown{\r\n    min-width: 15em;\r\n    position: relative;\r\n    margin: 2em;\r\n}\r\n\r\n.dropdown *{\r\n    box-sizing: border-box;\r\n}\r\n\r\n.select{\r\n    background: #2a2f3b;\r\n    color: #fff;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border: 2px #2a2f3b solid;\r\n    border-radius: 0.5em;\r\n    padding: .5em;\r\n    cursor: pointer;\r\n    transition: background 0.3s;\r\n}\r\n\r\n.select-clicked{\r\n    border: 2px solid #26489a;\r\n    box-shadow: 0 0 0.8em #26489a;\r\n}\r\n\r\n.select:hover{\r\n    background: #323741;\r\n}\r\n\r\n.caret{\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 5px transparent solid;\r\n    border-right: 5px transparent solid;\r\n    border-top: 6px #fff solid  ;\r\n    transition: 0.3s;\r\n}\r\n\r\n.caret-rotate{\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.menu{\r\n    list-style: none;\r\n    padding: 0.1em 0.5em;\r\n    background: var(--primary-clr);\r\n    /* box-shadow: 0 0.5em 1em rgba(0, 0, 0, 0.2); */\r\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset;\r\n    border-radius: 0.5em;\r\n    color: #9fa5b5;\r\n    position: absolute;\r\n    top: 3em;\r\n    left: 50%;\r\n    width: 100%;\r\n    transform: translateX(-50%);\r\n    opacity: 0;\r\n    display: none;\r\n    transform: 0.2s;\r\n    z-index: 1;\r\n    animation: expand 300ms ease-in-out alternate;\r\n    transform-origin: top;\r\n}\r\n\r\n\r\n@keyframes expand {\r\n    0% {\r\n        opacity: 0;\r\n        transform: translate(1,0);\r\n    }\r\n    \r\n    100% {\r\n        opacity: 1;\r\n        transform: translate(1,1);\r\n    }\r\n  }\r\n\r\n.menu li{\r\n    padding: 0.7em 0.5em;\r\n    margin: 0.3em 0;\r\n    border-radius: 0.5em;\r\n    cursor: pointer;\r\n}\r\n\r\n.menu li:hover{\r\n    background:#2a2d35;\r\n}\r\n\r\n\r\n\r\n.select-active{\r\n    background: #23242a;\r\n}\r\n\r\n.menu-open{\r\n    display: block;\r\n    opacity: 1;\r\n}\r\n\r\n\r\n\r\n /* Top nav bar */\r\n.top-nav{\r\n    grid-row: 1/2;\r\n    grid-column: 1/21;\r\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset;\r\n}\r\n\r\n\r\n /* Bottom nav bar  */\r\n.btm-nav{\r\n    background-color: var(--primary-clr);\r\n    /* box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px; */\r\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset;\r\n    box-sizing: border-box;\r\n    padding-top: 5px;\r\n    padding-left: .6rem;\r\n    padding-right: .6rem;\r\n    grid-row: 15/16;\r\n    grid-column: 1/21;\r\n    position: fixed;\r\n    bottom: 0;\r\n\r\n\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    align-self: flex-end;\r\n    \r\n}\r\n\r\n.btm-nav button{\r\n    background-color: transparent;\r\n    padding-top: 0.3rem;\r\n    border: none;\r\n    width: calc(100vw / 4);\r\n    border-radius: 10px;\r\n    transition: 100ms;\r\n}\r\n\r\n.btm-nav button:focus{\r\n    outline: none   ;\r\n}\r\n\r\n /* Icons  */\r\n.icon{\r\n    width: 4vh;\r\n    filter: opacity(35%);\r\n    transition: 200ms;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    will-change: transform;\r\n}\r\n\r\nbody.light .icon.active,\r\n.icon:hover{\r\n    transform: scale(1.125)\r\n}\r\n\r\nbody.light .icons{\r\n    filter: saturate(50%);\r\n}\r\n\r\n\r\nbody.dark .icon:hover,\r\nbody.dark .icon.active{\r\n    filter: opacity(100%) !important;\r\n}\r\n\r\n\r\n`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://cubetimer/./src/style.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://cubetimer/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://cubetimer/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/scrambow/dist/scrambow.js":
/*!************************************************!*\
  !*** ./node_modules/scrambow/dist/scrambow.js ***!
  \************************************************/
/***/ (function(module) {

eval("!function(r,e){ true?module.exports=e():0}(\"undefined\"!=typeof self?self:this,(()=>(()=>{\"use strict\";var r=[,(r,e,t)=>{Object.defineProperty(e,\"__esModule\",{value:!0}),e.Scrambow=void 0;var n=t(2),o=t(3),a=function(){function r(r,e){this.type=\"333\",this.length=20,this.seed=Math,this.args=[],this.setLength(e||this.length),this.setType(r||this.type)}return r.prototype.init=function(){if(!o.scramblers.hasOwnProperty(this.type))throw new Error(\"Invalid scrambler, allowed: \"+Object.keys(o.scramblers).join(\", \"));o.scramblers[this.type].initialize(this.seed)},r.prototype.get=function(r){void 0===r&&(r=1);for(var e=Array(r),t=0;t<r;t++)e[t]=o.scramblers[this.type].getRandomScramble(this.args);return e},r.prototype.setType=function(r){return r?(this.type=this.getType(r),this.init(),this):this},r.prototype.getType=function(r){var e=r.toLowerCase();return o.scramblerAliases.hasOwnProperty(e)?o.scramblerAliases[e]:e},r.prototype.setSeed=function(r){if(!r)return this;var e=r.toString(),t=(0,n.hashCode)(e);return this.seed={random:function(){var r=1e4*Math.sin(t++);return r-Math.floor(r)}},this.init(),this},r.prototype.setLength=function(r){return r?(this.length=r,o.scramblers[this.type].setScrambleLength(this.length),this):this},r.prototype.setArgs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length?(this.args=r,this):this},r.prototype.registerCustomScrambler=function(r,e,t){void 0===t&&(t=[]),(0,o.register)(o.scramblers,o.scramblerAliases)(r,e,t)},r}();e.Scrambow=a},(r,e)=>{Object.defineProperty(e,\"__esModule\",{value:!0}),e.hashCode=void 0,e.hashCode=function(r){var e=0;if(0===r.length)return e;for(var t=0;t<r.length;t++){e=(e<<5)-e+r.charCodeAt(t),e|=0}return e}},function(r,e,t){var n=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,\"__esModule\",{value:!0}),e.register=e.scramblers=e.scramblerAliases=void 0;var o=n(t(4));e.scramblerAliases={},e.scramblers={};e.register=function(r,e){return function(t,n,o){void 0===o&&(o=[]),o.forEach((function(r){e[r.toLowerCase()]=t.toLowerCase()})),r[t.toLowerCase()]=n}},(0,o.default)((0,e.register)(e.scramblers,e.scramblerAliases))},(r,e,t)=>{t.r(e),t.d(e,{default:()=>v});var n=t(5),o=t(6),a=t(32),i=t(33),f=t(34),c=t(35),u=t(36),l=t(37),s=t(38),m=t(39);function v(r){(0,n.default)(r),(0,o.default)(r),(0,a.default)(r),(0,i.default)(r),(0,f.default)(r),(0,c.default)(r),(0,u.default)(r),(0,l.default)(r),(0,s.default)(r),(0,m.default)(r)}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){r(\"222\",function(){var r=new Array;r=new Array(1,1,1,1,2,2,2,2,5,5,5,5,4,4,4,4,3,3,3,3,0,0,0,0);var e=new Array(15,16,16,21,21,15,13,9,9,17,17,13,14,20,20,4,4,14,12,5,5,8,8,12,3,23,23,18,18,3,1,19,19,11,11,1,2,6,6,22,22,2,0,10,10,7,7,0),t=new Array;t[0]=new Array,t[1]=new Array,t[2]=new Array,t[3]=new Array,t[4]=new Array,t[5]=new Array;var n=new Array;n[0]=new Array(0,2,3,1,23,19,10,6,22,18,11,7),n[1]=new Array(4,6,7,5,12,20,2,10,14,22,0,8),n[2]=new Array(8,10,11,9,12,7,1,17,13,5,0,19),n[3]=new Array(12,13,15,14,8,17,21,4,9,16,20,5),n[4]=new Array(16,17,19,18,15,9,1,23,13,11,3,21),n[5]=new Array(20,21,23,22,14,16,3,6,15,18,2,4);var o=new Array;function a(){!function(){var n,o;for(n=0;n<6;n++)for(o=0;o<6;o++)t[n][o]=0;for(n=0;n<48;n+=2)r[e[n]]<=5&&r[e[n+1]]<=5&&t[r[e[n]]][r[e[n+1]]]++}();var n=new Array;for(c=0;c<6;c++)for(m=0;m<6;m++)c!=m&&t[c][m]+t[m][c]===0&&(n[c]=m,n[m]=c);for(var a=new Array,f=new Array,c=0,u=0;u<7;u++){var l=0;for(m=c;m<c+6;m+=2)r[e[m]]===r[e[42]]&&(l+=4),r[e[m]]===r[e[44]]&&(l+=1),r[e[m]]===r[e[46]]&&(l+=2);a[u]=l,r[e[c]]===r[e[42]]||r[e[c]]===n[r[e[42]]]?f[u]=0:r[e[c+2]]===r[e[42]]||r[e[c+2]]===n[r[e[42]]]?f[u]=1:f[u]=2,c+=6}var s=0;for(c=0;c<7;c++){for(var m=0,v=0;v<7&&a[v]!==c;v++)a[v]>c&&m++;s=s*(7-c)+m}var h=0;for(c=5;c>=0;c--)h=3*h+f[c]-3*Math.floor(f[c]/3);if(0!=s||0!=h){o.length=0;for(var p=d;p<100&&!i(0,s,h,p,-1);p++);for(h=\"\",s=0;s<o.length;s++)h=\"URF\".charAt(o[s]/10)+\"'2 \".charAt(o[s]%10)+\" \"+h;return h}}function i(r,e,t,n,a){if(0===n){if(0===e&&0===t)return!0}else{if(f[e]>n||c[t]>n)return!1;var s,m,v,h;for(h=0;h<3;h++)if(h!=a)for(s=e,m=t,v=0;v<3;v++)if(s=u[s][h],m=l[m][h],o[r]=10*h+v,i(r+1,s,m,n-1,h))return!0}return!1}var f=new Array,c=new Array,u=new Array,l=new Array;function m(r,e){var t,n,o,a,i=new Array;for(a=r,t=1;t<=7;t++){for(a=(a-(n=a%t))/t,o=t-1;o>=n;o--)i[o+1]=i[o];i[n]=7-t}for(0===e?(o=i[0],i[0]=i[1],i[1]=i[3],i[3]=i[2],i[2]=o):1===e?(o=i[0],i[0]=i[4],i[4]=i[5],i[5]=i[1],i[1]=o):2===e&&(o=i[0],i[0]=i[2],i[2]=i[6],i[6]=i[4],i[4]=o),a=0,t=0;t<7;t++){for(n=0,o=0;o<7&&i[o]!==t;o++)i[o]>t&&n++;a=a*(7-t)+n}return a}function v(r,e){var t,n,o,a,i,f=new Array;for(i=r,a=0,t=0;t<=5;t++)n=i-3*(o=Math.floor(i/3)),i=o,f[t]=n,(a-=n)<0&&(a+=3);for(f[6]=a,0===e?(o=f[0],f[0]=f[1],f[1]=f[3],f[3]=f[2],f[2]=o):1===e?(o=f[0],f[0]=f[4],f[4]=f[5],f[5]=f[1],f[1]=o,f[0]+=2,f[1]++,f[5]+=2,f[4]++):2===e&&(o=f[0],f[0]=f[2],f[2]=f[6],f[6]=f[4],f[4]=o,f[2]+=2,f[0]++,f[4]+=2,f[6]++),i=0,t=5;t>=0;t--)i=3*i+f[t]%3;return i}var h,d=0;r=new Array;(new Array)[0]=new Array(5,0,1,4,3,2);var p=void 0,g=function(r){p=r},y=!1,b=function(){y||(!function(){for(var r=0;r<5040;r++){f[r]=-1,u[r]=new Array;for(var e=0;e<3;e++)u[r][e]=m(r,e)}f[0]=0;for(var t=0;t<=6;t++)for(r=0;r<5040;r++)if(f[r]===t)for(e=0;e<3;e++)for(var n=r,o=0;o<3;o++)n=u[n][e],-1===f[n]&&(f[n]=t+1);for(r=0;r<729;r++)for(c[r]=-1,l[r]=new Array,e=0;e<3;e++)l[r][e]=v(r,e);for(c[0]=0,t=0;t<=5;t++)for(r=0;r<729;r++)if(c[r]===t)for(e=0;e<3;e++)for(n=r,o=0;o<3;o++)n=l[n][e],-1===c[n]&&(c[n]=t+1)}(),function(){var r,e;for(h=new Array(48),r=0;r<h.length;r++)h[r]=-1;for(r=0;r<2;r++)for(e=0;e<2;e++)h[8*(6-r-1)+2+e]=2*r+e,h[8*(2+r)+2-e-1]=2*(2+r)+e,h[8*(2+r)+8-e-1]=2*(4+r)+e,h[8*r+2+e]=2*(6+r)+e,h[8*(2+r)+4+e]=2*(8+r)+e,h[8*(2+r)+2+e]=2*(10+r)+e}(),y=!0)};return{version:\"July 05, 2015\",initialize:function(r){return function(r){g(r),b()}(r)},setRandomSource:g,getRandomScramble:function(){!function(){for(var e=[0,1,2,3,4,5,6,7],t=Array(),n=0;n<7;n++){var o=Math.floor(p.random()*(7-n));o=6===e[o]?(o+1)%(8-n):o,t[n>=6?n+1:n]=e[o],e[o]=e[7-n]}t[6]=6;var a=0,i=Array();for(n=0;n<7;n=5===n?n+2:n+1)i[n]=Math.floor(3*p.random()),a+=i[n];n<=7&&(i[n]=(3-a%3)%3),i[6]=0;var f=[[4,3,0],[4,5,3],[4,2,5],[4,0,2],[1,0,3],[1,3,5],[1,5,2],[1,2,0]],c=[[15,16,21],[13,9,17],[12,5,8],[14,20,4],[3,23,18],[1,19,11],[0,10,7],[2,6,22]];for(n=0;n<8;n++)for(var u=0;u<3;u++)r[c[n][(i[n]+u)%3]]=f[t[n]][u]}();var e=a();return{state:r,scramble_string:e}},drawScramble:function(){return b(),s},setScrambleLength:function(){}}}(),[\"2\",\"2x2\",\"2x2x2\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>L});var n=t(7),o=t(11),a=t(12),i=t(13),f=t(14),c=t(15),u=t(16),l=t(17),s=t(18),m=t(20),v=t(21),h=t(22),d=t(23),p=t(24),g=t(25),y=t(26),b=t(27),S=t(28),w=t(29),A=t(30),R=t(31);function L(r){(0,n.default)(r),(0,o.default)(r),(0,a.default)(r),(0,i.default)(r),(0,f.default)(r),(0,c.default)(r),(0,u.default)(r),(0,l.default)(r),(0,s.default)(r),(0,m.default)(r),(0,v.default)(r),(0,h.default)(r),(0,d.default)(r),(0,p.default)(r),(0,g.default)(r),(0,y.default)(r),(0,b.default)(r),(0,S.default)(r),(0,w.default)(r),(0,A.default)(r),(0,R.default)(r)}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"333\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8,9,10,11],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8,9,10,11])}},setScrambleLength:r.setScrambleLength}}(n.default),[\"3\",\"3x3\",\"3x3x3\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(9),o=t(10);const a=function(){var r,e,t,a,i,f,c,u,l,s,m,v,h,d,p,g,y,b=function(){};function S(){S=b,g=(0,n.createArray)(495,18),h=(0,n.createArray)(324,18),i=(0,n.createArray)(336,18),d=(0,n.createArray)(495,8),y=Array(160380),p=Array(166320),v=Array(870912),m=(0,n.createArray)(1320,18),s=Array(24),e=Array(346),t=(0,n.createArray)(2768,18),a=(0,n.createArray)(2768,10),l=(0,n.createArray)(24,10),u=(0,n.createArray)(24,16),f=Array(66432),c=Array(66432)}function w(){w=b,mr=new $,Y=Array(16),ar=Array(16),cr=(0,n.createArray)(16,16),ir=(0,n.createArray)(16,18),nr=(0,n.createArray)(8,8),tr=(0,n.createArray)(8,18),or=(0,n.createArray)(8,8),fr=(0,n.createArray)(16,10),rr=Array(336),ur=Array(324),X=Array(2768),Z=X,er=Array(40320),sr=(0,n.createArray)(56,56),lr=[0,0,0,0,1,3,1,3,1,3,1,3,0,0,0,0],vr=new H(2531,1373,67026819,1877),hr=new H(2089,1906,322752913,255),dr=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[6,7,8,0,1,2,3,4,5,15,16,17,9,10,11,12,13,14],[3,4,5,6,7,8,0,1,2,12,13,14,15,16,17,9,10,11],[2,1,0,5,4,3,8,7,6,11,10,9,14,13,12,17,16,15],[8,7,6,2,1,0,5,4,3,17,16,15,11,10,9,14,13,12],[5,4,3,8,7,6,2,1,0,14,13,12,17,16,15,11,10,9]],function(){var r,e,t;for(e=Array(18),br=[new H(15120,0,119750400,0),new H(21021,1494,323403417,0),new H(8064,1236,29441808,802),new H(9,0,5880,0),new H(1230,412,2949660,0),new H(224,137,328552,1160)],r=0;r<6;++r)for(e[3*r]=br[r],t=0;t<2;++t)e[3*r+t+1]=new $,Q(e[3*r+t],br[r],e[3*r+t+1]),q(e[3*r+t],br[r],e[3*r+t+1]);br=e}(),function(){var r,e,t,n,o,a,i,f,c,u,l;for(r=new $,e=new $,t=new H(28783,0,259268407,0),l=new H(15138,0,119765538,1792),(i=new H(5167,0,83473207,0)).co=[3,3,3,3,3,3,3,3],n=0;n<16;++n)Y[n]=new K(r),J(r,l,e),Q(r,l,e),u=e,e=r,r=u,n%4==3&&(J(u,i,e),Q(u,i,e),u=e,e=r,r=u),n%8==7&&(J(u,t,e),Q(u,t,e),u=e,e=r,r=u);for(o=0;o<16;++o)for(a=0;a<16;++a)if(J(Y[o],Y[a],r),0===r.cp[0]&&1===r.cp[1]&&2===r.cp[2]){ar[o]=a;break}for(n=0;n<16;++n)for(o=0;o<16;++o)for(J(Y[n],Y[o],r),a=0;a<16;++a)if(Y[a].cp[0]===r.cp[0]&&Y[a].cp[1]===r.cp[1]&&Y[a].cp[2]===r.cp[2]){cr[n][o]=a;break}for(o=0;o<18;++o)for(c=0;c<16;++c){T(br[o],ar[c],r);r:for(f=0;f<18;++f){for(n=0;n<8;++n)if(r.cp[n]!=br[f].cp[n]||r.co[n]!=br[f].co[n])continue r;ir[c][o]=f}}for(o=0;o<10;++o)for(c=0;c<16;++c)fr[c][o]=Or[ir[c][Er[o]]];for(o=0;o<8;++o)for(c=0;c<8;++c)nr[c][o]=cr[c<<1][o<<1]>>>1;for(o=0;o<18;++o)for(c=0;c<8;++c)tr[c][o]=ir[c<<1][o];for(o=0;o<8;++o)for(c=0;c<8;++c)or[o][c]=nr[o][ar[c<<1]>>1]}()}function A(r){r.cp=[0,1,2,3,4,5,6,7],r.co=[0,0,0,0,0,0,0,0],r.ep=[0,1,2,3,4,5,6,7,8,9,10,11],r.eo=[0,0,0,0,0,0,0,0,0,0,0,0]}function R(r){var e,t;if(null!=pr)return e=pr[V(r.cp)],e^=lr[15&e];for(t=0;t<16;++t)if(T(r,ar[t],r.temps),65535!=(e=Tr(X,V(r.temps.cp))))return e<<4|t;return 0}function L(r){var e,t,n,o,a,i;for(t=0,n=0,o=0,a=3,e=11;e>=0;--e)4<=r.ep[e]&&r.ep[e]<=6&&(t+=_r[e][a--],n+=qr(o&(i=1<<r.ep[e])-1)*Fr[2-a],o|=i);return 6*t+n}function _(r){var e,t;if(null!=pr)return pr[V(r.ep)];for(t=0;t<16;++t)if(N(r,ar[t],r.temps),65535!=(e=Tr(Z,V(r.temps.ep))))return e<<4|t;return 0}function U(r){var e,t;for(t=0,e=0;e<11;++e)t|=r.eo[e]<<e;return t}function z(r){var e,t;if(null!=gr)return gr[U(r)];for(t=0;t<16;t+=2)if(N(r,ar[t],r.temps),65535!=(e=Tr(rr,U(r.temps))))return e<<3|t>>>1;return 0}function M(r){var e,t,n,o;for(n=1<<r.ep[11],t=0,e=10;e>=8;--e)t+=qr(n&(o=1<<r.ep[e])-1)*Fr[11-e],n|=o;return t}function j(r){var e,t,n,o,a,i;for(t=0,n=0,o=0,a=3,e=11;e>=0;--e)r.ep[e]>=9&&(t+=_r[e][a--],n+=qr(o&(i=1<<r.ep[e])-1)*Fr[2-a],o|=i);return 6*t+n}function x(r){var e,t;for(t=0,e=0;e<7;++e)t*=3,t+=r.co[e];return t}function C(r){var e,t;if(null!=yr)return yr[x(r)];for(t=0;t<16;t+=2)if(T(r,ar[t],r.temps),e=x(r.temps),65535!=(e=Tr(ur,e)))return e<<3|t>>>1;return 0}function F(r){var e,t,n;for(t=0,n=4,e=0;e<12;++e)r.ep[e]>=8&&(t+=_r[11-e][n--]);return t}function D(r){var e,t,n,o,a,i;for(t=0,n=0,o=0,a=3,e=11;e>=0;--e)r.ep[e]<=2&&(t+=_r[e][a--],n+=qr(o&(i=1<<r.ep[e])-1)*Fr[2-a],o|=i);return 6*t+n}function P(r){var e,t,n;for(t=0;t<12;++t)r.temps.ep[r.ep[t]]=t;for(t=0;t<12;++t)r.temps.eo[t]=r.eo[r.temps.ep[t]];for(e=0;e<8;++e)r.temps.cp[r.cp[e]]=e;for(e=0;e<8;++e)n=r.co[r.temps.cp[e]],r.temps.co[e]=-n,r.temps.co[e]<0&&(r.temps.co[e]=r.temps.co[e]+3);!function(r,e){r.cp=e.cp.map((function(r){return r})),r.co=e.co.map((function(r){return r})),r.ep=e.ep.map((function(r){return r})),r.eo=e.eo.map((function(r){return r}))}(r,r.temps)}function k(r,e){r.eo[11]=function(r){return r^=r>>>1,r^=r>>>2,r^=r>>>4,r^=r>>>8,1&r}(e);for(var t=0;t<11;++t)r.eo[t]=1&e,e>>>=1}function O(r,e){r.ep[11]=8;for(var t=10;t>=8;--t){r.ep[t]=e%(12-t)+8,e=~~(e/(12-t));for(var n=t+1;n<12;++n)r.ep[n]>=r.ep[t]&&++r.ep[n]}}function E(r,e){var t=kr[e%6];e=~~(e/6);for(var n=3,o=11;o>=0;--o)e>=_r[o][n]?(e-=_r[o][n--],r.ep[o]=t[2-n]):r.ep[o]=8-o+n}function B(r,e){for(var t=0,n=6;n>=0;--n)t+=r.co[n]=e%3,e=~~(e/3);r.co[7]=(15-t)%3}function I(r,e){for(var t=4,n=0;n<12;++n)e>=_r[11-n][t]?(e-=_r[11-n][t--],r.ep[n]=11-t):r.ep[n]=n+t-4}function T(r,e,t){J(Y[ar[e]],r,mr),J(mr,Y[e],t)}function q(r,e,t){for(var n=0;n<8;++n)t.cp[n]=r.cp[e.cp[n]],t.co[n]=(r.co[e.cp[n]]+e.co[n])%3}function J(r,e,t){for(var n,o,a,i=0;i<8;++i)t.cp[i]=r.cp[e.cp[i]],o=r.co[e.cp[i]],a=e.co[i],n=o,n+=o<3?a:3-a,n%=3,o<3^a<3&&(n+=3),t.co[i]=n}function $(){A(this)}function G(r,e,t,n){A(this);for(var o=0;o<8;++o)this.cp[o]=r[o],this.co[o]=e[o];for(var a=0;a<12;++a)this.ep[a]=t[a],this.eo[a]=n[a]}function H(r,e,t,n){A(this),W(this.cp,r),B(this,e),function(r,e){r.ep[11]=0;for(var t=10;t>=0;--t){r.ep[t]=e%(12-t),e=~~(e/(12-t));for(var n=t+1;n<12;++n)r.ep[n]>=r.ep[t]&&++r.ep[n]}}(this,t),k(this,n)}function K(r){G.call(this,r.cp,r.co,r.ep,r.eo)}function N(r,e,t){Q(Y[ar[e]],r,mr),Q(mr,Y[e],t)}function Q(r,e,t){var n;for(n=0;n<12;++n)t.ep[n]=r.ep[e.ep[n]],t.eo[n]=e.eo[n]^r.eo[e.ep[n]]}function V(r){var e,t,n,o;for(t=0,o=1985229328,e=0;e<7;++e)t=(8-e)*t+(o>>(n=r[e]<<2)&7),o-=286331152<<n;return t}function W(r,e){var t,n,o,a,i;for(i=1985229328,t=0;t<7;++t)e-=(a=~~(e/(o=Fr[7-t])))*o,a<<=2,r[t]=i>>a&7,i=(i&(n=(1<<a)-1))+(i>>4&~n);r[7]=i}(r=K.prototype=H.prototype=$.prototype=function(){}.prototype).temps=null;var X,Y,Z,rr,er,tr,nr,or,ar,ir,fr,cr,ur,lr,sr,mr,vr,hr,dr,pr=null,gr=null,yr=null,br=null;function Sr(r,n,o,a,l,b,S,w){var A,R,L,_,U,z;if(0===n&&0===a&&0===b&&S<5)return 0===S&&function(r){var n,o,a,i,l,v,h,d,p,g,y,b;for(r.valid2=Math.min(r.valid2,r.valid1),l=r.valid1;l<r.length1;++l)h=r.move[l],r.corn[l+1]=t[r.corn[l]][ir[r.csym[l]][h]],r.csym[l+1]=cr[15&r.corn[l+1]][r.csym[l]],r.corn[l+1]>>>=4,r.mid3[l+1]=m[r.mid3[l]][h];if(r.valid1=r.length1,d=s[r.mid3[r.length1]%24],(p=f[24*r.corn[r.length1]+u[d][r.csym[r.length1]]])>=r.maxlength2)return!1;for(l=r.valid2;l<r.length1;++l)r.e1[l+1]=m[r.e1[l]][r.move[l]],r.e2[l+1]=m[r.e2[l]][r.move[l]];if(r.valid2=r.length1,n=r.corn[r.length1],i=4032*sr[~~(r.e1[r.length1]/6)][~~(r.e2[r.length1]/6)]+12*r.e1[r.length1]+r.e2[r.length1]%6*2+(e[n>>>3]>>>(7&n)&1^Pr[d]),a=15&(o=er[i]),o>>>=4,(p=Math.max(c[24*o+u[d][a]],p))>=r.maxlength2)return!1;for(v=0===r.length1?10:Or[3*~~(r.move[r.length1-1]/3)+1],l=p;l<r.maxlength2;++l)if(wr(r,o,a,r.corn[r.length1],r.csym[r.length1],d,l,r.length1,v)){if(r.sol=r.length1+l,y=\"\",(b=((b=r.urfidx)+3)%6)<3){for(g=0;g<r.length1;++g)y+=Dr[dr[b][r.move[g]]],y+=\" \";for(r.useSeparator&&(y.impl.string+=\".\"),g=r.length1;g<r.sol;++g)y+=Dr[dr[b][r.move[g]]],y+=\" \"}else{for(g=r.sol-1;g>=r.length1;--g)y+=Dr[dr[b][r.move[g]]],y+=\" \";for(r.useSeparator&&(y+=\".\"),g=r.length1-1;g>=0;--g)y+=Dr[dr[b][r.move[g]]],y+=\" \"}return r.solution=y,!0}return!1}(r);for(L=0;L<18;++L)if(Ur[w][L])L+=2;else if(_=g[b][L],z=h[n][tr[o][L]],U=nr[7&z][o],!(y[495*(z>>>=3)+d[_][U]]>=S)&&(A=i[a][tr[l][L]],R=nr[7&A][l],!(v[2688*z+((A>>>=3)<<3|or[R][U])]>=S||p[495*A+d[_][R]]>=S)&&(r.move[r.length1-S]=L,r.valid1=Math.min(r.valid1,r.length1-S),Sr(r,z,U,A,R,_,S-1,L))))return!0;return!1}function wr(r,e,n,o,i,s,m,v,h){var d,p,g,y,b,S;if(0===e&&0===o&&0===s)return!0;for(b=0;b<10;++b)if(!zr[h][b]&&(S=l[s][b],g=a[e][fr[n][b]],y=cr[15&g][n],!(c[24*(g>>>=4)+u[S][y]]>=m)&&(d=t[o][ir[i][Er[b]]],p=cr[15&d][i],!(f[24*(d>>>=4)+u[S][p]]>=m)&&(r.move[v]=Er[b],wr(r,g,y,d,p,S,m-1,v+1,b)))))return!0;return!1}function Ar(r,e){var t,n;for(Lr(),n=0;n<54;++n)switch(e.charCodeAt(n)){case 85:r.f[n]=0;break;case 82:r.f[n]=1;break;case 70:r.f[n]=2;break;case 68:r.f[n]=3;break;case 76:r.f[n]=4;break;case 66:r.f[n]=5;break;default:return\"Error 1\"}return t=function(r){var e,t,n,o,a,i;for(e=new $,o=0;o<8;++o)e.cp[o]=0;for(o=0;o<12;++o)e.ep[o]=0;for(o=0;o<8;++o){for(i=0;i<3&&(0!==r[jr[o][i]]&&3!==r[jr[o][i]]);++i);for(t=r[jr[o][(i+1)%3]],n=r[jr[o][(i+2)%3]],a=0;a<8;++a)if(t===Mr[a][1]&&n===Mr[a][2]){e.cp[o]=a,e.co[o]=i%3;break}}for(o=0;o<12;++o)for(a=0;a<12;++a){if(r[Cr[o][0]]===xr[a][0]&&r[Cr[o][1]]===xr[a][1]){e.ep[o]=a,e.eo[o]=0;break}if(r[Cr[o][0]]===xr[a][1]&&r[Cr[o][1]]===xr[a][0]){e.ep[o]=a,e.eo[o]=1;break}}return e}(r.f),r.sol=25,function(r,e){var t;for(e.temps=new $,t=0;t<6;++t)r.twist[t]=C(e),r.tsym[t]=7&r.twist[t],r.twist[t]>>>=3,r.flip[t]=z(e),r.fsym[t]=7&r.flip[t],r.flip[t]>>>=3,r.slice_0[t]=F(e),r.corn0[t]=R(e),r.csym0[t]=15&r.corn0[t],r.corn0[t]>>>=4,r.mid30[t]=j(e),r.e10[t]=D(e),r.e20[t]=L(e),r.prun[t]=Math.max(Math.max(y[495*r.twist[t]+d[r.slice_0[t]][r.tsym[t]]],p[495*r.flip[t]+d[r.slice_0[t]][r.fsym[t]]]),v[2688*r.twist[t]+(r.flip[t]<<3|or[r.fsym[t]][r.tsym[t]])]),q(hr,e,e.temps),q(e.temps,vr,e),Q(hr,e,e.temps),Q(e.temps,vr,e),2===t&&P(e);for(r.solution=null,r.length1=0;r.length1<r.sol;++r.length1)for(r.maxlength2=Math.min(1+~~(r.sol/2),r.sol-r.length1),r.urfidx=0;r.urfidx<6;++r.urfidx)if(r.corn[0]=r.corn0[r.urfidx],r.csym[0]=r.csym0[r.urfidx],r.mid3[0]=r.mid30[r.urfidx],r.e1[0]=r.e10[r.urfidx],r.e2[0]=r.e20[r.urfidx],r.prun[r.urfidx]<=r.length1&&Sr(r,r.twist[r.urfidx],r.tsym[r.urfidx],r.flip[r.urfidx],r.fsym[r.urfidx],r.slice_0[r.urfidx],r.length1,18))return null===r.solution?\"Error 8\":r.solution;return\"Error 7\"}(r,t)}function Rr(){this.move=Array(31),this.corn=Array(20),this.csym=Array(20),this.mid3=Array(20),this.e1=Array(20),this.e2=Array(20),this.twist=Array(6),this.tsym=Array(6),this.flip=Array(6),this.fsym=Array(6),this.slice_0=Array(6),this.corn0=Array(6),this.csym0=Array(6),this.mid30=Array(6),this.e10=Array(6),this.e20=Array(6),this.prun=Array(6),this.count=Array(6),this.f=Array(54)}function Lr(r){Br||(Ir(),r(\"[0/9] Initializing Cubie Cube...\"),w(),gr=Array(2048),yr=Array(2187),pr=Array(40320),r(\"[1/9] Initializing Sym2Raw...\"),function(){var r,e,t,n,o,a,i,f,c,u,l,s;for(t=new $,o=new $,l=Array(1260),n=0,a=0;a<64;l[a++]=0);for(a=0;a<2048;++a)if(0==(l[a>>>5]&1<<(31&a))){for(k(t,a),s=0;s<16;s+=2)Q(Y[ar[s]],t,mr),Q(mr,Y[s],o),l[(i=U(o))>>>5]|=1<<(31&i),gr[i]=n<<3|s>>>1;rr[n++]=a}for(n=0,a=0;a<69;l[a++]=0);for(a=0;a<2187;++a)if(0==(l[a>>>5]&1<<(31&a))){for(B(t,a),s=0;s<16;s+=2)J(Y[ar[s]],t,mr),J(mr,Y[s],o),l[(i=x(o))>>>5]|=1<<(31&i),yr[i]=n<<3|s>>>1;ur[n++]=a}for((u=Array(2))[0]=Array(56),u[1]=Array(56),a=0;a<56;++a)u[0][a]=u[1][a]=0;for(a=0;a<40320;++a)W(t.ep,a),r=~~(D(t)/6),u[(e=~~(L(t)/6))>>5][r]|=1<<(31&e);for(a=0;a<56;++a)for(n=0,f=0;f<56;++f)0!=(u[f>>5][a]&1<<(31&f))&&(sr[a][f]=n++);for(n=0,a=0;a<1260;l[a++]=0);for(a=0;a<40320;++a)if(0==(l[a>>>5]&1<<(31&a))){for(W(t.ep,a),s=0;s<16;++s)Q(Y[ar[s]],t,mr),Q(mr,Y[s],o),l[(i=V(o.ep))>>>5]|=1<<(31&i),r=D(o),e=L(o),c=4032*sr[~~(r/6)][~~(e/6)]+12*r+e%6*2+Gr(i),er[c]=n<<4|s,pr[i]=n<<4|s;Z[n++]=a}}(),r(\"[2/9] Initializing CoordCube...\"),S(),r(\"[3/9] Initializing Perm, Flip, and Twist Moves...\"),function(){for(var r=new $,e=new $,n=0;n<2768;++n){W(r.cp,X[n]);for(var o=0;o<18;++o)q(r,br[o],e),t[n][o]=R(e)}}(),function(){for(var r=new $,e=new $,t=0;t<2768;++t){W(r.ep,Z[t]);for(var n=0;n<10;++n)Q(r,br[Er[n]],e),a[t][n]=_(e)}}(),function(){for(var r=new $,e=new $,t=0;t<336;++t){k(r,rr[t]);for(var n=0;n<18;++n)Q(r,br[n],e),i[t][n]=z(e)}}(),function(){for(var r=new $,e=new $,t=0;t<324;++t){B(r,ur[t]);for(var n=0;n<18;++n)q(r,br[n],e),h[t][n]=C(e)}}(),r(\"[4/9] Initializing UDSlice...\"),pr=null,gr=null,yr=null,function(){for(var r=new $,e=new $,t=0;t<495;++t){I(r,t);for(var n=0;n<18;++n)Q(r,br[n],e),g[t][n]=F(e)}}(),function(){for(var r=new $,e=new $,t=0;t<495;++t){I(r,t);for(var n=0;n<16;n+=2)N(r,ar[n],e),d[t][n>>>1]=F(e)}}(),r(\"[5/9] Initializing Mid3Move...\"),function(){for(var r=new $,e=new $,t=0;t<1320;++t){E(r,t);for(var n=0;n<18;++n)Q(r,br[n],e),m[t][n]=j(e)}}(),function(){var r,e;for(r=new $,e=0;e<24;++e)O(r,e),s[j(r)%24]=e}(),function(){for(var r=0;r<346;++r)e[r]=0;for(var t=0;t<2768;++t)e[t>>>3]=e[t>>>3]|Gr(X[t])<<(7&t)}(),r(\"[6/9] Initializing Perms...\"),function(){for(var r=new $,e=new $,t=0;t<24;++t){O(r,t);for(var n=0;n<10;++n)Q(r,br[Er[n]],e),l[t][n]=M(e)}}(),function(){for(var r=new $,e=new $,t=0;t<24;++t){O(r,t);for(var n=0;n<16;++n)N(r,ar[n],e),u[t][n]=M(e)}}(),r(\"[7/9] Initializing TwistFlipSlicePrun...\"),function(r){var e,t,n,o,a,f,c,u,l,s,m,b,S,w,A,R,L,_,z,M,j,C,F,D,P,O,E,I;for(e=Array(324),n=new $,a=new $,S=0;S<324;++S)for(e[S]=0,B(n,ur[S]),L=0;L<8;++L)J(Y[ar[L<<1]],n,mr),J(mr,Y[L<<1],a),65535!=Tr(ur,x(a))&&(e[S]=e[S]|1<<L);for(t=Array(336),S=0;S<336;++S)for(t[S]=0,k(n,rr[S]),L=0;L<8;++L)Q(Y[ar[L<<1]],n,mr),Q(mr,Y[L<<1],a),65535!=Tr(rr,U(a))&&(t[S]=t[S]|1<<L);for(S=0;S<870912;++S)v[S]=-1;for(S=0;S<8;++S)v[S]=0;for(f=0,c=8;c<870912;){for(M=(R=f>6)?-1:f,o=R?f:-1,++f,S=0;S<870912;++S)if(v[S]==M)for(E=~~(S/2688),u=S%2688,s=7&S,u>>>=3,z=0;z<18;++z)if(O=7&(I=h[E][z]),I>>>=3,l=i[u][tr[s][z]],m=or[nr[7&l][s]][O],v[w=2688*I+((l>>>=3)<<3|m)]===o){if(++c,R){v[S]=f;break}if(v[w]=f,F=e[I],D=t[l],1!=F||1!=D)for(L=0;L<8;++L,D>>=1)if(1==(1&D))for(b=or[m][L],_=0;_<8;++_)0!=(F&1<<_)&&(A=2688*I+(l<<3|or[b][_]),-1===v[A]&&(v[A]=f,++c))}r(\"TwistFlipPrun: \"+Math.floor(100*c/870912)+\"% (\"+c+\"/870912)\")}for(S=0;S<160380;++S)y[S]=-1;for(y[0]=0,f=0,c=1;c<160380;){for(M=(R=f>6)?-1:f,o=R?f:-1,++f,S=0;S<160380;++S)if(y[S]===M)for(j=S%495,E=~~(S/495),z=0;z<18;++z)if(P=7&(I=h[E][z]),C=d[g[j][z]][P],y[w=495*(I>>>=3)+C]===o){if(++c,R){y[S]=f;break}if(y[w]=f,1!=(F=e[I]))for(L=1;L<8;++L)1==(1&(F>>=1))&&(A=495*I+d[C][L],-1===y[A]&&(y[A]=f,++c))}r(\"UDSliceTwistPrun: \"+Math.floor(100*c/160380)+\"% (\"+c+\"/160380)\")}for(S=0;S<166320;++S)p[S]=-1;for(p[0]=0,f=0,c=1;c<166320;){for(M=(R=f>6)?-1:f,o=R?f:-1,++f,S=0;S<166320;++S)if(p[S]===M)for(j=S%495,u=~~(S/495),z=0;z<18;++z)if(P=7&(l=i[u][z]),C=d[g[j][z]][P],p[w=495*(l>>>=3)+C]===o){if(++c,R){p[S]=f;break}if(p[w]=f,1!=(F=t[l]))for(L=1;L<8;++L)1==(1&(F>>=1))&&(A=495*l+d[C][L],-1===p[A]&&(p[A]=f,++c))}r(\"UDSliceFlipPrun: \"+Math.floor(100*c/166320)+\"% (\"+c+\"/166320)\")}}(r),r(\"[8/9] Initializing MCEPermPrum...\"),function(r){var e,n,o,i,s,m,v,h,d,p,g,y,b,S,w,A,R=new $,L=new $,_=0,U=1,z=Array(2768);for(m=0;m<2768;++m)for(z[m]=0,W(R.ep,Z[m]),p=1;p<16;++p)Q(Y[ar[p]],R,mr),Q(mr,Y[p],L),65535!=Tr(Z,V(L.ep))&&(z[m]=z[m]|1<<p);for(m=0;m<66432;++m)c[m]=-1;for(c[0]=0;U<66432;){for(S=(d=_>7)?-1:_,e=d?_:-1,++_,m=0;m<66432;++m)if(c[m]===S)for(y=m%24,i=~~(m/24),g=0;g<10;++g)if(A=15&(s=a[i][g]),b=u[l[y][g]][A],c[v=24*(s>>>=4)+b]===e){if(++U,d){c[m]=_;break}if(c[v]=_,0!=(w=z[s]))for(p=1;p<16;++p)1==(1&(w>>=1))&&(h=24*s+u[b][p],-1===c[h]&&(c[h]=_,++U))}r(\"MEPermPrun: \"+Math.floor(100*U/66432)+\"% (\"+U+\"/66432)\")}for(m=0;m<66432;++m)f[m]=-1;for(f[0]=0,_=0,U=1;U<66432;){for(S=(d=_>7)?-1:_,e=d?_:-1,++_,m=0;m<66432;++m)if(f[m]===S)for(y=m%24,n=~~(m/24),g=0;g<10;++g)if(A=15&(o=t[n][Er[g]]),b=u[l[y][g]][A],f[v=24*(o>>>=4)+b]===e){if(++U,d){f[m]=_;break}if(f[v]=_,0!=(w=z[o]))for(p=1;p<16;++p)1==(1&(w>>=1))&&(h=24*o+u[b][p^lr[p]],-1===f[h]&&(f[h]=_,++U))}r(\"MCPermPrun: \"+Math.floor(100*U/66432)+\"% (\"+U+\"/66432)\")}}(r),r(\"[9/9] Done initializing 3x3x3...\"),Br=!0)}(r=Rr.prototype).inverse=!1,r.length1=0,r.maxlength2=0,r.sol=999,r.solution=null,r.urfidx=0,r.useSeparator=!1,r.valid1=0,r.valid2=0;var _r,Ur,zr,Mr,jr,xr,Cr,Fr,Dr,Pr,kr,Or,Er,Br=!1;function Ir(){Ir=b,jr=[[8,9,20],[6,18,38],[0,36,47],[2,45,11],[29,26,15],[27,44,24],[33,53,42],[35,17,51]],Cr=[[5,10],[7,19],[3,37],[1,46],[32,16],[28,25],[30,43],[34,52],[23,12],[21,41],[50,39],[48,14]],Mr=[[0,1,2],[0,2,4],[0,4,5],[0,5,1],[3,2,1],[3,4,2],[3,5,4],[3,1,5]],xr=[[0,1],[0,2],[0,4],[0,5],[3,1],[3,2],[3,4],[3,5],[2,1],[2,4],[5,4],[5,1]],_r=(0,n.createArray)(12,12),Fr=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600],Dr=[\"U \",\"U2\",\"U'\",\"R \",\"R2\",\"R'\",\"F \",\"F2\",\"F'\",\"D \",\"D2\",\"D'\",\"L \",\"L2\",\"L'\",\"B \",\"B2\",\"B'\"],Er=[0,1,2,4,7,9,10,11,13,16],Or=Array(18),Ur=(0,n.createArray)(19,18),zr=(0,n.createArray)(11,10),Pr=Array(24),kr=[[11,10,9],[10,11,9],[11,9,10],[9,11,10],[10,9,11],[9,10,11]];for(var r=0;r<10;++r)Or[Er[r]]=r;for(var e=0;e<18;++e){for(var t=0;t<18;++t)Ur[e][t]=~~(e/3)==~~(t/3)||~~(e/3)%3==~~(t/3)%3&&e>=t;Ur[18][e]=!1}for(var o=0;o<10;++o){for(var a=0;a<10;++a)zr[o][a]=Ur[Er[o]][Er[a]];zr[10][o]=!1}for(var i=0;i<12;++i)for(var f=0;f<12;++f)_r[i][f]=0;for(var c=0;c<12;++c){_r[c][0]=1,_r[c][c]=1;for(var u=1;u<c;++u)_r[c][u]=_r[c-1][u-1]+_r[c-1][u]}for(var l=0;l<24;++l)Pr[l]=$r(l)}function Tr(r,e){var t=r.length;if(e<=r[t-1])for(var n=0,o=t-1;n<=o;){var a=n+o>>>1,i=r[a];if(e>i)n=a+1;else{if(!(e<i))return a;o=a-1}}return 65535}function qr(r){return(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>8)+(r>>>4)&15}function Jr(r){for(var e=0,t=10;t>=0;--t)e+=r%(12-t),r=~~(r/(12-t));return e&=1}function $r(r){for(var e=0,t=2;t>=0;--t)e+=r%(4-t),r=~~(r/(4-t));return e&=1}function Gr(r){for(var e=0,t=6;t>=0;--t)e+=r%(8-t),r=~~(r/(8-t));return e&=1}function Hr(r){var e,t,n,o,a,i,f,c;for(n=Array(54),c=[85,82,70,68,76,66],o=0;o<54;++o)n[o]=c[~~(o/9)];for(e=0;e<8;++e)for(a=r.cp[e],f=r.co[e],i=0;i<3;++i)n[jr[e][(i+f)%3]]=c[Mr[a][i]];for(t=0;t<12;++t)for(a=r.ep[t],f=r.eo[t],i=0;i<2;++i)n[Cr[t][(i+f)%2]]=c[xr[a][i]];return String.fromCharCode.apply(null,n)}var Kr,Nr=Math,Qr=function(r){Nr=r},Vr=function(r){return Math.floor(Nr.random()*r)},Wr=function(r){for(var e=[],t=1;t<r.length;t++){for(var n=0,o=0;o<t;o++)r[o]>r[t]&&n++;e.push(n)}for(var a=0,i=r.length-1;i>0;i--)a=i*(e[i-1]+a);return a},Xr=function(r,e){for(var t=[],o=0;o<e.length;o++)t.push(r[e[o]]);for(var a=0;a<t.length;a++){var i=a+Vr(t.length-a);i>a&&(0,n.swap)(t,i,a)}for(var f=0;f<e.length;f++)r[e[f]]=t[f];return r},Yr=function(r,e,t,n,o,a,i,f){var c,u,l,s;do{u=a.length<=1?Wr(Xr([0,1,2,3,4,5,6,7,8,9,10,11],e)):Wr(a),c=o.length<=1?Wr(Xr([0,1,2,3,4,5,6,7],r)):Wr(o)}while(0!=(Gr(c)^Jr(u)));if(0===i)do{l=0,i=0;for(var m=0;m<t.length;m++){l+=v=Vr(3),i+=v*Math.pow(3,t[m])}}while(l%3!=0);if(0===f)do{s=0,f=0;for(m=0;m<n.length;m++){var v;s+=v=Vr(2),f+=v*Math.pow(2,n[m])}}while(s%2!=0);var h=Hr(new H(c,i%2187,u,f%2048));return Ar(Kr,h)};return{initialize:function(r){return e=void 0,t=r,\"function\"!=typeof n&&(n=function(){}), false||(Kr=new Rr,Lr(n),t&&Qr(t),!0),void(e&&setTimeout(e,0));var e,t,n},setRandomSource:Qr,setScrambleLength:function(){},customScramble:function(r,e,t,n){var o,a,i,f,c,u;do{a=Wr(Xr([0,1,2,3,4,5,6,7,8,9,10,11],e)),o=Wr(Xr([0,1,2,3,4,5,6,7],r))}while(0!=(Gr(o)^Jr(a)));do{f=0,i=0;for(var l=0;l<t.length;l++){f+=s=Vr(3),i+=s*Math.pow(3,t[l])}}while(f%3!=0);do{u=0,c=0;for(l=0;l<n.length;l++){var s;u+=s=Vr(2),c+=s*Math.pow(2,n[l])}}while(u%2!=0);var m=Hr(new H(o,i%2187,a,c%2048));return Ar(Kr,m)},customScramble2:Yr,getCustomScramble:function(r){return Yr(r.cp||[],r.ep||[],r.co||[],r.eo||[],r.cpa||[],r.epa||[],r.cori||0,r.eori||0)},rn:Vr,shuffle:function(r){for(var e=r.length-1;e>0;e--){var t=Math.floor(Nr.random()*(e+1));(0,n.swap)(r,e,t)}return r},getRandomCO:function(r){if(r.length){var e=r.filter((function(r){return!!o.coSubsets[r]}));return o.coSubsets[e[Vr(r.length)]]}var t=Object.keys(o.coSubsets);return o.coSubsets[t[Vr(t.length)]]}}}()},(r,e,t)=>{t.r(e),t.d(e,{createArray:()=>i,shift:()=>n,sum:()=>a,swap:()=>o});var n=function(r,e){return r.concat(r).slice(e,e+r.length)},o=function(r,e,t){var n=r[e];r[e]=r[t],r[t]=n},a=function(r){return r.reduce((function(r,e){return r+e}))},i=function(r,e){for(var t=Array(r),n=0;n<r;t[n++]=Array(e));return t}},(r,e,t)=>{t.r(e),t.d(e,{coSubsets:()=>n});var n={U:[2,0,0,1],T:[1,0,0,2],L:[1,0,2,0],S:[2,2,2,0],As:[1,1,1,0],Pi:[1,2,2,1],H:[1,2,1,2]}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>f});var n=t(8),o=t(9);function a(r){return function(r){if(Array.isArray(r))return i(r)}(r)||function(r){if(\"undefined\"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r[\"@@iterator\"])return Array.from(r)}(r)||function(r,e){if(!r)return;if(\"string\"==typeof r)return i(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);\"Object\"===t&&r.constructor&&(t=r.constructor.name);if(\"Map\"===t||\"Set\"===t)return Array.from(r);if(\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(r,e)}(r)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}const f=function(r){r(\"2gll\",function(r){var e=function(e){var t=r.getRandomCO(e),n=[0,0,0].concat(a((0,o.shift)(t,r.rn(4))),[0]).reverse();return r.getCustomScramble({ep:[8,9,10,11],cori:parseInt(n.join(\"\"),3)})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:e(r)}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(8),o=t(9);const a=function(r){r(\"ble\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:(t=(0,o.shift)([8,9,10,11],r.rn(4)),r.getCustomScramble({cp:[4,5,6,7],epa:[0,1,2,t[0],4,5,6,7,t[1],t[2],t[3],3],cori:parseInt((e=[0,0,1,r.rn(3),r.rn(3),r.rn(3),0,0],e[6]=(3-(0,o.sum)(e)%3)%3,e).reverse().join(\"\"),3)}))};var e,t},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(8),o=t(9);const a=function(r){r(\"cls\",function(r){var e=r.rn,t=r.shuffle,n={\"-\":function(r){var n=t([4,5,6,7]),a=r<0?[e(3),e(3),e(3)]:[r>0?e(2)+1:0,r>1?e(2)+1:0,r>2?e(2)+1:0],i=(0,o.shift)(a,e(3)),f=[0,0,0,i[0],i[1],i[2],2,0];return f[2]=(3-(0,o.sum)(f)%3)%3,f.reverse(),{cp:[3,4,5,6],cpa:[0,1,2,n[0],n[1],n[2],n[3],3],ep:[8,9,10,11],cori:parseInt(f.join(\"\"),3)}},\"+\":function(){var r=t([4,5,6,7]),n=(0,o.shift)([e(3),e(3),e(3)],e(1)),a=[0,0,0,n[0],n[1],n[2],1,0];return a[2]=(3-(0,o.sum)(a)%3)%3,a.reverse(),{cp:[3,4,5,6],cpa:[0,1,2,r[0],r[1],r[2],r[3],3],ep:[8,9,10,11],cori:parseInt(a.join(\"\"),3)}},O:function(){var r=t([4,5,6,7]),n=(0,o.shift)([e(3),e(3),e(3)],e(1)),a=[0,0,0,n[0],n[1],n[2],0,0];return a[2]=(3-(0,o.sum)(a)%3)%3,a.reverse(),{cp:[3,4,5,6],cpa:[0,1,2,r[0],r[1],r[2],r[3],3],ep:[8,9,10,11],cori:parseInt(a.join(\"\"),3)}},i:function(){var r=t([4,5,6,7]),n=(0,o.shift)([e(3),e(3),e(3)],e(4)),a=[0,0,1,n[0],n[1],n[2],0,0];return a[6]=(3-(0,o.sum)(a)%3)%3,a.reverse(),{cp:[3,4,5,6],cpa:[0,1,2,3,r[0],r[1],r[2],r[3]],ep:[8,9,10,11],cori:parseInt(a.join(\"\"),3)}},im:function(){var r=t([4,5,6,7]),n=(0,o.shift)([e(3),e(3),e(3)],e(4)),a=[0,0,2,n[0],n[1],n[2],0,0];return a[6]=(3-(0,o.sum)(a)%3)%3,a.reverse(),{cp:[3,4,5,6],cpa:[0,1,2,3,r[0],r[1],r[2],r[3]],ep:[8,9,10,11],cori:parseInt(a.join(\"\"),3)}}},a=function(t){if(t.length){var o=n[t[e(t.length)]];return r.getCustomScramble(o(2))}var a=Object.keys(n),i=n[a[e(a.length)]];return r.getCustomScramble(i())};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:a(r)}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>f});var n=t(8),o=t(9);function a(r){return function(r){if(Array.isArray(r))return i(r)}(r)||function(r){if(\"undefined\"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r[\"@@iterator\"])return Array.from(r)}(r)||function(r,e){if(!r)return;if(\"string\"==typeof r)return i(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);\"Object\"===t&&r.constructor&&(t=r.constructor.name);if(\"Map\"===t||\"Set\"===t)return Array.from(r);if(\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(r,e)}(r)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}const f=function(r){r(\"cmll\",function(r){var e=function(e){var t=r.getRandomCO(e),n=[0,0,0].concat(a((0,o.shift)(t,r.rn(4))),[0]).reverse();return r.getCustomScramble({cp:[4,5,6,7],ep:[4,6,8,9,10,11],cori:parseInt(n.join(\"\"),3),eo:[0,1,2,3,5,7]})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:e(r)}},setScrambleLength:r.setScrambleLength}}(n.default),[\"l10p\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(8),o=t(9);const a=function(r){r(\"cmllsune\",function(r){var e=function(){var e=r.rn(2)+1,t=(0,o.shift)([e,e,e,0],r.rn(4)),n=[0,0,0,t[0],t[1],t[2],t[3],0].reverse();return r.getCustomScramble({cp:[4,5,6,7],ep:[4,6,8,9,10,11],cori:parseInt(n.join(\"\"),3),eo:[0,1,2,3,5,7]})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:e()}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"edges\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([],[0,1,2,3,4,5,6,7,8,9,10,11],[],[0,1,2,3,4,5,6,7,8,9,10,11])}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"333fm\",function(r){function e(){var e,t,n,o,a=\"\";do{var i=(a=r.customScramble([0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8,9,10,11],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8,9,10,11])).split(\" \");i.length<3||(e=i[0][0],t=i[1][0],n=i[i.length-2][0],o=i[i.length-3][0])}while(\"F\"==e||\"B\"==e&&\"F\"==t||\"R\"==n||\"L\"==n&&\"R\"==o);return\"R' U' F \"+a+\"R' U' F\"}return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:e()}},setScrambleLength:r.setScrambleLength}}(n.default),[\"fmc\",\"333fmc\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>i});var n=t(8),o=t(19),a=t(9);const i=function(r){r(\"lccp\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:(e=(0,a.shift)([4,6,5],1),t=[0,1,2,e[0],e[1],e[2],7,3],r.getCustomScramble({ep:[o.EP.UF,o.EP.UB],cpa:t,co:[o.CO.FRU,o.CO.FRD]}))};var e,t},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{CO:()=>n,CP:()=>o,EO:()=>i,EP:()=>a});var n={BLD:0,FLD:1,FRD:2,BRU:3,BLU:4,FLU:5,FRU:6,BRD:7},o={BDR:0,BLD:1,FLD:2,DFR:3,BRU:4,BLU:5,FLU:6,FRU:7},a={BR:0,BL:1,FL:2,FR:3,DB:4,DL:5,DF:6,DR:7,UB:8,UL:9,UF:10,UR:11},i={UR:0,UF:1,UL:2,UB:3,DL:4,DF:5,DR:6,DB:7,FR:8,FL:9,BL:10,BR:11}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"ll\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([4,5,6,7],[8,9,10,11],[3,4,5,6],[0,1,2,3])}},setScrambleLength:r.setScrambleLength}}(n.default),[\"oll\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"lsll\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([3,4,5,6,7],[3,8,9,10,11],[2,3,4,5,6],[0,1,2,3,8])}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){var e=function(r,e){var t=e,n=Math,o=[\" \",\"2\",\"'\"],a=function(r){return r[Math.floor(n.random()*r.length)]},i=function(r){n=r},f=function(){for(var e=\"\",i=[],f=0;f<1;f++){for(var c=\"\",u=-1,l=0;l<t;l++){var s=0;do{var m=Math.floor(n.random()*r.length),v=Math.floor(n.random()*r[m].length);if(m!=u){for(var h=0;h<r[m].length;h++)i[h]=0;u=m}0==i[v]&&(i[v]=1,\"array\"==typeof r[m][v]?c+=a(r[m][v])+a(o)+\" \":c+=r[m][v]+a(o)+\" \",s=1)}while(0==s)}e+=c}return e.trim()};return{initialize:function(r){r&&i(r)},setRandomSource:i,setScrambleLength:function(r){t=r},getRandomScramble:function(){return{scramble_string:f()}}}};r(\"lse\",e([[\"U\"],[\"M\"]],20),[\"mu\"]),r(\"ru\",e([[\"R\"],[\"U\"]],20)),r(\"lu\",e([[\"L\"],[\"U\"]],20)),r(\"rud\",e([[\"R\"],[\"U\",\"D\"]],24)),r(\"rul\",e([[\"R\",\"L\"],[\"U\"]],24))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(8),o=t(19);const a=function(r){r(\"nls\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.getCustomScramble({co:[o.CO.FLU,o.CO.FRU,o.CO.BRU,o.CO.DFR],cp:[o.CP.FLU,o.CP.FRU,o.CP.BRU,o.CP.DFR],ep:[o.EP.UF,o.EP.UR,o.EP.FR]})}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"pll\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([4,5,6,7],[8,9,10,11],[],[])}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>c});var n=t(8),o=t(19),a=t(9);function i(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if(\"undefined\"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r[\"@@iterator\"])return Array.from(r)}(r)||function(r,e){if(!r)return;if(\"string\"==typeof r)return f(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);\"Object\"===t&&r.constructor&&(t=r.constructor.name);if(\"Map\"===t||\"Set\"===t)return Array.from(r);if(\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(r,e)}(r)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function f(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}const c=function(r){r(\"trizbll\",function(r){var e=[[o.EP.UR,o.EP.UF],[o.EP.UF,o.EP.UL],[o.EP.UL,o.EP.UB],[o.EP.UB,o.EP.UR]],t={T:[[1,0,0,2],[0,0,2,1]],U:[[2,0,0,1],[0,0,1,2]],L:[[1,0,2,0],[2,0,1,0]],S:[[2,0,2,2]],As:[[1,0,1,1]]},n=function(n){var f=r.rn(4),c=function(e){if(e.length){var n=e.filter((function(r){return!!t[r]}));return t[n[r.rn(n.length)]]}var o=Object.keys(t);return t[o[r.rn(o.length)]]}(n),u=(0,a.shift)(c[0],f),l=[0,0,0].concat(i(u),[0]).reverse(),s=(0,a.shift)([o.CP.BLU,o.CP.BRU,o.CP.FRU,o.CP.FLU],f),m=s[0];return s=r.shuffle(s.slice(1,4)),s=[4,5,6,7].map((function(r){return r===m?m:s.splice(-1)[0]})),r.getCustomScramble({ep:e[f],cpa:[0,1,2,3].concat(i(s)),cori:parseInt(l.join(\"\"),3)})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:n(r)}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(8),o=t(9);const a=function(r){r(\"tsle\",function(r){var e={twoGen:function(){var e=(0,o.shift)([4,5,6,7],r.rn(4));return{cpa:[0,1,2,e[0],3,e[2],e[1],e[3]],ep:[8,9,10,11]}}},t=function(t){if(t.length){var n=e[t[rn(t.length)]];return r.getCustomScramble(n())}var o=Object.keys(e),a=e[o[r.rn(o.length)]];return r.getCustomScramble(a())};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:t(r)}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>a});var n=t(8),o=t(9);const a=function(r){r(\"wv\",function(r){var e=function(){var e=r.rn,t=(0,o.shift)([8,9,10,11],0),n=[0,1,2,t[0],4,5,6,7,t[1],t[2],3,t[3]],a=[0,0,0,e(3),e(3),2,e(3),0];a[2]=(3-(0,o.sum)(a)%3)%3;var i=parseInt(a.reverse().join(\"\"),3);return r.getCustomScramble({cpa:[0,1,2,4,5,6,3,7],cori:i,epa:n})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:e()}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>c});var n=t(8),o=t(19),a=t(9);function i(r){return function(r){if(Array.isArray(r))return f(r)}(r)||function(r){if(\"undefined\"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r[\"@@iterator\"])return Array.from(r)}(r)||function(r,e){if(!r)return;if(\"string\"==typeof r)return f(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);\"Object\"===t&&r.constructor&&(t=r.constructor.name);if(\"Map\"===t||\"Set\"===t)return Array.from(r);if(\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(r,e)}(r)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function f(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}const c=function(r){r(\"zbll\",function(r){var e=function(e){var t=r.getRandomCO(e),n=[0,0,0].concat(i((0,a.shift)(t,r.rn(4))),[0]).reverse();return r.getCustomScramble({ep:[o.EP.UF,o.EP.UL,o.EP.UB,o.EP.UR],cp:[o.CP.FLU,o.CP.FRU,o.CP.BRU,o.CP.BLU],cori:parseInt(n.join(\"\"),3)})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:e(r)}},setScrambleLength:r.setScrambleLength}}(n.default),[\"coll\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"zz\",function(r){var e=function(e){for(var t=function(e){var t=e.filter((function(r){return/\\d+/.test(r)})).map((function(r){return+r}));return t.length?t[r.rn(t.length)]:0}(e),n=[0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<t;o++)n[o]=1;return r.getCustomScramble({cp:[0,1,2,3,4,5,6],ep:[0,1,2,3,4,5,6,7,8,9,10,11],co:[0,1,2,3,4,5,6],eori:parseInt(r.shuffle(n).join(\"\"),2)})};return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(r){return{scramble_string:e(r)}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"zzll\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([3,4,5,6,7],[3,8,9,10,11],[2,3,4,5,6],[])}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var n=t(8);const o=function(r){r(\"zzlsll\",function(r){return{initialize:r.initialize,setRandomSource:r.setRandomSource,getRandomScramble:function(){return{scramble_string:r.customScramble([2,3,4,5,6,7],[2,3,8,9,10,11],[1,2,3,4,5,6],[])}},setScrambleLength:r.setScrambleLength}}(n.default))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){var e=function(r,e,t){var n,o,a=e,i=new Array(\"y\",\"yellow.jpg\",\"yellow\",\"b\",\"blue.jpg\",\"blue\",\"r\",\"red.jpg\",\"red\",\"w\",\"white.jpg\",\"white\",\"g\",\"green.jpg\",\"green\",\"o\",\"orange.jpg\",\"orange\",\"p\",\"purple.jpg\",\"purple\",\"0\",\"grey.jpg\",\"grey\"),f=new Array,c=new Array,u=new Array,l=new Array;function s(r,e,t,n){for(var o=0;o<t;o++)if(e[o]){var a=e[o]-1,i=n,f=o;o+o+1>=t&&(i+=3,f=t-1-f,a=2-a),r[r.length]=4*(6*f+i)+a}}function m(e){for(var n,o=\"\",a=0;a<c[e].length-1;a++){0!=a&&(o+=\" \");var i=c[e][a]>>2;(i=(i-(n=i%6))/6)&&r<=5&&!t?o+=\"dlburf\".charAt(n):r<=5&&t?(o+=\"DLBURF\".charAt(n),i&&(o+=\"w\")):(i>1&&(o+=i+1),o+=\"DLBURF\".charAt(n),i&&(o+=\"w\")),0!=(n=3&c[e][a])&&(o+=\" 2'\".charAt(n))}return o}function v(e,t,n){var o,a,i,f,c,l,s,m,v=r*r;for(e>5&&(e-=6),m=0;m<n;m++){for(l=0;l<r;l++)0===e?(o=6*v-r*t-r+l,a=2*v-r*t-1-l,i=3*v-r*t-1-l,f=5*v-r*t-r+l):1===e?(o=3*v+t+r*l,a=3*v+t-r*(l+1),i=v+t-r*(l+1),f=5*v+t+r*l):2===e?(o=3*v+t*r+l,a=4*v+r-1-t+r*l,i=t*r+r-1-l,f=2*v-1-t-r*l):3===e?(o=4*v+t*r+r-1-l,a=2*v+t*r+l,i=v+t*r+l,f=5*v+t*r+r-1-l):4===e?(o=6*v-1-t-r*l,a=r-1-t+r*l,i=2*v+r-1-t+r*l,f=4*v-1-t-r*l):5===e&&(o=4*v-r-t*r+l,a=2*v-r+t-r*l,i=v-1-t*r-l,f=4*v+t+r*l),c=u[o],u[o]=u[a],u[a]=u[i],u[i]=u[f],u[f]=c;if(0===t)for(l=0;l+l<r;l++)for(s=0;s+s<r-1;s++)i=e*v+(r-1-l)+(r-1-s)*r,e<3?(a=e*v+(r-1-s)+l*r,f=e*v+s+(r-1-l)*r):(f=e*v+(r-1-s)+l*r,a=e*v+s+(r-1-l)*r),c=u[o=e*v+l+s*r],u[o]=u[a],u[a]=u[i],u[i]=u[f],u[f]=c}}l[0]=new Array(0,1,2,3,4,5),l[1]=new Array(0,2,4,3,5,1),l[2]=new Array(0,4,5,3,1,2),l[3]=new Array(0,5,1,3,2,4),l[4]=new Array(1,0,5,4,3,2),l[5]=new Array(1,2,0,4,5,3),l[6]=new Array(1,3,2,4,0,5),l[7]=new Array(1,5,3,4,2,0),l[8]=new Array(2,0,1,5,3,4),l[9]=new Array(2,1,3,5,4,0),l[10]=new Array(2,3,4,5,0,1),l[11]=new Array(2,4,0,5,1,3),l[12]=new Array(3,1,5,0,4,2),l[13]=new Array(3,2,1,0,5,4),l[14]=new Array(3,4,2,0,1,5),l[15]=new Array(3,5,4,0,2,1),l[16]=new Array(4,0,2,1,3,5),l[17]=new Array(4,2,3,1,5,0),l[18]=new Array(4,3,5,1,0,2),l[19]=new Array(4,5,0,1,2,3),l[20]=new Array(5,0,4,2,3,1),l[21]=new Array(5,1,0,2,4,3),l[22]=new Array(5,3,1,2,0,4),l[23]=new Array(5,4,3,2,1,0);var h=function(r){n=r},d=!1,p=function(e){d||(!function(){var e;for(o=new Array(12*r*r),n=0;n<o.length;n++)o[n]=-1;for(n=0;n<r;n++)for(e=0;e<r;e++)o[4*r*(3*r-n-1)+r+e]=n*r+e,o[4*r*(r+n)+r-e-1]=(r+n)*r+e,o[4*r*(r+n)+4*r-e-1]=(2*r+n)*r+e,o[4*r*n+r+e]=(3*r+n)*r+e,o[4*r*(r+n)+2*r+e]=(4*r+n)*r+e,o[4*r*(r+n)+r+e]=(5*r+n)*r+e;for(var t=0;t<6;t++){f[t]=i.length-3;for(var n=0;n<i.length;n+=3)if(\"yobwrg\".charAt(t)===i[n]){f[t]=n;break}}}(),d=!0),e&&setTimeout(e,0)};return{version:\"July 05, 2015\",initialize:function(r){return function(r,e){p(),h(e),r&&setTimeout(r,0)}(void 0,r)},setRandomSource:h,setScrambleLength:function(r){a=r},getRandomScramble:function(){return function(){var e=r;(t||0!=(1&r))&&e--;for(var o,i=new Array(e),f=new Array(0,0,0),u=0;u<1;u++){o=-1,c[u]=new Array;for(var l=0;l<e;l++)i[l]=0;f[0]=f[1]=f[2]=0;for(var m=0;c[u].length+m<a;){var v,h,d;do{do{v=Math.floor(3*n.random()),h=Math.floor(n.random()*e),d=Math.floor(3*n.random())}while(v===o&&0!=i[h])}while(v===o&&!t&&e===r&&(2*f[0]===e||2*f[1]===e||2*f[2]===e||2*(f[d]+1)===e&&f[0]+f[1]+f[2]-f[d]>0));if(v!=o){for(s(c[u],i,e,o),l=0;l<e;l++)i[l]=0;f[0]=f[1]=f[2]=0,m=0,o=v}f[d]++,m++,i[h]=d+1}s(c[u],i,e,o),c[u][c[u].length]=0}}(),function(e){var n,o,a,i=0;for(n=0;n<6;n++)for(o=0;o<r*r;o++)u[i++]=n;for(n=0;n<c[e].length-1;n++){for(a=3&c[e][n],o=c[e][n]>>2,i=0;o>5;)o-=6,i++;do{v(o,i,a+1),i--}while(t&&i>=0)}}(0),{state:u,scramble_string:m(0)}}}};r(\"444\",e(4,40,!0),[\"4\",\"4x4\",\"4x4x4\"]),r(\"555\",e(5,60,!0),[\"5\",\"5x5\",\"5x5x5\"]),r(\"666\",e(6,70,!0),[\"6\",\"6x6\",\"6x6x6\"]),r(\"777\",e(7,100,!0),[\"7\",\"7x7\",\"7x7x7\"])}},(r,e,t)=>{var n;t.r(e),t.d(e,{default:()=>a});var o=function(r){return Math.floor(n.random()*r)};const a=function(r){r(\"clock\",{version:\"July 12, 2023\",initialize:function(r){n=r},getRandomScramble:function(){var r=[\"0+\",\"1+\",\"2+\",\"3+\",\"4+\",\"5+\",\"6+\",\"1-\",\"2-\",\"3-\",\"4-\",\"5-\"],e=\"\";return{scramble_string:e+=\"UR\".concat(r[o(12)],\" DR\").concat(r[o(12)],\" DL\").concat(r[o(12)],\" UL\").concat(r[o(12)],\" U\").concat(r[o(12)],\" R\").concat(r[o(12)],\" D\").concat(r[o(12)],\" L\").concat(r[o(12)],\" ALL\").concat(r[o(12)],\" y2 U\").concat(r[o(12)],\" R\").concat(r[o(12)],\" D\").concat(r[o(12)],\" L\").concat(r[o(12)],\" ALL\").concat(r[o(12)],\" \").concat([\"UR\",\"UL\",\"DR\",\"DL\",\"UR DR DL UL\",\"UR DR DL\",\"UR DR UL\",\"UR DL UL\",\"DR DL UL\",\"DR UL\",\"UR DL\",\"UR DR\",\"DL UL\",\"UR UL\",\"DR DL\",\"\"][o(16)])}},setScrambleLength:function(){}},[\"clock-wca\"])}},(r,e,t)=>{var n;t.r(e),t.d(e,{default:()=>u});var o=function(r){return Math.floor(n.random()*r)},a=function(r){return r[o(r.length)]},i={fto:{moves:[[[\"U\",\"D\"],[\"F\",\"B\"],[\"L\",\"BR\"],[\"R\",\"BL\"]],[\"\",\"'\"]],length:30}};function f(){for(var r,e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[\"\"]],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[\"\"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=0,c=-1,u=[],l=0;l<i;l++){do{r=o(t.length),e=o(t[r].length),r!=c&&(f=0,c=r)}while(0!=(f>>e&1));f|=1<<e,t[r][e].constructor==Array?u.push(a(t[r][e])+a(n)):u.push(t[r][e]+a(n))}return u.join(\" \")}function c(r,e){var t=i[r];switch(t.moves.length){case 1:return f(t.moves[0],[\"\"],e||t.length);case 2:return f(t.moves[0],t.moves[1],e||t.length);case 3:return f(t.moves[0],t.moves[1],t.moves[2])}}const u=function(r){var e=function(r,e,t){var o=t,a=function(r){n=r};return{initialize:a,setRandomSrc:a,getRandomScramble:function(){return{scramble_string:r(e,o||i.length)}},setScrambleLength:function(r){o=r}}};for(var t in i)r(t,e(c,t,i[t].length))}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){r(\"minx\",function(){var r,e=10,t=[4,0,1,2,3,9,5,6,7,8,10,11,12,13,58,59,16,17,18,63,20,21,22,23,24,14,15,27,28,29,19,31,32,33,34,35,25,26,38,39,40,30,42,43,44,45,46,36,37,49,50,51,41,53,54,55,56,57,47,48,60,61,62,52,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],n=[1,2,3,4,0,6,7,8,9,5,10,11,12,13,25,26,16,17,18,30,20,21,22,23,24,36,37,27,28,29,41,31,32,33,34,35,47,48,38,39,40,52,42,43,44,45,46,58,59,49,50,51,63,53,54,55,56,57,14,15,60,61,62,19,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131],o=[0,1,2,3,4,5,6,7,8,9,10,33,34,35,14,15,38,39,40,19,42,43,44,45,46,25,26,49,50,51,30,53,54,55,56,57,36,37,60,61,62,41,64,65,11,12,13,47,48,16,17,18,52,20,21,22,23,24,58,59,27,28,29,63,31,32,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,124,125,121,122,123,129,130,126,127,128,131],a=[0,1,2,3,4,5,6,7,8,9,10,44,45,46,14,15,49,50,51,19,53,54,55,56,57,25,26,60,61,62,30,64,65,11,12,13,36,37,16,17,18,41,20,21,22,23,24,47,48,27,28,29,52,31,32,33,34,35,58,59,38,39,40,63,42,43,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,123,124,125,121,122,128,129,130,126,127,131],i=[81,77,78,3,4,86,82,83,8,85,87,122,123,124,125,121,127,128,129,130,126,131,89,90,24,25,88,94,95,29,97,93,98,33,34,35,36,37,38,39,40,41,42,43,44,26,22,23,48,30,31,27,28,53,32,69,70,66,67,68,74,75,71,72,73,76,101,102,103,99,100,106,107,108,104,105,109,46,47,79,80,45,51,52,84,49,50,54,0,1,2,91,92,5,6,7,96,9,10,15,11,12,13,14,20,16,17,18,19,21,113,114,110,111,112,118,119,115,116,117,120,55,56,57,58,59,60,61,62,63,64,65],f=[88,89,90,3,4,93,94,95,8,97,98,100,101,102,103,99,105,106,107,108,104,109,46,47,24,25,45,51,52,29,49,50,54,33,34,35,36,37,38,39,40,41,42,43,44,81,77,78,48,85,86,82,83,53,87,121,122,123,124,125,126,127,128,129,130,131,57,58,59,55,56,62,63,64,60,61,65,1,2,79,80,0,6,7,84,9,5,10,26,22,23,91,92,31,27,28,96,30,32,69,70,66,67,68,74,75,71,72,73,76,112,113,114,110,111,117,118,119,115,116,120,15,11,12,13,14,20,16,17,18,19,21];function c(r,e){for(var t=[],n=0;n<132;n++)t[n]=r[e[n]];return t}return{version:\"July 05, 2015\",initialize:function(e){r=e},getRandomScramble:function(){var u=new Array;for(l=0;l<7*e;l++)u[l]=Math.floor(2*r.random());var l,s,m=\"\",v=[];for(l=0;l<12;l++)for(s=0;s<11;s++)v[11*l+s]=l;for(s=0;s<7;s++){for(l=0;l<e;l++)l%2?u[s*e+l]?(m+=\"D++ \",v=c(v,o)):(m+=\"D-- \",v=c(v,a)):u[s*e+l]?(m+=\"R++ \",v=c(v,i)):(m+=\"R-- \",v=c(v,f));u[(s+1)*e-1]?(m+=\"U\",v=c(v,t)):(m+=\"U'\",v=c(v,n)),s<6&&(m+=\"\\n\")}return{state:v,scramble_string:m}},setScrambleLength:function(r){e=r}}}(),[\"mega\",\"megaminx\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){r(\"pyram\",function(){var r=[\"g\",\"green.jpg\",\"green\",\"r\",\"red.jpg\",\"red\",\"y\",\"yellow.jpg\",\"yellow\",\"b\",\"blue.jpg\",\"blue\",\"w\",\"white.jpg\",\"white\",\"o\",\"orange.jpg\",\"orange\",\"p\",\"purple.jpg\",\"purple\",\"0\",\"gray.jpg\",\"grey\"],e=[],t=[],n=[];function o(){for(var e=0;e<6;e++){t[e+1]=r.length-3;for(var n=0;n<r.length;n+=3)if(\"xgryb\".charAt(e)==r[n]){t[e+1]=n;break}}}function a(r){e[r]=[1,1,1,1,1,0,2,0,3,3,3,3,3,0,1,1,1,0,2,2,2,0,3,3,3,0,0,0,1,0,2,2,2,2,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0]}o();var i,f,c=[],u=[],l=[],s=[],m=[],v=[],h=[];function d(){4==i&&clearTimeout(f),[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3],i=0,m.length=0}var p=[];function g(){var r,e,t,n,o=0,a=0,i=0;v=[0,1,2,3,4,5];for(var f=0;f<4;f++){var c=f+Math.floor(L.random()*(6-f)),u=v[f];v[f]=v[c],v[c]=u,f!=c&&i++}if(i%2==1){u=v[4];v[4]=v[5],v[5]=u}i=0,h=[];for(f=0;f<5;f++)h[f]=Math.floor(2*L.random()),i+=h[f];h[5]=i%2;for(f=6;f<10;f++)h[f]=Math.floor(3*L.random());for(r=0;r<6;r++){for(e=0,t=0;t<6&&v[t]!=r;t++)v[t]>r&&e++;a=a*(6-r)+e}for(r=9;r>=6;r--)o=3*o+h[r];for(r=4;r>=0;r--)o=2*o+h[r];if(0!=a||0!=o)for(n=7;n<12&&!y(a,o,n,-1);n++);}function y(r,e,t,n){if(0==t){if(0==r&&0==e)return!0}else{if(c[r]>t||u[e]>t)return!1;var o,a,i,f;for(f=0;f<4;f++)if(f!=n)for(o=r,a=e,i=0;i<2;i++){if(o=l[o][f],a=s[a][f],m[m.length]=f+8*i,y(o,a,t-1,f))return!0;m.length--}}return!1}function b(r,e){var t,n,o,a=[],i=r;for(t=1;t<=6;t++){for(n=i-t*(o=Math.floor(i/t)),i=o,o=t-1;o>=n;o--)a[o+1]=a[o];a[n]=6-t}for(0==e?R(a,0,3,1):1==e?R(a,1,5,2):2==e?R(a,0,2,4):3==e&&R(a,3,4,5),i=0,t=0;t<6;t++){for(n=0,o=0;o<6&&a[o]!=t;o++)a[o]>t&&n++;i=i*(6-t)+n}return i}function S(r,e){var t,n,o,a=0,i=[],f=r;for(t=0;t<=4;t++)i[t]=1&f,f>>=1,a^=i[t];for(i[5]=a,t=6;t<=9;t++)n=f-3*(o=Math.floor(f/3)),f=o,i[t]=n;for(0==e?(i[6]++,3==i[6]&&(i[6]=0),R(i,0,3,1),i[1]^=1,i[3]^=1):1==e?(i[7]++,3==i[7]&&(i[7]=0),R(i,1,5,2),i[2]^=1,i[5]^=1):2==e?(i[8]++,3==i[8]&&(i[8]=0),R(i,0,2,4),i[0]^=1,i[2]^=1):3==e&&(i[9]++,3==i[9]&&(i[9]=0),R(i,3,4,5),i[3]^=1,i[4]^=1),f=0,t=9;t>=6;t--)f=3*f+i[t];for(t=4;t>=0;t--)f=2*f+i[t];return f}function w(r,e,t){switch(r){case 0:A(t,14,58,18,e),A(t,15,57,31,e),A(t,16,70,32,e),A(t,30,28,56,e);break;case 1:A(t,32,72,22,e),A(t,33,59,23,e),A(t,20,58,24,e),A(t,34,60,36,e);break;case 2:A(t,14,10,72,e),A(t,1,11,71,e),A(t,2,24,70,e),A(t,0,12,84,e);break;case 3:A(t,2,18,22,e),A(t,3,19,9,e),A(t,16,20,10,e),A(t,4,6,8,e);break;case 4:A(t,30,28,56,e);break;case 5:A(t,34,60,36,e);break;case 6:A(t,0,12,84,e);break;case 7:A(t,4,6,8,e)}}function A(r,t,n,o,a){2==a?R(e[r],o,n,t):R(e[r],t,n,o)}function R(r,e,t,n){var o=r[e];r[e]=r[t],r[t]=r[n],r[n]=o}p[0]=[0,18,9,6,24,15,1,19,11,2,20,10],p[1]=[23,3,30,26,7,34,22,1,31,20,4,28],p[2]=[5,14,32,8,17,35,4,11,29,2,13,31],p[3]=[12,21,27,16,25,33,13,19,28,10,22,29];var L,_=function(r){L=r};return{version:\"July 05, 2015\",initialize:function(r){_(r),o(),function(){var r,e,t,n,o;for(e=0;e<720;e++)for(c[e]=-1,l[e]=[],o=0;o<4;o++)l[e][o]=b(e,o);for(c[0]=0,n=0;n<=6;n++)for(e=0;e<720;e++)if(c[e]==n)for(o=0;o<4;o++)for(t=e,r=0;r<2;r++)t=l[t][o],-1==c[t]&&(c[t]=n+1);for(e=0;e<2592;e++)for(u[e]=-1,s[e]=[],o=0;o<4;o++)s[e][o]=S(e,o);for(u[0]=0,n=0;n<=5;n++)for(e=0;e<2592;e++)if(u[e]==n)for(o=0;o<4;o++)for(t=e,r=0;r<2;r++)t=s[t][o],-1==u[t]&&(u[t]=n+1)}()},setRandomSource:_,getRandomScramble:function(){return function(){var r,e;for(e=0;e<1;e++){for(d(),g(),n[e]=\"\",a(e),r=0;r<m.length;r++)n[e]+=[\"U\",\"L\",\"R\",\"B\"][7&m[r]]+[\"\",\"'\"][(8&m[r])/8]+\" \",w([3,0,1,2][7&m[r]],1+(8&m[r])/8,e);var t=[\"l\",\"r\",\"b\",\"u\"];for(r=0;r<4;r++){var o;(o=Math.floor(3*L.random()))<2&&(n[e]+=t[r]+[\"\",\"'\"][o]+\" \",w(4+r,1+o,e))}}}(),{state:e,scramble_string:n[0]}},setScrambleLength:function(){}}}(),[\"pyra\",\"pyraminx\"])}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){var e,t,n=(e=Math,t=11,{initialize:function(r){e=r},setRandomSource:function(r){e=r},getRandomScramble:function(){function r(r){for(var e=arguments.length-1,t=r[arguments[e]],n=e;n>1;n--)r[arguments[n]]=r[arguments[n-1]];r[arguments[1]]=t}function n(r,e){return r[e>>3]>>((7&e)<<2)&15}function o(r,e,t,n){for(var o=0;o<n;o++){r[o]=[];for(var a=0;a<e;a++)r[o][a]=t(a,o)}}function a(r,e,t,o,a,i,f){for(var c=Array.isArray(a),u=0,l=t+7>>>3;u<l;u++)r[u]=-1;r[e>>3]^=15<<((7&e)<<2);for(var s=0;s<=o;s++)for(var m=s+1^15,v=0;v<t;v++)if(n(r,v)==s)for(var h=0;h<i;h++)for(var d=v,p=0;p<f;p++)15==n(r,d=c?a[h][d]:a(d,h))&&(r[d>>3]^=m<<((7&d)<<2))}function i(r,e,t,o,a){if(0==t)return 0==r&&0==e;if(n(l,r)>t||n(s,e)>t)return!1;for(var f=0;4>f;f++)if(f!=o)for(var c=r,u=e,v=0;2>v;v++)if(i(c=w[f][c],u=m[f][u],t-1,f,a))return a.push(2*f+(1-v)),!0;return!1}function f(r,e){for(var t=[],n=[],o=0;o<4;o++)t[o]=r%3,r=~~(r/3);for(o=0;o<3;o++)n[o]=r%3,r=~~(r/3);if(n[3]=(6-n[0]-n[1]-n[2])%3,t[e]=(t[e]+1)%3,0==e){var a=n[0];n[0]=n[2]+2,n[2]=n[1]+2,n[1]=a+2}else 1==e?(a=n[0],n[0]=n[1]+2,n[1]=n[3]+2,n[3]=a+2):2==e?(a=n[0],n[0]=n[3]+2,n[3]=n[2]+2,n[2]=a+2):3==e&&(a=n[1],n[1]=n[2]+2,n[2]=n[3]+2,n[3]=a+2);for(o=2;o>=0;o--)r=3*r+n[o]%3;for(o=3;o>=0;o--)r=3*r+t[o];return r}var c,u,l=[],s=[],m=[],v=[1,1,1,3,12,60,360],h=[[6,5,10,1],[9,7,4,2],[3,11,8,0],[10,1,6,5],[0,8,11,3],[7,9,2,4],[4,2,9,7],[11,3,0,8],[1,10,5,6],[8,0,3,11],[2,4,7,9],[5,6,1,10]],d=[0,1,2,0,2,1,1,2,0,2,1,0],p=[];o(w=[],4320,(function(e,t){var n=e%12;e=~~(e/12);for(var o=[],a=5517840,i=0,f=0;5>f;f++){var c=v[5-f],u=(e-=(u=~~(e/c))*c,i^=u,u<<2);o[f]=a>>u&15,a=(a&(c=(1<<u)-1))+(a>>4&~c)}for(0==(1&i)?o[5]=a:(o[5]=o[4],o[4]=a),0==t&&r(o,0,3,1),2==t&&r(o,1,5,2),1==t&&r(o,0,2,4),3==t&&r(o,3,4,5),e=0,a=5517840,f=0;4>f;f++)e*=6-f,e+=a>>(u=o[f]<<2)&15,a-=1118480<<u;return 12*e+h[n][t]}),4),a(l,0,4320,7,w,4,2),o(m,2187,f,4),a(s,0,2187,6,m,4,2);do{c=0|4320*e.random(),u=0|2187*e.random()}while(0==c&&0==u||d[c%12]!=(u+~~(u/3)+~~(u/9)+~~(u/27))%3);for(;99>t&&!i(c,u,t,-1,p);t++);for(var g=[],y=[\"L\",\"R\",\"B\",\"U\"],f=0;f<p.length;f++){var b=p[f]>>1,S=1&p[f];if(2==b)for(var w=0;w<=S;w++){var A=y[0];y[0]=y[1],y[1]=y[3],y[3]=A}g.push(y[b]+(1==S?\"'\":\"\"))}return{scramble_string:g.join(\" \")}}.bind(11),setScrambleLength:function(r){t=r}});r(\"skewb\",n)}},(r,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n=function(r){r(\"sq1\",function(){var r,e,t,n,o,a,i,f,c,u,l,s,m;function v(){}function h(r,e){var t;(e<<=2)>24?(e=48-e,t=r.ul,r.ul=16777215&(~~r.ul>>e|r.ur<<24-e),r.ur=16777215&(~~r.ur>>e|t<<24-e)):e>0?(t=r.ul,r.ul=16777215&(r.ul<<e|~~r.ur>>24-e),r.ur=16777215&(r.ur<<e|~~t>>24-e)):0==e?(t=r.ur,r.ur=r.dl,r.dl=t,r.ml=1-r.ml):e>=-24?(e=-e,t=r.dl,r.dl=16777215&(r.dl<<e|~~r.dr>>24-e),r.dr=16777215&(r.dr<<e|~~t>>24-e)):e<-24&&(e=48+e,t=r.dl,r.dl=16777215&(~~r.dl>>e|r.dr<<24-e),r.dr=16777215&(~~r.dr>>e|t<<24-e))}function d(r){var e,t,n,o;return o=1118481&r.ur,o|=~~o>>3,o=15&(o|=~~o>>6)|~~o>>12&48,n=1118481&r.ul,n|=~~n>>3,n=15&(n|=~~n>>6)|~~n>>12&48,t=1118481&r.dr,t|=~~t>>3,t=15&(t|=~~t>>6)|~~t>>12&48,e=1118481&r.dl,e|=~~e>>3,e=15&(e|=~~e>>6)|~~e>>12&48,x(function(r){var e,t,n,o,a;for(n=0,r.arr[0]=p(r,0),o=1;o<24;++o)p(r,o)!=r.arr[n]&&(r.arr[++n]=p(r,o));for(a=0,e=0;e<16;++e)for(t=e+1;t<16;++t)r.arr[e]>r.arr[t]&&(a^=1);return a}(r)<<24|n<<18|o<<12|e<<6|t)}function p(r,e){return~~((15&(e<6?~~r.ul>>(5-e<<2):e<12?~~r.ur>>(11-e<<2):e<18?~~r.dl>>(17-e<<2):~~r.dr>>(23-e<<2)))<<24)>>24}function g(r,e,t){e<6?(r.ul&=~(15<<(5-e<<2)),r.ul|=t<<(5-e<<2)):e<12?(r.ur&=~(15<<(11-e<<2)),r.ur|=t<<(11-e<<2)):e<18?(r.dl&=~(15<<(17-e<<2)),r.dl|=t<<(17-e<<2)):(r.dr&=~(15<<(23-e<<2)),r.dr|=t<<(23-e<<2))}function y(){this.arr=[],this.prm=[]}function b(r){var e,t,n,o,a;for(function(r,e){r.ul=e.ul,r.ur=e.ur,r.dl=e.dl,r.dr=e.dr,r.ml=e.ml}(r.Search_d,r.Search_c),n=0;n<r.Search_length1;++n)h(r.Search_d,r.Search_move[n]);for(function(r,e){var t,n;for(t=0;t<8;++t)r.prm[t]=~~(~~p(r,3*t+1)>>1<<24)>>24;for(e.cornperm=D(r.prm),e.topEdgeFirst=p(r,0)==p(r,1),t=e.topEdgeFirst?2:0,n=0;n<4;t+=3,++n)r.prm[n]=~~(~~p(r,t)>>1<<24)>>24;for(e.botEdgeFirst=p(r,12)==p(r,13),t=e.botEdgeFirst?14:12;n<8;t+=3,++n)r.prm[n]=~~(~~p(r,t)>>1<<24)>>24;e.edgeperm=D(r.prm),e.ml=r.ml}(r.Search_d,r.Search_sq),t=r.Search_sq.edgeperm,e=r.Search_sq.cornperm,a=r.Search_sq.ml,n=Math.max(u[r.Search_sq.edgeperm<<1|a],u[r.Search_sq.cornperm<<1|a]);n<r.Search_maxlen2;++n)if(A(r,t,e,r.Search_sq.topEdgeFirst,r.Search_sq.botEdgeFirst,a,n,r.Search_length1,0)){for(o=0;o<n;++o)h(r.Search_d,r.Search_move[r.Search_length1+o]);return r.Search_sol_string=S(r,n+r.Search_length1),!0}return!1}function S(r,e){for(var t=\"\",n=0,o=0,a=e-1;a>=0;a--){var i=r.Search_move[a];i>0?n=(i=12-i)>6?i-12:i:i<0?o=(i=12+i)>6?i-12:i:(t+=0==n&&0==o?\" / \":\"(\"+n+\", \"+o+\") / \",n=o=0)}return 0==n&&0==o||(t+=\"(\"+n+\", \"+o+\")\"),t}function w(r,t,i,f,c,u){var l,s,m;if(0==i&&f<4)return 0==f&&b(r);if(0!=u&&(m=a[t],(s=n[m])<f&&(r.Search_move[c]=0,w(r,m,s,f-1,c+1,0))))return!0;if(m=t,u<=0)for(l=0;!(m=~~(l+=o[m])>>4,(l&=15)>=12||(s=n[m])>f);)if(s<f&&(r.Search_move[c]=l,w(r,m,s,f-1,c+1,1)))return!0;if(m=t,u<=1)for(l=0;!(m=~~(l+=e[m])>>4,(l&=15)>=6||(s=n[m])>f);)if(s<f&&(r.Search_move[c]=-l,w(r,m,s,f-1,c+1,2)))return!0;return!1}function A(r,e,t,n,o,a,i,c,m){var v,h,d,p,g,y,b;if(0==i&&!n&&o)return!0;if(0!=m&&n==o&&(d=s[e],h=s[t],u[d<<1|1-a]<i&&u[h<<1|1-a]<i&&(r.Search_move[c]=0,A(r,d,h,n,o,1-a,i-1,c+1,0))))return!0;if(m<=0)for(d=(b=!n)?l[e]:e,h=b?t:l[t],p=b?1:2,g=u[d<<1|a],y=u[h<<1|a];p<12&&g<=i&&g<=i;){if(g<i&&y<i&&(r.Search_move[c]=p,A(r,d,h,b,o,a,i-1,c+1,1)))return!0;(b=!b)?(d=l[d],g=u[d<<1|a],p+=1):(h=l[h],y=u[h<<1|a],p+=2)}if(m<=1)for(d=(v=!o)?f[e]:e,h=v?t:f[t],p=v?1:2,g=u[d<<1|a],y=u[h<<1|a];p<(i>3?6:12)&&g<=i&&g<=i;){if(g<i&&y<i&&(r.Search_move[c]=-p,A(r,d,h,n,v,a,i-1,c+1,2)))return!0;(v=!v)?(d=f[d],g=u[d<<1|a],p+=1):(h=f[h],y=u[h<<1|a],p+=2)}return!1}function R(){this.Search_move=[],this.Search_d=new y,this.Search_sq=new F}function L(){L=v,i=[0,3,6,12,15,24,27,30,48,51,54,60,63],t=[],n=[],o=[],e=[],a=[],function(){var r,f,c,u,l,s,m,v,h,d,p,g,y,b,S;for(r=0,m=0;m<28561;++m)s=i[m%13],c=i[~~(m/13)%13],p=i[~~(~~(m/13)/13)%13],16==k(g=i[~~(~~(~~(m/13)/13)/13)]<<18|p<<12|c<<6|s)&&(t[r++]=g);for(d=new j,m=0;m<7356;++m)z(d,m),o[m]=M(d),o[m]|=U(d)<<4,z(d,m),e[m]=_(d),e[m]|=U(d)<<4,z(d,m),y=k(S=63&d.top),b=k(4032&d.bottom),d.Shape_parity^=1&~~(y&b)>>1,d.top=4032&d.top|~~d.bottom>>6&63,d.bottom=63&d.bottom|S<<6,a[m]=U(d);for(m=0;m<7536;++m)n[m]=-1;n[x(14378715)]=0,n[x(31157686)]=0,n[x(23967451)]=0,n[x(7191990)]=0,u=4,l=0,f=-1;for(;u!=l;)for(l=u,++f,m=0;m<7536;++m)if(n[m]==f){h=0,v=m;do{h+=15&(v=o[v]),-1==n[v>>=4]&&(++u,n[v]=f+1)}while(12!=h);h=0,v=m;do{h+=15&(v=e[v]),-1==n[v>>=4]&&(++u,n[v]=f+1)}while(12!=h);v=a[m],-1==n[v]&&(++u,n[v]=f+1)}}()}function _(r){var e,t;e=0,t=0;do{0==(2048&r.bottom)?(e+=1,r.bottom=r.bottom<<1):(e+=2,r.bottom=r.bottom<<2^12291),t=1-t}while(0!=(1&k(63&r.bottom)));return 0==(2&k(r.bottom))&&(r.Shape_parity^=t),e}function U(r){return O(t,r.top<<12|r.bottom)<<1|r.Shape_parity}function z(r,e){r.Shape_parity=1&e,r.top=t[~~e>>1],r.bottom=4095&r.top,r.top>>=12}function M(r){var e,t;e=0,t=0;do{0==(2048&r.top)?(e+=1,r.top=r.top<<1):(e+=2,r.top=r.top<<2^12291),t=1-t}while(0!=(1&k(63&r.top)));return 0==(2&k(r.top))&&(r.Shape_parity^=t),e}function j(){}function x(r){return O(t,16777215&r)<<1|~~r>>24}function C(){C=v,u=[],s=[],l=[],f=[],m=[1,1,2,6,24,120,720,5040],c=[];for(var r=0;r<12;++r)c[r]=[];!function(){var r,e,t,n,o,a,i,m,v,h,d,p,g;for(o=0;o<12;++o)for(c[o][0]=1,c[o][o]=1,v=1;v<o;++v)c[o][v]=c[o-1][v-1]+c[o-1][v];for(p=[],o=0;o<40320;++o)P(p,o),g=p[2],p[2]=p[4],p[4]=g,g=p[3],p[3]=p[5],p[5]=g,s[o]=D(p),P(p,o),g=p[0],p[0]=p[1],p[1]=p[2],p[2]=p[3],p[3]=g,l[o]=D(p),P(p,o),g=p[4],p[4]=p[5],p[5]=p[6],p[6]=p[7],p[7]=g,f[o]=D(p);for(o=0;o<80640;++o)u[o]=-1;u[0]=0,e=0,t=1;for(;t<80640;){n=(m=e>=11)?-1:e,r=m?e:-1,++e;r:for(o=0;o<80640;++o)if(u[o]==n){if(d=1&o,i=s[a=~~o>>1]<<1|1-d,u[i]==r&&(++t,u[m?o:i]=~~(e<<24)>>24,m))continue r;for(i=a,h=0;h<4;++h)if(i=l[i],u[i<<1|d]==r&&(++t,u[m?o:i<<1|d]=~~(e<<24)>>24,m))continue r;for(h=0;h<4;++h)if(i=f[i],u[i<<1|d]==r&&(++t,u[m?o:i<<1|d]=~~(e<<24)>>24,m))continue r}}}()}function F(){}function D(r){var e,t,n,o;for(t=0,o=1985229328,e=0;e<7;++e)t=(8-e)*t+(~~o>>(n=r[e]<<2)&7),o-=286331152<<n;return 65535&t}function P(r,e){var t,n,o,a,i;for(i=1985229328,t=0;t<7;++t)e-=(a=~~(e/(o=m[7-t])))*o,a<<=2,r[t]=~~((~~i>>a&7)<<24)>>24,i=(i&(n=(1<<a)-1))+(~~i>>4&~n);r[7]=~~(i<<24)>>24}function k(r){return r=(~~(r=(~~(r-=~~r>>1&1431655765)>>2&858993459)+(858993459&r))>>4)+r&252645135,r+=~~r>>8,63&(r+=~~r>>16)}function O(r,e){var t,n,o,a;for(n=0,t=r.length-1;n<=t;)if((a=r[o=n+(~~(t-n)>>1)])<e)n=o+1;else{if(!(a>e))return o;t=o-1}return-n-1}(r=y.prototype=function(){}.prototype).dl=10062778,r.dr=14536702,r.ml=0,r.ul=70195,r.ur=4544119,(r=R.prototype=function(){}.prototype).Search_c=null,r.Search_length1=0,r.Search_maxlen2=0,r.Search_sol_string=null,(r=j.prototype=function(){}.prototype).bottom=0,r.Shape_parity=0,r.top=0,(r=F.prototype=function(){}.prototype).botEdgeFirst=!1,r.cornperm=0,r.edgeperm=0,r.ml=0,r.topEdgeFirst=!1;var E,B=!1,I=function(r){T(r),B||(L(),C()),B=!0},T=function(r){E=r},q=function(){return B||I(),function(){var r,e,n,o,a,i,f,c,u;for(r=new y,n=t[~~Math.floor(3678*E.random())],a=324508639,o=38177486,f=i=8,e=0;e<24;e++)0==(n>>e&1)?(g(r,23-e,o>>(c=~~Math.floor(E.random()*i)<<2)&15),o=(o&(u=(1<<c)-1))+(o>>4&~u),--i):(g(r,23-e,a>>(c=~~Math.floor(E.random()*f)<<2)&15),g(r,22-e,a>>c&15),a=(a&(u=(1<<c)-1))+(a>>4&~u),--f,++e);return r.ml=~~Math.floor(2*E.random()),r}()},J=function(r){return function(r,e){var t;for(r.Search_c=e,t=d(e),r.Search_length1=n[t];r.Search_length1<100&&(r.Search_maxlen2=Math.min(31-r.Search_length1,17),!w(r,t,n[t],r.Search_length1,0,-1));++r.Search_length1);return r.Search_sol_string}(new R,r)};return{version:\"July 05, 2015\",initialize:I,setRandomSource:T,getRandomScramble:function(){var r=q();return{state:r,scramble_string:J(r)}},getRandomPosition:q,generate:J,setScrambleLength:function(){}}}(),[\"square1\",\"square-1\",\"squan\"])}},(r,e,t)=>{var n;t.r(e),t.d(e,{default:()=>a});var o=function(r){return Math.floor(n.random()*r)};const a=function(r){var e=function(){for(var r=[[0,1,1,0,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,1,1,0,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,0,0,0,0,0],[1,1,0,1,1,0,1,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0],[11,0,0,0,0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,0,11,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,11,0,1,1,0,1],[0,0,11,0,0,0,0,0,0,1,1,1,0,0],[11,0,11,0,0,0,0,0,0,1,1,1,1,0],[11,0,0,0,0,0,11,0,0,1,0,1,1,1],[0,0,0,0,0,0,11,0,11,0,1,1,1,1],[0,0,11,0,0,0,0,0,11,1,1,1,0,1],[11,0,11,0,0,0,11,0,11,1,1,1,1,1]],e=[],t=[1],a=0;a<32;++a){e[a]=[];for(var i=0;i<32;++i)e[a][i]=0}for(var f=0;f<32;++f){e[f][0]=e[f][f]=1,t[f+1]=t[f]*(f+1);for(var c=1;c<f;++c)e[f][c]=e[f-1][c-1]+e[f-1][c]}var u=function(r,t,n){for(var o=t,a=0,i=r-1;i>=0;i--)n>=e[i][o]&&(n-=e[i][o--],a|=1<<i);return a},l=[-1,1,-1,-1,-1,5,-1,7,-1,-1,-1,11],s=function(r,e,t){var n=r[e];r[e]=r[t],r[t]=n},m=function(r,e,t,n,o){for(var a=r[0].length,i=n;i<a;i++)r[t][i]=(r[t][i]+r[e][i]*o)%12},v=[7695,42588,47187,85158,86697,156568,181700,209201,231778],h=function(r){for(var e=r[0].length,t=0;t<e-1;t++){if(-1==l[r[t][t]]){for(var n=-1,o=t+1;o<14;o++)if(-1!=l[r[o][t]]){n=o;break}if(-1==n)r:for(var a=t;a<13;a++)for(var i=a+1;i<14;i++)if(-1!=l[(r[a][t]+r[i][t])%12]){m(r,i,a,t,1),n=a;break r}if(-1==n){for(var f=t+1;f<14;f++)if(0!=r[f][t])return-1;return t+1}s(r,t,n)}for(var c=l[r[t][t]],u=t;u<e;u++)r[t][u]=r[t][u]*c%12;for(var v=t+1;v<14;v++)m(r,t,v,t,12-r[v][t])}return 0},d=function(t,n,o){for(var a=t+1,i=0;i<e[18][t];i++){for(var f=u(18,t,i),c=!1,l=0;l<v.length;l++)if((f&v[l])==v[l]){c=!0;break}if(!c){for(var s=[],m=0,d=0;d<18;d++)1==(f>>d&1)&&(s[m++]=d);for(var g=[],y=0;y<14;y++){g[y]=[];for(var b=0;b<t;b++)g[y][b]=r[s[b]][y];g[y][t]=n[y]}if(0==h(g)){for(var S=!0,w=t;w<14;w++)if(0!=g[w][t]){S=!1;break}if(S){p(g);for(var A=0,R=0;R<t;R++)0!=g[R][t]&&A++;if(A<a){for(var L=0;L<18;L++)o[L]=0;for(var _=0;_<t;_++)o[s[_]]=g[_][t];a=A}}}}}return a==t+1?-1:a},p=function(r){for(var e=r[0].length-2;e>0;e--)for(var t=e-1;t>=0;t--)0!=r[t][e]&&m(r,e,t,e,12-r[t][e])},g=[\"UR\",\"DR\",\"DL\",\"UL\",\"U\",\"R\",\"D\",\"L\",\"ALL\"];return{version:\"July 05, 2015\",initialize:function(r){n=r},getRandomScramble:function(){var r=function(){for(var r=[],e=0;e<14;e++)r[e]=o(12);return r}(),e=[];e.length=18,function(r,e){14!=r.length||18!=e.length||d(14,r,e)}(r,e);for(var t=\"\",n=0;n<9;n++){var a=e[n];if(0!=a){var i=a<=6;a>6&&(a=12-a),t+=g[n]+a+(i?\"+\":\"-\")+\" \"}}t+=\"y2 \";for(var f=0;f<9;f++){var c=e[f+9];if(0!=c){var u=c<=6;c>6&&(c=12-c),t+=g[f]+c+(u?\"+\":\"-\")+\" \"}}for(var l=!0,s=0;s<4;s++)1==o(2)&&(t+=(l?\"\":\" \")+g[s],l=!1);return{scramble_string:t}},setScrambleLength:function(){}}}();r(\"clockOptimal\",e,[\"clock-o\",\"clock-optimal\"])}}],e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return r[n].call(a.exports,a,a.exports,t),a.exports}t.d=(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.r=r=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})};var n={};return(()=>{var r=n;Object.defineProperty(r,\"__esModule\",{value:!0}),r.Scrambow=void 0;var e=t(1);Object.defineProperty(r,\"Scrambow\",{enumerable:!0,get:function(){return e.Scrambow}})})(),n})()));\n\n//# sourceURL=webpack://cubetimer/./node_modules/scrambow/dist/scrambow.js?");

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./style.css */ \"./node_modules/css-loader/dist/cjs.js!./src/style.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://cubetimer/./src/style.css?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://cubetimer/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://cubetimer/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://cubetimer/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://cubetimer/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://cubetimer/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://cubetimer/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID\n});\n\n//# sourceURL=webpack://cubetimer/./node_modules/uuid/dist/esm-browser/native.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i);\n\n//# sourceURL=webpack://cubetimer/./node_modules/uuid/dist/esm-browser/regex.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}\n\n//# sourceURL=webpack://cubetimer/./node_modules/uuid/dist/esm-browser/rng.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\n\n//# sourceURL=webpack://cubetimer/./node_modules/uuid/dist/esm-browser/stringify.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"./node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n//# sourceURL=webpack://cubetimer/./node_modules/uuid/dist/esm-browser/v4.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\n\n//# sourceURL=webpack://cubetimer/./node_modules/uuid/dist/esm-browser/validate.js?");

/***/ }),

/***/ "./src/Components/Dropdown.js":
/*!************************************!*\
  !*** ./src/Components/Dropdown.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDropdown: () => (/* binding */ createDropdown)\n/* harmony export */ });\nconst createDropdown = () => {\r\n   const dropdowns = document.querySelectorAll('.dropdown')\r\n   dropdowns.forEach(dropdown => {\r\n    const select = dropdown.querySelector('.select')\r\n    const caret = dropdown.querySelector('.caret')\r\n    const menu = dropdown.querySelector('.menu')\r\n    const options = dropdown.querySelectorAll('.menu li')\r\n    const selected = dropdown.querySelector('.selected')\r\n\r\n    select.addEventListener('click', () => {\r\n        select.classList.toggle('select-clicked')\r\n        caret.classList.toggle('caret-rotate')\r\n        menu.classList.toggle('menu-open')\r\n    })\r\n\r\n    options.forEach(option => {\r\n        option.addEventListener('click', () => {\r\n            selected.innerText = option.innerText\r\n            select.classList.remove('select-clicked')\r\n            caret.classList.remove('caret-rotate')\r\n            menu.classList.remove('menu-open')\r\n            options.forEach(option => {\r\n                option.classList.remove('select-active')\r\n            })\r\n            option.classList.add('select-active')\r\n        })\r\n    })\r\n\r\n   })\r\n}\r\n\r\n\n\n//# sourceURL=webpack://cubetimer/./src/Components/Dropdown.js?");

/***/ }),

/***/ "./src/Components/Scramble.js":
/*!************************************!*\
  !*** ./src/Components/Scramble.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   displayScramble: () => (/* binding */ displayScramble),\n/* harmony export */   getScramble: () => (/* binding */ getScramble)\n/* harmony export */ });\n/* harmony import */ var scramble_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scramble-display */ \"./node_modules/scramble-display/dist/esm/index.js\");\nconst Scrambow = (__webpack_require__(/*! scrambow */ \"./node_modules/scrambow/dist/scrambow.js\").Scrambow);\r\n\r\n\r\n\r\n\r\n\r\nconst getScramble = (type = '333') =>{\r\n\r\nconst scrambleObj = new Scrambow().setType(type); // Defaults to 3x3\r\nconst scramble = scrambleObj.get(1)[0].scramble_string\r\n\r\n\r\n\r\nreturn [type, scramble]\r\n}\r\n\r\n\r\nconst displayScramble = (scrambleArr) => {\r\nconst scrambleTxt = document.querySelector('.scramble h1')\r\n   \r\n    if (document.querySelector('.aside scramble-display')) {\r\n        document.querySelector('.aside').removeChild(document.querySelector('.aside scramble-display'))\r\n    }\r\n\r\n    const [type, scrambleStr] = scrambleArr\r\n    scrambleTxt.textContent = scrambleStr\r\n    \r\n    const el = new scramble_display__WEBPACK_IMPORTED_MODULE_0__.ScrambleDisplay()\r\n    el.scramble = scrambleStr\r\n    el.event = type\r\n    document.querySelector('.aside').insertAdjacentElement('beforeend',el)\r\n\r\n}\n\n//# sourceURL=webpack://cubetimer/./src/Components/Scramble.js?");

/***/ }),

/***/ "./src/Components/Solve.js":
/*!*********************************!*\
  !*** ./src/Components/Solve.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Solve: () => (/* binding */ Solve),\n/* harmony export */   isDNF: () => (/* binding */ isDNF),\n/* harmony export */   isPlus2: () => (/* binding */ isPlus2)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n\r\n\r\n\r\nconst months = [\r\n    'January',\r\n    'Febuary',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n]\r\n\r\n\r\n\r\n\r\nclass Solve {\r\n    constructor(time, scramble, type = '333') {\r\n\r\n        this.time = time;\r\n        this.scramble = scramble;\r\n        this.date = `${months[new Date().getMonth()]} ${new Date().getDate()}, ${new Date().getFullYear()} ${new Date().getHours()}:${new Date().getMinutes()}`;\r\n        this.type = type;\r\n        this.id = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\r\n        this.plus2 = false;\r\n        this.DNF = false;\r\n    }\r\n}\r\n\r\n\r\nconst isPlus2 = (solve) => {\r\n    solve.plus2 = true\r\n    solve.time = Number(solve.time) + 2\r\n}\r\n\r\nconst isDNF = (solve) => {\r\n    solve.DNF = true\r\n    solve.time = 'DNF'\r\n}\r\n\r\n\n\n//# sourceURL=webpack://cubetimer/./src/Components/Solve.js?");

/***/ }),

/***/ "./src/Components/Timer.js":
/*!*********************************!*\
  !*** ./src/Components/Timer.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetTimer: () => (/* binding */ resetTimer),\n/* harmony export */   startTimer: () => (/* binding */ startTimer),\n/* harmony export */   stopTimer: () => (/* binding */ stopTimer)\n/* harmony export */ });\nconst timeTxt = document.querySelector('.stopwatch h1')\r\n\r\nlet timer = null;\r\nlet startTime = 0;\r\nlet elapsedTime = 0;\r\nlet isRunning = false;\r\n\r\n\r\nconst startTimer = () => {\r\n    if (!isRunning) {\r\n        startTime = Date.now() - elapsedTime;\r\n        timer = setInterval(updateTimer, 10);\r\n        isRunning = true;\r\n    }\r\n}\r\n\r\n\r\nconst stopTimer = () => {\r\n    if (isRunning) {\r\n        clearInterval(timer);\r\n        elapsedTime = Date.now() - startTime;\r\n        isRunning = false\r\n    }\r\n\r\n    let hours = Math.floor(elapsedTime / (1000 * 60 * 60));\r\n    let minutes = Math.floor(elapsedTime / (1000 * 60) % 60);\r\n    let seconds = Math.floor(elapsedTime / 1000 % 60) \r\n    let milliseconds = Math.floor(elapsedTime % 1000 / 10)\r\n\r\n    hours = String(hours).padStart(2, '0');\r\n    minutes = String(minutes).padStart(2, '0');\r\n    seconds = String(seconds).padStart(2, '0');\r\n    milliseconds = String(milliseconds).padStart(2, '0');\r\n    \r\n    return `${seconds}.${milliseconds}` // Return the time at which the stop watch was stopped to get the solve time\r\n}\r\n\r\n\r\nconst resetTimer = () => {\r\n    clearInterval(timer);\r\n    startTime = 0;\r\n    elapsedTime = 0;\r\n    isRunning = false;\r\n    // timeTxt.textContent = '00:00'\r\n}\r\n\r\n\r\nconst updateTimer = () => {\r\n    const timeTxt = document.querySelector('.stopwatch h1')\r\n\r\n    const currentTime = Date.now();\r\n    elapsedTime = currentTime - startTime;\r\n\r\n    let hours = Math.floor(elapsedTime / (1000 * 60 * 60));\r\n    let minutes = Math.floor(elapsedTime / (1000 * 60) % 60);\r\n    let seconds = Math.floor(elapsedTime / 1000 % 60) \r\n    let milliseconds = Math.floor(elapsedTime % 1000 / 10)\r\n\r\n    hours = String(hours).padStart(2, '0');\r\n    minutes = String(minutes).padStart(2, '0');\r\n    seconds = String(seconds).padStart(2, '0');\r\n    milliseconds = String(milliseconds).padStart(2, '0');\r\n\r\n    timeTxt.textContent = `${seconds}.${milliseconds}`\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack://cubetimer/./src/Components/Timer.js?");

/***/ }),

/***/ "./src/Pages/AlgSetPage.js":
/*!*********************************!*\
  !*** ./src/Pages/AlgSetPage.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAlgeSetPage: () => (/* binding */ createAlgeSetPage)\n/* harmony export */ });\n/* harmony import */ var _Components_Dropdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/Dropdown */ \"./src/Components/Dropdown.js\");\n\r\n\r\nconst body = document.body\r\n\r\nconst createAlgeSetPage = () => {\r\n    if ( document.querySelector('.top')) {\r\n        body.removeChild(document.querySelector('.top'))\r\n    }\r\n\r\n    let html = ` <div class=\"top algsetpage\">\r\n    <div class=\"top-nav\">\r\n    <h1> Algorithms </h1>\r\n    <div class=\"dropdown\">\r\n        <div class=\"select\">\r\n            <span class=\"selected\">OLL</span>\r\n            <div class=\"caret\"></div>\r\n        </div>\r\n        <ul class=\"menu\">\r\n            <li>PLL</li>\r\n            <li class=\"active\">OLL</li>\r\n        </ul>\r\n    </div>\r\n\r\n    </div>\r\n       <div class=\"main\">\r\n       \r\n    </div>\r\n    <div class=\"aside\">\r\n     \r\n       </div>\r\n    </div>\r\n    \r\n   </div>`;\r\n\r\n   body.insertAdjacentHTML('afterbegin', html)\r\n   ;(0,_Components_Dropdown__WEBPACK_IMPORTED_MODULE_0__.createDropdown)()\r\n   document.querySelector('.algset-icon').classList.add('active')\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cubetimer/./src/Pages/AlgSetPage.js?");

/***/ }),

/***/ "./src/Pages/SolvesPage.js":
/*!*********************************!*\
  !*** ./src/Pages/SolvesPage.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSolvesPage: () => (/* binding */ createSolvesPage)\n/* harmony export */ });\n/* harmony import */ var scramble_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scramble-display */ \"./node_modules/scramble-display/dist/esm/index.js\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ \"./src/index.js\");\n/* harmony import */ var _Components_Solve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Components/Solve */ \"./src/Components/Solve.js\");\n/* harmony import */ var _Components_Dropdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Components/Dropdown */ \"./src/Components/Dropdown.js\");\n/* harmony import */ var _imgs_close_icon_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../imgs/close-icon.png */ \"./src/imgs/close-icon.png\");\nconst body = document.body\r\n\r\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst months = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\r\n    \"August\",\"September\",\"October\",\"November\",\"December\"];\r\n\r\n\r\nconst displaySolves = (solveType) => {\r\n    let allSolves = JSON.parse(localStorage.getItem(\"allSolvesStorage\"))\r\n  ? JSON.parse(localStorage.getItem(\"allSolvesStorage\"))\r\n  : undefined;\r\n\r\n  if (allSolves && document.querySelector('.solves')) {\r\n  let solveDisplayTxt;\r\n  let solveIndex;\r\n    switch (solveType) {\r\n        case '222':\r\n            solveDisplayTxt = '2x2'\r\n            solveIndex = 0\r\n            break;\r\n        case '333':\r\n            solveDisplayTxt = '3x3'\r\n            solveIndex = 1;\r\n            break;    \r\n        case '444':\r\n            solveDisplayTxt = '4x4'\r\n            solveIndex = 2;\r\n            break;  \r\n        case '555':\r\n            solveDisplayTxt = '5x5'\r\n            solveIndex = 3;\r\n        break;         \r\n        case '666':\r\n            solveDisplayTxt = '6x6'\r\n            solveIndex = 4;\r\n        break;  \r\n        case '777':\r\n            solveDisplayTxt = '7x7'\r\n            solveIndex = 5;\r\n        break;  \r\n    }  \r\n\r\n\r\n    allSolves[solveIndex][solveType].forEach(solve => {\r\n    let [solveDisplayDate, yearAndTime] = solve.date.split(',')\r\n    let [_ ,year, time] = yearAndTime.split(' ')\r\n\r\n        let html = `\r\n         <div class=\"solve\" data-solveID=${solve.id} data-solvetype=${solve.type}>\r\n                    <h2 class=\"solve-date\">${solveDisplayDate}, ${year}</h2>\r\n                    <div class=\"solve-type\">${solveDisplayTxt}</div>\r\n                    <h1 class=\"solve-time\">${solve.time}</h1>\r\n        `\r\n        document.querySelector('.solves').insertAdjacentHTML('afterbegin', html)\r\n\r\n    });\r\n\r\n  }\r\n\r\n}\r\n\r\nconst createInfoModal = (solve) => {\r\n    let solveDisplayTxt;\r\n    switch (solve.type) {\r\n        case '222':\r\n            solveDisplayTxt = '2x2'\r\n            break;\r\n        case '333':\r\n            solveDisplayTxt = '3x3'\r\n            break;    \r\n        case '444':\r\n            solveDisplayTxt = '4x4'\r\n            break;  \r\n        case '555':\r\n            solveDisplayTxt = '5x5'\r\n        break;         \r\n        case '666':\r\n            solveDisplayTxt = '6x6'\r\n        break;  \r\n        case '777':\r\n            solveDisplayTxt = '7x7'\r\n        break;  \r\n    }\r\n    \r\n    let html = `\r\n      <dialog class=\"solve-info\">\r\n        <section class=\"section-1\">\r\n            <div class=\"btns\">\r\n                <button class=\"delete-btn\">Delete</button>\r\n                <img src=${_imgs_close_icon_png__WEBPACK_IMPORTED_MODULE_4__} class=\"close-icon icon\" alt=\"Close Button\" role=\"button\">\r\n            </div>\r\n            <div class=\"solve-time\"><h1>${solve.time}</h1></div>\r\n            <div class=\"solve-options\">\r\n                 <button disabled>${solveDisplayTxt}</button>\r\n                <button id=\"plus2-btn\" class=${solve.plus2 ? \"plus2-active\" : \"\"}>+2</button>\r\n                <button id=\"DNF-btn\" class=${solve.DNF ? \"DNF-active\" : \"\"}>DNF</button>\r\n            </div>\r\n            <div class=\"solve-date\">${solve.date}</div>\r\n        </section>\r\n        <section class=\"section-2\">\r\n            <div class=\"solve-scrambleDisplay\"></div>\r\n            <div class=\"solve-scramble\"></div>\r\n        </section>\r\n    </dialog>\r\n    \r\n     `\r\n\r\n     body.insertAdjacentHTML('afterbegin', html)\r\n      \r\n     const el = new scramble_display__WEBPACK_IMPORTED_MODULE_0__.ScrambleDisplay()\r\n     el.scramble = solve.scramble\r\n     el.event = solve.type\r\n     document.querySelector('.solve-scramble').textContent = solve.scramble\r\n     document.querySelector('.solve-scrambleDisplay').insertAdjacentElement('beforeend',el)\r\n\r\n}\r\n\r\ndisplaySolves()\r\n\r\n\r\nconst createSolvesPage = () => {\r\n    if ( document.querySelector('.top')) {\r\n        body.removeChild(document.querySelector('.top'))\r\n    }\r\n\r\n    let html = `\r\n     <div class=\"top solvespage\">\r\n        <div class=\"top-nav\">\r\n     \r\n        </div>\r\n        <div class=\"main\">\r\n            <div class=\"solves\">\r\n            </div>\r\n        </div>\r\n       </div>\r\n   `;\r\n\r\n   body.insertAdjacentHTML('afterbegin', html)\r\n   document.querySelector('.solves-icon').classList.add('active')\r\n   ;(0,_Components_Dropdown__WEBPACK_IMPORTED_MODULE_3__.createDropdown)()\r\n\r\n    displaySolves('333')\r\n\r\n    document.querySelectorAll('.solve').forEach(solve => {\r\n        solve.addEventListener('click', () => {\r\n            const solveID = solve.dataset.solveid\r\n            const solveType = solve.dataset.solvetype\r\n            const solve_ = (0,___WEBPACK_IMPORTED_MODULE_1__.findSolve)(solveID, solveType)\r\n            createInfoModal(solve_)\r\n            \r\n            const infoModal = document.querySelector('.solve-info')\r\n            infoModal.showModal()\r\n\r\n            \r\n            const displaySolveTime = document.querySelector('.solve-time h1')\r\n            const plus2Btn = document.querySelector('#plus2-btn')\r\n            const solveTime = solve_.time\r\n            body.addEventListener('click', (e) => {\r\n                if(e.target.classList.contains('close-icon')){\r\n                    infoModal.close()\r\n                    ;(0,___WEBPACK_IMPORTED_MODULE_1__.saveSolvesToStorage)()\r\n                }\r\n                if (e.target.textContent === 'DNF') {\r\n                    if(!solve_.DNF){\r\n                        (0,_Components_Solve__WEBPACK_IMPORTED_MODULE_2__.isDNF)(solve_)\r\n                        e.target.classList.add('DNF-active')\r\n                        displaySolveTime.textContent = 'DNF'\r\n                        plus2Btn.disabled = true    \r\n                    }else if (solve_.DNF) {\r\n                        solve_.DNF = false\r\n                        solve_.time = solveTime\r\n                        e.target.classList.remove('DNF-active')\r\n                        displaySolveTime.textContent = solveTime\r\n                        plus2Btn.disabled = false\r\n                    }\r\n                }\r\n                if (e.target.textContent === '+2') {\r\n                    if(!solve_.plus2){\r\n                        (0,_Components_Solve__WEBPACK_IMPORTED_MODULE_2__.isPlus2)(solve_)\r\n                        e.target.classList.add('plus2-active')\r\n                        displaySolveTime.textContent = solve_.time\r\n                        console.log(solve_);\r\n                    }else if (solve_.plus2) {\r\n                        solve_.plus2 = false\r\n                        solve_.time = solveTime\r\n                        e.target.classList.remove('plus2-active')\r\n                        displaySolveTime.textContent = solveTime\r\n                        console.log(solve_);\r\n                    }\r\n                }\r\n                if (e.target.textContent === 'Delete') {\r\n                    (0,___WEBPACK_IMPORTED_MODULE_1__.deleteSolve)(solveID, solveType)\r\n                    solve.remove()\r\n                    infoModal.close()\r\n                }\r\n            })\r\n\r\n    })\r\n    \r\n})\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cubetimer/./src/Pages/SolvesPage.js?");

/***/ }),

/***/ "./src/Pages/TimerPage.js":
/*!********************************!*\
  !*** ./src/Pages/TimerPage.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTimerPage: () => (/* binding */ createTimerPage)\n/* harmony export */ });\n/* harmony import */ var _Components_Scramble__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Components/Scramble */ \"./src/Components/Scramble.js\");\n/* harmony import */ var _Components_Dropdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Components/Dropdown */ \"./src/Components/Dropdown.js\");\n\r\n\r\n\r\nconst body = document.body\r\n\r\n\r\nconst createTimerPage = () => {\r\n    if ( document.querySelector('.top')) {\r\n        body.removeChild(document.querySelector('.top'))\r\n    }\r\n\r\n    let html = ` <div class=\"top timerpage\">\r\n    <div class=\"top-nav\">\r\n     <div class=\"dropdown\">\r\n        <div class=\"select\">\r\n            <span class=\"selected\">3x3</span>\r\n            <div class=\"caret\"></div>\r\n        </div>\r\n        <ul class=\"menu\">\r\n            <li>2x2</li>\r\n            <li class=\"select-active\">3x3</li>\r\n            <li>4x4</li>\r\n            <li>5x5</li>\r\n            <li>6x6</li>\r\n            <li>7x7</li>\r\n        </ul>\r\n    </div>\r\n    </div>\r\n       <div class=\"main\">\r\n        <div class=\"timer\">\r\n            <div class=\"scramble\"><h1></h1></div>\r\n            <div class=\"stopwatch\"><h1>00.00</h1></div>\r\n        </div>\r\n        \r\n    </div>\r\n    <div class=\"aside\">\r\n       </div>\r\n       </div>\r\n    \r\n   </div>`;\r\n\r\n   body.insertAdjacentHTML('afterbegin', html)\r\n   document.querySelector('.timer-icon').classList.add('active')\r\n   ;(0,_Components_Dropdown__WEBPACK_IMPORTED_MODULE_1__.createDropdown)()\r\n\r\n   ;(0,_Components_Scramble__WEBPACK_IMPORTED_MODULE_0__.displayScramble)((0,_Components_Scramble__WEBPACK_IMPORTED_MODULE_0__.getScramble)())\r\n\r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cubetimer/./src/Pages/TimerPage.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteSolve: () => (/* binding */ deleteSolve),\n/* harmony export */   findSolve: () => (/* binding */ findSolve),\n/* harmony export */   findSolveIndex: () => (/* binding */ findSolveIndex),\n/* harmony export */   saveSolvesToStorage: () => (/* binding */ saveSolvesToStorage)\n/* harmony export */ });\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ \"./src/style.css\");\n/* harmony import */ var _Components_Scramble__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Components/Scramble */ \"./src/Components/Scramble.js\");\n/* harmony import */ var _Components_Timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Components/Timer */ \"./src/Components/Timer.js\");\n/* harmony import */ var _Pages_TimerPage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Pages/TimerPage */ \"./src/Pages/TimerPage.js\");\n/* harmony import */ var _Pages_SolvesPage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Pages/SolvesPage */ \"./src/Pages/SolvesPage.js\");\n/* harmony import */ var _Pages_AlgSetPage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Pages/AlgSetPage */ \"./src/Pages/AlgSetPage.js\");\n/* harmony import */ var _Components_Solve__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Components/Solve */ \"./src/Components/Solve.js\");\n/* harmony import */ var _imgs_timer_icon_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./imgs/timer-icon.png */ \"./src/imgs/timer-icon.png\");\n/* harmony import */ var _imgs_solves_icon_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./imgs/solves-icon.png */ \"./src/imgs/solves-icon.png\");\n/* harmony import */ var _imgs_settings_icon_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./imgs/settings-icon.png */ \"./src/imgs/settings-icon.png\");\n/* harmony import */ var _imgs_algset_icon_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./imgs/algset-icon.png */ \"./src/imgs/algset-icon.png\");\n// const cube = require('./cubejs')\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Load the page \r\n(0,_Pages_TimerPage__WEBPACK_IMPORTED_MODULE_3__.createTimerPage)()\r\n\r\n;\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst body = document.querySelector('body')\r\nconst ScrambleDisplay = document.querySelector('scramble-display')\r\nconst pzlOptions = document.querySelectorAll('.menu li')\r\n\r\nlet timer_Icon = document.querySelector('.timer-icon')\r\nlet allSolves_Icon = document.querySelector('.solves-icon')\r\nlet algset_Icon = document.querySelector('.algset-icon')\r\nlet settings_Icon = document.querySelector('.settings-icon')\r\n\r\ntimer_Icon.src = _imgs_timer_icon_png__WEBPACK_IMPORTED_MODULE_7__\r\nallSolves_Icon.src = _imgs_solves_icon_png__WEBPACK_IMPORTED_MODULE_8__\r\nalgset_Icon.src = _imgs_algset_icon_png__WEBPACK_IMPORTED_MODULE_10__\r\nsettings_Icon.src = _imgs_settings_icon_png__WEBPACK_IMPORTED_MODULE_9__\r\n\r\n\r\n\r\n// let allSolves = []\r\nlet allSolves = JSON.parse(localStorage.getItem(\"allSolvesStorage\"))\r\n  ? JSON.parse(localStorage.getItem(\"allSolvesStorage\"))\r\n  : [{'222': []},{'333':[]}, {'444': []}, {'555': []}, {'666' : []}, {'777' : []}];\r\n\r\n\r\nconst saveSolvesToStorage = () => { \r\n    localStorage.clear()\r\n    localStorage.setItem('allSolvesStorage', JSON.stringify(allSolves))\r\n}\r\n\r\n\r\nconst findSolve = (solveID, solveType) => {\r\n    switch (solveType) {\r\n        case '222':\r\n    return allSolves[0]['222'].find(solve => solve.id === solveID)\r\n        case '333':\r\n    return allSolves[1]['333'].find(solve => solve.id === solveID)\r\n        case '444':\r\n    return allSolves[2]['444'].find(solve => solve.id === solveID)\r\n        case '555':\r\n    return allSolves[3]['555'].find(solve => solve.id === solveID)\r\n        case '666':\r\n    return allSolves[4]['666'].find(solve => solve.id === solveID)\r\n        case '777':\r\n    return allSolves[5]['777'].find(solve => solve.id === solveID)\r\n    }\r\n}\r\n\r\nconst findSolveIndex = (solve) => {\r\n    switch (solve.type) {\r\n        case '222':\r\n    return allSolves[0]['222'].indexOf(solve)\r\n        case '333':\r\n    return allSolves[1]['333'].indexOf(solve)\r\n        case '444':\r\n    return allSolves[2]['444'].indexOf(solve)\r\n        case '555':\r\n    return allSolves[3]['555'].indexOf(solve)\r\n        case '666':\r\n    return allSolves[4]['666'].indexOf(solve)\r\n        case '777':\r\n    return allSolves[5]['777'].indexOf(solve)\r\n    }\r\n}\r\n\r\n\r\nconst deleteSolve = (solveID, solveType) =>{\r\n\r\n    const solve = findSolve(solveID, solveType)\r\n    const solveIndex = findSolveIndex(solve)\r\n\r\n    \r\n    switch (solveType) {\r\n        case '222':\r\n    allSolves[0]['222'].splice(solveIndex, 1)\r\n    saveSolvesToStorage()\r\n        case '333':\r\n    allSolves[1]['333'].splice(solveIndex, 1)\r\n    saveSolvesToStorage()\r\n        case '444':\r\n    allSolves[2]['444'].splice(solveIndex, 1)\r\n    saveSolvesToStorage()\r\n        case '555':\r\n    allSolves[3]['555'].splice(solveIndex, 1)\r\n    saveSolvesToStorage()\r\n        case '666':\r\n    allSolves[4]['666'].splice(solveIndex, 1)\r\n    saveSolvesToStorage()\r\n        case '777':\r\n    allSolves[5]['777'].splice(solveIndex, 1)\r\n    saveSolvesToStorage()\r\n  \r\n     }\r\n\r\n}\r\n\r\nconst deleteAllSolves = () => {\r\n    allSolves =  [{'222': []},{'333':[]}, {'444': []}, {'555': []}, {'666' : []}, {'777' : []}]\r\n   \r\n   saveSolvesToStorage()\r\n}\r\n \r\nlet type = '333'\r\n\r\nconst getCurPzlType = () =>{\r\n    let curPzl = document.querySelector('.select-active').textContent\r\n\r\n    switch (curPzl) {\r\n        case '2x2':\r\n            type = '222'\r\n            break;\r\n        case '3x3':\r\n            type = '333'\r\n            break;    \r\n        case '4x4':\r\n            type = '444'\r\n            break;  \r\n        case '5x5':\r\n            type = '555'\r\n        break;         \r\n        case '6x6':\r\n            type = '666'\r\n        break;  \r\n        case '7x7':\r\n            type = '777'\r\n        break;  \r\n    }\r\n    \r\n}\r\n\r\nlet keyDown = false\r\nlet isTimerRunning = false\r\n\r\npzlOptions.forEach(option => {\r\n    option.addEventListener('click', (e) => {\r\n        getCurPzlType()\r\n        ;(0,_Components_Scramble__WEBPACK_IMPORTED_MODULE_1__.displayScramble)((0,_Components_Scramble__WEBPACK_IMPORTED_MODULE_1__.getScramble)(type))\r\n    })\r\n})\r\n\r\n\r\n// Load Timer\r\nbody.addEventListener('keydown', (event) =>  {\r\n    if(event.code === 'Space' && !keyDown && !isTimerRunning){\r\n    const timeTxt = document.querySelector('.stopwatch h1')\r\n        setTimeout(() => {\r\n            timeTxt.style.color = 'green'\r\n            console.log(timeTxt.style.color);\r\n        }, 400);\r\n        keyDown = true\r\n    }      \r\n})\r\n\r\n\r\n// Start Timer\r\nbody.addEventListener('keyup', (event) => {\r\n    if (event.code === 'Space' && !isTimerRunning) {\r\n        const timeTxt = document.querySelector('.stopwatch h1')\r\n        const scrambleTxt = document.querySelector('.scramble h1')\r\n\r\n        ;(0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.startTimer)() \r\n        isTimerRunning = true\r\n        keyDown = true\r\n\r\n        // Change color back to normal\r\n        timeTxt.style.color = 'var(--secondary-clr)'\r\n\r\n        // Make background opaciy to 35% when timer is running\r\n        scrambleTxt.classList.add('timerStart')\r\n        ScrambleDisplay.classList.add('timerStart')\r\n    }\r\n})\r\n\r\n\r\n// Stop Timer\r\nbody.addEventListener('keydown', (event) => {\r\n    if (isTimerRunning) {\r\n        const scrambleTxt = document.querySelector('.scramble h1')\r\n\r\n        switch (type) {\r\n            case '222':\r\n        allSolves[0]['222'].push(new _Components_Solve__WEBPACK_IMPORTED_MODULE_6__.Solve((0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.stopTimer)(), scrambleTxt.textContent, '222'))\r\n                break;\r\n            case '333':\r\n        allSolves[1]['333'].push(new _Components_Solve__WEBPACK_IMPORTED_MODULE_6__.Solve((0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.stopTimer)(), scrambleTxt.textContent, '333'))\r\n                break;\r\n        case '444':\r\n        allSolves[2]['444'].push(new _Components_Solve__WEBPACK_IMPORTED_MODULE_6__.Solve((0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.stopTimer)(), scrambleTxt.textContent, '444'))\r\n                break;\r\n        case '555':\r\n        allSolves[3]['555'].push(new _Components_Solve__WEBPACK_IMPORTED_MODULE_6__.Solve((0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.stopTimer)(), scrambleTxt.textContent, '555'))\r\n                break;\r\n        case '666':\r\n        allSolves[4]['666'].push(new _Components_Solve__WEBPACK_IMPORTED_MODULE_6__.Solve((0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.stopTimer)(), scrambleTxt.textContent, '666'))\r\n                break;\r\n        case '777':\r\n        allSolves[5]['777'].push(new _Components_Solve__WEBPACK_IMPORTED_MODULE_6__.Solve((0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.stopTimer)(), scrambleTxt.textContent, '777'))\r\n                break;\r\n        }\r\n\r\n        (0,_Components_Timer__WEBPACK_IMPORTED_MODULE_2__.resetTimer)()\r\n        saveSolvesToStorage()\r\n\r\n        // Make background opaciy back to 100%\r\n        scrambleTxt.classList.remove('timerStart')\r\n        ScrambleDisplay.classList.remove('timerStart')\r\n\r\n        // Generate a new scramble and display it\r\n        ;(0,_Components_Scramble__WEBPACK_IMPORTED_MODULE_1__.displayScramble)((0,_Components_Scramble__WEBPACK_IMPORTED_MODULE_1__.getScramble)(type))\r\n\r\n        setInterval(() => {\r\n            isTimerRunning = false\r\n            keyDown = false\r\n        }, 200);\r\n    }\r\n})\r\n\r\nconst activateBtn = (pressesBtn) => {\r\n    \r\ntimer_Icon = document.querySelector('.timer-icon')\r\nallSolves_Icon = document.querySelector('.solves-icon')\r\nalgset_Icon = document.querySelector('.algset-icon')\r\nsettings_Icon = document.querySelector('.settings-icon')\r\n\r\nconst allBtns = [timer_Icon, allSolves_Icon, algset_Icon, settings_Icon]\r\n\r\nallBtns.forEach(btn => btn.classList.remove('active'))\r\nconsole.log(allBtns);\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\ntimer_Icon.addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n    activateBtn()\r\n    ;(0,_Pages_TimerPage__WEBPACK_IMPORTED_MODULE_3__.createTimerPage)()\r\n})\r\n\r\nallSolves_Icon.addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n    activateBtn()\r\n    ;(0,_Pages_SolvesPage__WEBPACK_IMPORTED_MODULE_4__.createSolvesPage)()\r\n})\r\n\r\n\r\nalgset_Icon.addEventListener('click', (e) => {\r\n    e.preventDefault()\r\n    activateBtn()\r\n    ;(0,_Pages_AlgSetPage__WEBPACK_IMPORTED_MODULE_5__.createAlgeSetPage)()\r\n})\r\n\r\nsettings_Icon.addEventListener('click', (e) => {\r\n    activateBtn(settings_Icon)\r\n})\r\n\r\n\r\nconsole.log(allSolves);\r\n// allSolves[0].plus2()\r\nconsole.log(allSolves);\r\n\r\n\r\nlet test = [{'333':[]}, {'444': []}, {'555': []}, {'666' : []}, {'777' : []}];\r\n\r\n// const slv = findSolve(\"66ded863-6320-4240-a394-e25260158477\", '333')\r\n\r\n// console.log(slv.plus2());\n\n//# sourceURL=webpack://cubetimer/./src/index.js?");

/***/ }),

/***/ "./src/imgs/algset-icon.png":
/*!**********************************!*\
  !*** ./src/imgs/algset-icon.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"0009b012436d647b6436.png\";\n\n//# sourceURL=webpack://cubetimer/./src/imgs/algset-icon.png?");

/***/ }),

/***/ "./src/imgs/close-icon.png":
/*!*********************************!*\
  !*** ./src/imgs/close-icon.png ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"22a33646683e9356f937.png\";\n\n//# sourceURL=webpack://cubetimer/./src/imgs/close-icon.png?");

/***/ }),

/***/ "./src/imgs/settings-icon.png":
/*!************************************!*\
  !*** ./src/imgs/settings-icon.png ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"8fab7ad4b4af25b0dbfc.png\";\n\n//# sourceURL=webpack://cubetimer/./src/imgs/settings-icon.png?");

/***/ }),

/***/ "./src/imgs/solves-icon.png":
/*!**********************************!*\
  !*** ./src/imgs/solves-icon.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"8add29a49a6c0c31b208.png\";\n\n//# sourceURL=webpack://cubetimer/./src/imgs/solves-icon.png?");

/***/ }),

/***/ "./src/imgs/timer-icon.png":
/*!*********************************!*\
  !*** ./src/imgs/timer-icon.png ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("module.exports = __webpack_require__.p + \"bbfd940ac871577f6860.png\";\n\n//# sourceURL=webpack://cubetimer/./src/imgs/timer-icon.png?");

/***/ }),

/***/ "./node_modules/scramble-display/dist/esm/chunk-EYSO3CHT.js":
/*!******************************************************************!*\
  !*** ./node_modules/scramble-display/dist/esm/chunk-EYSO3CHT.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CSSSource: () => (/* binding */ CSSSource),\n/* harmony export */   DEGREES_PER_RADIAN: () => (/* binding */ DEGREES_PER_RADIAN),\n/* harmony export */   FreshListenerManager: () => (/* binding */ FreshListenerManager),\n/* harmony export */   HTMLElementShim: () => (/* binding */ HTMLElementShim),\n/* harmony export */   HintFaceletProp: () => (/* binding */ HintFaceletProp),\n/* harmony export */   ManagedCustomElement: () => (/* binding */ ManagedCustomElement),\n/* harmony export */   NO_VALUE: () => (/* binding */ NO_VALUE),\n/* harmony export */   RenderScheduler: () => (/* binding */ RenderScheduler),\n/* harmony export */   SimpleTwistyPropSource: () => (/* binding */ SimpleTwistyPropSource),\n/* harmony export */   StaleDropper: () => (/* binding */ StaleDropper),\n/* harmony export */   TAU: () => (/* binding */ TAU),\n/* harmony export */   THREEJS: () => (/* binding */ THREEJS),\n/* harmony export */   Twisty3DVantage: () => (/* binding */ Twisty3DVantage),\n/* harmony export */   TwistyPropDerived: () => (/* binding */ TwistyPropDerived),\n/* harmony export */   TwistyPropSource: () => (/* binding */ TwistyPropSource),\n/* harmony export */   cube3x3x3: () => (/* binding */ cube3x3x3),\n/* harmony export */   cube3x3x3KPuzzleDefinition: () => (/* binding */ cube3x3x3KPuzzleDefinition),\n/* harmony export */   customElementsShim: () => (/* binding */ customElementsShim),\n/* harmony export */   customPGPuzzleLoader: () => (/* binding */ customPGPuzzleLoader),\n/* harmony export */   eventInfo: () => (/* binding */ eventInfo),\n/* harmony export */   getFaceletStickeringMask: () => (/* binding */ getFaceletStickeringMask),\n/* harmony export */   getPartialAppendOptionsForPuzzleSpecificSimplifyOptions: () => (/* binding */ getPartialAppendOptionsForPuzzleSpecificSimplifyOptions),\n/* harmony export */   getPieceStickeringMask: () => (/* binding */ getPieceStickeringMask),\n/* harmony export */   haveStartedSharingRenderers: () => (/* binding */ haveStartedSharingRenderers),\n/* harmony export */   hintFaceletStyles: () => (/* binding */ hintFaceletStyles),\n/* harmony export */   proxy3D: () => (/* binding */ proxy3D),\n/* harmony export */   puzzles: () => (/* binding */ puzzles),\n/* harmony export */   rawRenderPooled: () => (/* binding */ rawRenderPooled),\n/* harmony export */   setCameraFromOrbitCoordinates: () => (/* binding */ setCameraFromOrbitCoordinates)\n/* harmony export */ });\n/* harmony import */ var _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-KTP5YOXP.js */ \"./node_modules/scramble-display/dist/esm/chunk-KTP5YOXP.js\");\n/* harmony import */ var _chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-VVT7CIBF.js */ \"./node_modules/scramble-display/dist/esm/chunk-VVT7CIBF.js\");\n\n\n\n// node_modules/cubing/dist/cubing/chunk-V4YTFIKT.js\nfunction combineTransformationData(definition, transformationData1, transformationData2) {\n  const newTransformationData = {};\n  for (const orbitDefinition of definition.orbits) {\n    const orbit1 = transformationData1[orbitDefinition.orbitName];\n    const orbit2 = transformationData2[orbitDefinition.orbitName];\n    if (isOrbitTransformationDataIdentityUncached(\n      orbitDefinition.numOrientations,\n      orbit2\n    )) {\n      newTransformationData[orbitDefinition.orbitName] = orbit1;\n    } else if (isOrbitTransformationDataIdentityUncached(\n      orbitDefinition.numOrientations,\n      orbit1\n    )) {\n      newTransformationData[orbitDefinition.orbitName] = orbit2;\n    } else {\n      const newPerm = new Array(orbitDefinition.numPieces);\n      if (orbitDefinition.numOrientations === 1) {\n        for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n          newPerm[idx] = orbit1.permutation[orbit2.permutation[idx]];\n        }\n        newTransformationData[orbitDefinition.orbitName] = {\n          permutation: newPerm,\n          orientationDelta: orbit1.orientationDelta\n        };\n      } else {\n        const newOri = new Array(orbitDefinition.numPieces);\n        for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n          newOri[idx] = (orbit1.orientationDelta[orbit2.permutation[idx]] + orbit2.orientationDelta[idx]) % orbitDefinition.numOrientations;\n          newPerm[idx] = orbit1.permutation[orbit2.permutation[idx]];\n        }\n        newTransformationData[orbitDefinition.orbitName] = {\n          permutation: newPerm,\n          orientationDelta: newOri\n        };\n      }\n    }\n  }\n  return newTransformationData;\n}\nfunction applyTransformationDataToKPatternData(definition, patternData, transformationData) {\n  const newPatternData = {};\n  for (const orbitDefinition of definition.orbits) {\n    const patternOrbit = patternData[orbitDefinition.orbitName];\n    const transformationOrbit = transformationData[orbitDefinition.orbitName];\n    if (isOrbitTransformationDataIdentityUncached(\n      orbitDefinition.numOrientations,\n      transformationOrbit\n    )) {\n      newPatternData[orbitDefinition.orbitName] = patternOrbit;\n    } else {\n      const newPieces = new Array(orbitDefinition.numPieces);\n      if (orbitDefinition.numOrientations === 1) {\n        for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n          newPieces[idx] = patternOrbit.pieces[transformationOrbit.permutation[idx]];\n        }\n        const newOrbitData = {\n          pieces: newPieces,\n          orientation: patternOrbit.orientation\n          // copy all 0\n        };\n        newPatternData[orbitDefinition.orbitName] = newOrbitData;\n      } else {\n        const newOrientation = new Array(orbitDefinition.numPieces);\n        const newOrientationMod = patternOrbit.orientationMod ? new Array(orbitDefinition.numPieces) : void 0;\n        for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n          const transformationIdx = transformationOrbit.permutation[idx];\n          let mod = orbitDefinition.numOrientations;\n          if (patternOrbit.orientationMod) {\n            const orientationMod = patternOrbit.orientationMod[transformationIdx];\n            newOrientationMod[idx] = orientationMod;\n            mod = orientationMod || orbitDefinition.numOrientations;\n          }\n          newOrientation[idx] = (patternOrbit.orientation[transformationIdx] + transformationOrbit.orientationDelta[idx]) % mod;\n          newPieces[idx] = patternOrbit.pieces[transformationIdx];\n        }\n        const newOrbitData = {\n          pieces: newPieces,\n          orientation: newOrientation\n        };\n        if (newOrientationMod) {\n          newOrbitData.orientationMod = newOrientationMod;\n        }\n        newPatternData[orbitDefinition.orbitName] = newOrbitData;\n      }\n    }\n  }\n  return newPatternData;\n}\nvar FREEZE = false;\nvar identityOrbitCache = /* @__PURE__ */ new Map();\nfunction constructIdentityOrbitTransformation(numPieces) {\n  const cached = identityOrbitCache.get(numPieces);\n  if (cached) {\n    return cached;\n  }\n  const newPermutation = new Array(numPieces);\n  const newOrientation = new Array(numPieces);\n  for (let i = 0; i < numPieces; i++) {\n    newPermutation[i] = i;\n    newOrientation[i] = 0;\n  }\n  const orbitTransformation = {\n    permutation: newPermutation,\n    orientationDelta: newOrientation\n  };\n  if (FREEZE) {\n    Object.freeze(newPermutation);\n    Object.freeze(newOrientation);\n    Object.freeze(orbitTransformation);\n  }\n  identityOrbitCache.set(numPieces, orbitTransformation);\n  return orbitTransformation;\n}\nfunction constructIdentityTransformationDataUncached(definition) {\n  const transformation = {};\n  for (const orbitDefinition of definition.orbits) {\n    transformation[orbitDefinition.orbitName] = constructIdentityOrbitTransformation(orbitDefinition.numPieces);\n  }\n  if (FREEZE) {\n    Object.freeze(transformation);\n  }\n  return transformation;\n}\nfunction moveToTransformationUncached(kpuzzle, move) {\n  const quantumKey = move.quantum.toString();\n  let quantumMoveDefinition = kpuzzle.definition.moves[quantumKey];\n  if (!quantumMoveDefinition) {\n    const derivedFrom = kpuzzle.definition.derivedMoves?.[quantumKey];\n    if (derivedFrom) {\n      quantumMoveDefinition = kpuzzle.algToTransformation(derivedFrom).transformationData;\n    }\n  }\n  if (quantumMoveDefinition) {\n    return repeatTransformationUncached(\n      kpuzzle,\n      quantumMoveDefinition,\n      move.amount\n    );\n  }\n  const moveDefinition = kpuzzle.definition.moves[move.toString()];\n  if (moveDefinition) {\n    return moveDefinition;\n  }\n  const inverseMoveDefinition = kpuzzle.definition.moves[move.invert().toString()];\n  if (inverseMoveDefinition) {\n    return repeatTransformationUncached(kpuzzle, inverseMoveDefinition, -1);\n  }\n  throw new Error(`Invalid move for KPuzzle (${kpuzzle.name()}): ${move}`);\n}\nvar KPattern = class _KPattern {\n  constructor(kpuzzle, patternData) {\n    this.kpuzzle = kpuzzle;\n    this.patternData = patternData;\n  }\n  toJSON() {\n    return {\n      experimentalPuzzleName: this.kpuzzle.name(),\n      patternData: this.patternData\n    };\n  }\n  static fromTransformation(transformation) {\n    const newPatternData = applyTransformationDataToKPatternData(\n      transformation.kpuzzle.definition,\n      transformation.kpuzzle.definition.defaultPattern,\n      transformation.transformationData\n    );\n    return new _KPattern(transformation.kpuzzle, newPatternData);\n  }\n  // Convenience function\n  /** @deprecated */\n  apply(source) {\n    return this.applyTransformation(this.kpuzzle.toTransformation(source));\n  }\n  applyTransformation(transformation) {\n    if (transformation.isIdentityTransformation()) {\n      return new _KPattern(this.kpuzzle, this.patternData);\n    }\n    const newPatternData = applyTransformationDataToKPatternData(\n      this.kpuzzle.definition,\n      this.patternData,\n      transformation.transformationData\n    );\n    return new _KPattern(this.kpuzzle, newPatternData);\n  }\n  applyMove(move) {\n    return this.applyTransformation(this.kpuzzle.moveToTransformation(move));\n  }\n  applyAlg(alg) {\n    return this.applyTransformation(this.kpuzzle.algToTransformation(alg));\n  }\n  /** @deprecated */\n  experimentalToTransformation() {\n    if (!this.kpuzzle.canConvertDefaultPatternToUniqueTransformation()) {\n      return null;\n    }\n    const transformationData = {};\n    for (const [orbitName, patternOrbitData] of Object.entries(\n      this.patternData\n    )) {\n      const transformationOrbit = {\n        permutation: patternOrbitData.pieces,\n        orientationDelta: patternOrbitData.orientation\n      };\n      transformationData[orbitName] = transformationOrbit;\n    }\n    return new KTransformation(this.kpuzzle, transformationData);\n  }\n  experimentalIsSolved(options) {\n    if (!this.kpuzzle.definition.experimentalIsPatternSolved) {\n      throw new Error(\n        \"`KPattern.experimentalIsPatternSolved()` is not supported for this puzzle at the moment.\"\n      );\n    }\n    return this.kpuzzle.definition.experimentalIsPatternSolved(this, options);\n  }\n};\nvar _cachedIsIdentity, _a;\nvar KTransformation = (_a = class {\n  constructor(kpuzzle, transformationData) {\n    // For optimizations, we want to make it cheap to rely on optimizations when a\n    // transformation is an identity. Here, we try to make it cheaper by:\n    // - only calculating when needed, and\n    // - caching the result.\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedIsIdentity, void 0);\n    this.kpuzzle = kpuzzle;\n    this.transformationData = transformationData;\n  }\n  toJSON() {\n    return {\n      experimentalPuzzleName: this.kpuzzle.name(),\n      transformationData: this.transformationData\n    };\n  }\n  invert() {\n    return new _a(\n      this.kpuzzle,\n      invertTransformation(this.kpuzzle, this.transformationData)\n    );\n  }\n  // TODO: is `null` worse here?\n  isIdentityTransformation() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedIsIdentity) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedIsIdentity, this.isIdentical(\n      this.kpuzzle.identityTransformation()\n    ));\n  }\n  /** @deprecated */\n  static experimentalConstructIdentity(kpuzzle) {\n    const transformation = new _a(\n      kpuzzle,\n      constructIdentityTransformationDataUncached(kpuzzle.definition)\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(transformation, _cachedIsIdentity, true);\n    return transformation;\n  }\n  isIdentical(t2) {\n    return isTransformationDataIdentical(\n      this.kpuzzle,\n      this.transformationData,\n      t2.transformationData\n    );\n  }\n  // Convenience function\n  /** @deprecated */\n  apply(source) {\n    return this.applyTransformation(this.kpuzzle.toTransformation(source));\n  }\n  applyTransformation(t2) {\n    if (this.kpuzzle !== t2.kpuzzle) {\n      throw new Error(\n        `Tried to apply a transformation for a KPuzzle (${t2.kpuzzle.name()}) to a different KPuzzle (${this.kpuzzle.name()}).`\n      );\n    }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedIsIdentity)) {\n      return new _a(this.kpuzzle, t2.transformationData);\n    }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(t2, _cachedIsIdentity)) {\n      return new _a(this.kpuzzle, this.transformationData);\n    }\n    return new _a(\n      this.kpuzzle,\n      combineTransformationData(\n        this.kpuzzle.definition,\n        this.transformationData,\n        t2.transformationData\n      )\n    );\n  }\n  applyMove(move) {\n    return this.applyTransformation(this.kpuzzle.moveToTransformation(move));\n  }\n  applyAlg(alg) {\n    return this.applyTransformation(this.kpuzzle.algToTransformation(alg));\n  }\n  // Convenience. Useful for chaining.\n  toKPattern() {\n    return KPattern.fromTransformation(this);\n  }\n  repetitionOrder() {\n    return transformationRepetitionOrder(this.kpuzzle.definition, this);\n  }\n  selfMultiply(amount) {\n    return new _a(\n      this.kpuzzle,\n      repeatTransformationUncached(\n        this.kpuzzle,\n        this.transformationData,\n        amount\n      )\n    );\n  }\n}, _cachedIsIdentity = new WeakMap(), _a);\nfunction isOrbitTransformationDataIdentityUncached(numOrientations, orbitTransformationData) {\n  if (!orbitTransformationData.permutation) {\n    console.log(orbitTransformationData);\n  }\n  const { permutation } = orbitTransformationData;\n  const numPieces = permutation.length;\n  for (let idx = 0; idx < numPieces; idx++) {\n    if (permutation[idx] !== idx) {\n      return false;\n    }\n  }\n  if (numOrientations > 1) {\n    const { orientationDelta: orientation } = orbitTransformationData;\n    for (let idx = 0; idx < numPieces; idx++) {\n      if (orientation[idx] !== 0) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\nfunction isOrbitTransformationDataIdentical(orbitDefinition, orbitTransformationData1, orbitTransformationData2, options = {}) {\n  for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n    if (!options?.ignoreOrientation && orbitTransformationData1.orientationDelta[idx] !== orbitTransformationData2.orientationDelta[idx]) {\n      return false;\n    }\n    if (!options?.ignorePermutation && orbitTransformationData1.permutation[idx] !== orbitTransformationData2.permutation[idx]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isTransformationDataIdentical(kpuzzle, transformationData1, transformationData2) {\n  for (const orbitDefinition of kpuzzle.definition.orbits) {\n    if (!isOrbitTransformationDataIdentical(\n      orbitDefinition,\n      transformationData1[orbitDefinition.orbitName],\n      transformationData2[orbitDefinition.orbitName]\n    )) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction invertTransformation(kpuzzle, transformationData) {\n  const newTransformationData = {};\n  for (const orbitDefinition of kpuzzle.definition.orbits) {\n    const orbitTransformationData = transformationData[orbitDefinition.orbitName];\n    if (isOrbitTransformationDataIdentityUncached(\n      orbitDefinition.numOrientations,\n      orbitTransformationData\n    )) {\n      newTransformationData[orbitDefinition.orbitName] = orbitTransformationData;\n    } else if (orbitDefinition.numOrientations === 1) {\n      const newPerm = new Array(orbitDefinition.numPieces);\n      for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n        newPerm[orbitTransformationData.permutation[idx]] = idx;\n      }\n      newTransformationData[orbitDefinition.orbitName] = {\n        permutation: newPerm,\n        orientationDelta: orbitTransformationData.orientationDelta\n      };\n    } else {\n      const newPerm = new Array(orbitDefinition.numPieces);\n      const newOri = new Array(orbitDefinition.numPieces);\n      for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n        const fromIdx = orbitTransformationData.permutation[idx];\n        newPerm[fromIdx] = idx;\n        newOri[fromIdx] = (orbitDefinition.numOrientations - orbitTransformationData.orientationDelta[idx] + orbitDefinition.numOrientations) % orbitDefinition.numOrientations;\n      }\n      newTransformationData[orbitDefinition.orbitName] = {\n        permutation: newPerm,\n        orientationDelta: newOri\n      };\n    }\n  }\n  return newTransformationData;\n}\nfunction repeatTransformationUncached(kpuzzle, transformationData, amount) {\n  if (amount === 1) {\n    return transformationData;\n  }\n  if (amount < 0) {\n    return repeatTransformationUncached(\n      kpuzzle,\n      invertTransformation(kpuzzle, transformationData),\n      -amount\n    );\n  }\n  if (amount === 0) {\n    const { transformationData: transformationData2 } = kpuzzle.identityTransformation();\n    return transformationData2;\n  }\n  let halfish = transformationData;\n  if (amount !== 2) {\n    halfish = repeatTransformationUncached(\n      kpuzzle,\n      transformationData,\n      Math.floor(amount / 2)\n    );\n  }\n  const twiceHalfish = combineTransformationData(\n    kpuzzle.definition,\n    halfish,\n    halfish\n  );\n  if (amount % 2 === 0) {\n    return twiceHalfish;\n  } else {\n    return combineTransformationData(\n      kpuzzle.definition,\n      transformationData,\n      twiceHalfish\n    );\n  }\n}\nvar AlgToTransformationTraversal = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.TraversalDownUp {\n  traverseAlg(alg, kpuzzle) {\n    let transformation = null;\n    for (const algNode of alg.childAlgNodes()) {\n      if (transformation) {\n        transformation = transformation.applyTransformation(\n          this.traverseAlgNode(algNode, kpuzzle)\n        );\n      } else {\n        transformation = this.traverseAlgNode(algNode, kpuzzle);\n      }\n    }\n    return transformation ?? kpuzzle.identityTransformation();\n  }\n  traverseGrouping(grouping, kpuzzle) {\n    const algTransformation = this.traverseAlg(grouping.alg, kpuzzle);\n    return new KTransformation(\n      kpuzzle,\n      repeatTransformationUncached(\n        kpuzzle,\n        algTransformation.transformationData,\n        grouping.amount\n      )\n    );\n  }\n  traverseMove(move, kpuzzle) {\n    return kpuzzle.moveToTransformation(move);\n  }\n  traverseCommutator(commutator, kpuzzle) {\n    const aTransformation = this.traverseAlg(commutator.A, kpuzzle);\n    const bTransformation = this.traverseAlg(commutator.B, kpuzzle);\n    return aTransformation.applyTransformation(bTransformation).applyTransformation(aTransformation.invert()).applyTransformation(bTransformation.invert());\n  }\n  traverseConjugate(conjugate, kpuzzle) {\n    const aTransformation = this.traverseAlg(conjugate.A, kpuzzle);\n    const bTransformation = this.traverseAlg(conjugate.B, kpuzzle);\n    return aTransformation.applyTransformation(bTransformation).applyTransformation(aTransformation.invert());\n  }\n  traversePause(_, kpuzzle) {\n    return kpuzzle.identityTransformation();\n  }\n  traverseNewline(_, kpuzzle) {\n    return kpuzzle.identityTransformation();\n  }\n  traverseLineComment(_, kpuzzle) {\n    return kpuzzle.identityTransformation();\n  }\n};\nvar algToTransformation = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.functionFromTraversal)(\n  AlgToTransformationTraversal\n);\nfunction gcd(a, b) {\n  if (b) {\n    return gcd(b, a % b);\n  }\n  return a;\n}\nfunction transformationRepetitionOrder(definition, transformation) {\n  let order = 1;\n  for (const orbitDefinition of definition.orbits) {\n    const transformationOrbit = transformation.transformationData[orbitDefinition.orbitName];\n    const orbitPieces = new Array(orbitDefinition.numPieces);\n    for (let startIdx = 0; startIdx < orbitDefinition.numPieces; startIdx++) {\n      if (!orbitPieces[startIdx]) {\n        let currentIdx = startIdx;\n        let orientationSum = 0;\n        let cycleLength = 0;\n        for (; ; ) {\n          orbitPieces[currentIdx] = true;\n          orientationSum = orientationSum + transformationOrbit.orientationDelta[currentIdx];\n          cycleLength = cycleLength + 1;\n          currentIdx = transformationOrbit.permutation[currentIdx];\n          if (currentIdx === startIdx) {\n            break;\n          }\n        }\n        if (orientationSum !== 0) {\n          cycleLength = cycleLength * orbitDefinition.numOrientations / gcd(orbitDefinition.numOrientations, Math.abs(orientationSum));\n        }\n        order = order * cycleLength / gcd(order, cycleLength);\n      }\n    }\n  }\n  return order;\n}\nvar _indexedOrbits, _moveToTransformationDataCache, _cachedCanConvertDefaultPatternToUniqueTransformation, _a2;\nvar KPuzzle = (_a2 = class {\n  constructor(definition, options) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _indexedOrbits, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _moveToTransformationDataCache, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedCanConvertDefaultPatternToUniqueTransformation, void 0);\n    this.definition = definition;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _moveToTransformationDataCache, /* @__PURE__ */ new Map());\n    this.experimentalPGNotation = options?.experimentalPGNotation;\n  }\n  // Note: this function is needed much more rarely than you might think. Most\n  // operations related to orbits require iterating through all of them, for\n  // which the following is better:\n  //\n  //    for (const orbitDefinition of kpuzzle.definition.orbits) { // …\n  //    }\n  lookupOrbitDefinition(orbitName) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _indexedOrbits) || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _indexedOrbits, (() => {\n      const indexedOrbits = {};\n      for (const orbitDefinition of this.definition.orbits) {\n        indexedOrbits[orbitDefinition.orbitName] = orbitDefinition;\n      }\n      return indexedOrbits;\n    })());\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _indexedOrbits)[orbitName];\n  }\n  name() {\n    return this.definition.name;\n  }\n  identityTransformation() {\n    return KTransformation.experimentalConstructIdentity(this);\n  }\n  moveToTransformation(move) {\n    if (typeof move === \"string\") {\n      move = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move(move);\n    }\n    const cacheKey = move.toString();\n    const cachedTransformationData = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _moveToTransformationDataCache).get(cacheKey);\n    if (cachedTransformationData) {\n      return new KTransformation(this, cachedTransformationData);\n    }\n    if (this.experimentalPGNotation) {\n      const transformationData2 = this.experimentalPGNotation.lookupMove(move);\n      if (!transformationData2) {\n        throw new Error(`could not map to internal move: ${move}`);\n      }\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _moveToTransformationDataCache).set(cacheKey, transformationData2);\n      return new KTransformation(this, transformationData2);\n    }\n    const transformationData = moveToTransformationUncached(this, move);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _moveToTransformationDataCache).set(cacheKey, transformationData);\n    return new KTransformation(this, transformationData);\n  }\n  algToTransformation(alg) {\n    if (typeof alg === \"string\") {\n      alg = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Alg(alg);\n    }\n    return algToTransformation(alg, this);\n  }\n  /** @deprecated */\n  toTransformation(source) {\n    if (typeof source === \"string\") {\n      return this.algToTransformation(source);\n    } else if (source?.is?.(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Alg)) {\n      return this.algToTransformation(source);\n    } else if (source?.is?.(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move)) {\n      return this.moveToTransformation(source);\n    } else {\n      return source;\n    }\n  }\n  defaultPattern() {\n    return new KPattern(this, this.definition.defaultPattern);\n  }\n  // TODO: Handle incomplete default pattern data\n  canConvertDefaultPatternToUniqueTransformation() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedCanConvertDefaultPatternToUniqueTransformation) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedCanConvertDefaultPatternToUniqueTransformation, (() => {\n      for (const orbitDefinition of this.definition.orbits) {\n        const pieces = new Array(orbitDefinition.numPieces).fill(false);\n        for (const piece of this.definition.defaultPattern[orbitDefinition.orbitName].pieces) {\n          pieces[piece] = true;\n        }\n        for (const piece of pieces) {\n          if (!piece) {\n            return false;\n          }\n        }\n      }\n      return true;\n    })());\n  }\n}, _indexedOrbits = new WeakMap(), _moveToTransformationDataCache = new WeakMap(), _cachedCanConvertDefaultPatternToUniqueTransformation = new WeakMap(), _a2);\n\n// node_modules/cubing/dist/cubing/chunk-H66X47MG.js\nfunction getFaceletStickeringMask(stickeringMask, orbitName, pieceIdx, faceletIdx, hint) {\n  const orbitStickeringMask = stickeringMask.orbits[orbitName];\n  const pieceStickeringMask = orbitStickeringMask.pieces[pieceIdx];\n  if (pieceStickeringMask === null) {\n    return regular;\n  }\n  const faceletStickeringMask = pieceStickeringMask.facelets?.[faceletIdx];\n  if (faceletStickeringMask === null) {\n    return regular;\n  }\n  if (typeof faceletStickeringMask === \"string\") {\n    return faceletStickeringMask;\n  }\n  if (hint) {\n    return faceletStickeringMask.hintMask ?? faceletStickeringMask.mask;\n  }\n  console.log(faceletStickeringMask);\n  return faceletStickeringMask.mask;\n}\nvar PieceAnnotation = class {\n  constructor(kpuzzle, defaultValue) {\n    this.stickerings = /* @__PURE__ */ new Map();\n    for (const orbitDefinition of kpuzzle.definition.orbits) {\n      this.stickerings.set(\n        orbitDefinition.orbitName,\n        new Array(orbitDefinition.numPieces).fill(defaultValue)\n      );\n    }\n  }\n};\nvar regular = \"regular\";\nvar ignored = \"ignored\";\nvar oriented = \"oriented\";\nvar invisible = \"invisible\";\nvar dim = \"dim\";\nvar pieceStickerings = {\n  // regular\n  [\n    \"Regular\"\n    /* Regular */\n  ]: {\n    // r\n    facelets: [regular, regular, regular, regular, regular]\n  },\n  // ignored\n  [\n    \"Ignored\"\n    /* Ignored */\n  ]: {\n    // i\n    facelets: [ignored, ignored, ignored, ignored, ignored]\n  },\n  // oriented stickers\n  [\n    \"OrientationStickers\"\n    /* OrientationStickers */\n  ]: {\n    // o\n    facelets: [oriented, oriented, oriented, oriented, oriented]\n  },\n  // \"OLL\"\n  [\n    \"IgnoreNonPrimary\"\n    /* IgnoreNonPrimary */\n  ]: {\n    // riiii\n    facelets: [regular, ignored, ignored, ignored, ignored]\n  },\n  // invisible\n  [\n    \"Invisible\"\n    /* Invisible */\n  ]: {\n    // invisiblePiece\n    facelets: [invisible, invisible, invisible, invisible, invisible]\n  },\n  // \"PLL\"\n  [\n    \"PermuteNonPrimary\"\n    /* PermuteNonPrimary */\n  ]: {\n    // drrrr\n    facelets: [dim, regular, regular, regular, regular]\n  },\n  // ignored\n  [\n    \"Dim\"\n    /* Dim */\n  ]: {\n    // d\n    facelets: [dim, dim, dim, dim, dim]\n  },\n  // \"OLL\"\n  [\n    \"Ignoriented\"\n    /* Ignoriented */\n  ]: {\n    // diiii\n    facelets: [dim, ignored, ignored, ignored, ignored]\n  },\n  [\n    \"OrientationWithoutPermutation\"\n    /* OrientationWithoutPermutation */\n  ]: {\n    // oiiii\n    facelets: [oriented, ignored, ignored, ignored, ignored]\n  }\n};\nfunction getPieceStickeringMask(pieceStickering) {\n  return pieceStickerings[pieceStickering];\n}\nvar PuzzleStickering = class extends PieceAnnotation {\n  constructor(kpuzzle) {\n    super(\n      kpuzzle,\n      \"Regular\"\n      /* Regular */\n    );\n  }\n  set(pieceSet, pieceStickering) {\n    for (const [orbitName, pieces] of this.stickerings.entries()) {\n      for (let i = 0; i < pieces.length; i++) {\n        if (pieceSet.stickerings.get(orbitName)[i]) {\n          pieces[i] = pieceStickering;\n        }\n      }\n    }\n    return this;\n  }\n  toStickeringMask() {\n    const stickeringMask = { orbits: {} };\n    for (const [orbitName, pieceStickerings2] of this.stickerings.entries()) {\n      const pieces = [];\n      const orbitStickeringMask = {\n        pieces\n      };\n      stickeringMask.orbits[orbitName] = orbitStickeringMask;\n      for (const pieceStickering of pieceStickerings2) {\n        pieces.push(getPieceStickeringMask(pieceStickering));\n      }\n    }\n    return stickeringMask;\n  }\n};\nvar StickeringManager = class {\n  constructor(kpuzzle) {\n    this.kpuzzle = kpuzzle;\n  }\n  and(pieceSets) {\n    const newPieceSet = new PieceAnnotation(this.kpuzzle, false);\n    for (const orbitDefinition of this.kpuzzle.definition.orbits) {\n      pieceLoop:\n        for (let i = 0; i < orbitDefinition.numPieces; i++) {\n          newPieceSet.stickerings.get(orbitDefinition.orbitName)[i] = true;\n          for (const pieceSet of pieceSets) {\n            if (!pieceSet.stickerings.get(orbitDefinition.orbitName)[i]) {\n              newPieceSet.stickerings.get(orbitDefinition.orbitName)[i] = false;\n              continue pieceLoop;\n            }\n          }\n        }\n    }\n    return newPieceSet;\n  }\n  or(pieceSets) {\n    const newPieceSet = new PieceAnnotation(this.kpuzzle, false);\n    for (const orbitDefinition of this.kpuzzle.definition.orbits) {\n      pieceLoop:\n        for (let i = 0; i < orbitDefinition.numPieces; i++) {\n          newPieceSet.stickerings.get(orbitDefinition.orbitName)[i] = false;\n          for (const pieceSet of pieceSets) {\n            if (pieceSet.stickerings.get(orbitDefinition.orbitName)[i]) {\n              newPieceSet.stickerings.get(orbitDefinition.orbitName)[i] = true;\n              continue pieceLoop;\n            }\n          }\n        }\n    }\n    return newPieceSet;\n  }\n  not(pieceSet) {\n    const newPieceSet = new PieceAnnotation(this.kpuzzle, false);\n    for (const orbitDefinition of this.kpuzzle.definition.orbits) {\n      for (let i = 0; i < orbitDefinition.numPieces; i++) {\n        newPieceSet.stickerings.get(orbitDefinition.orbitName)[i] = !pieceSet.stickerings.get(orbitDefinition.orbitName)[i];\n      }\n    }\n    return newPieceSet;\n  }\n  all() {\n    return this.and(this.moves([]));\n  }\n  move(moveSource) {\n    const transformation = this.kpuzzle.moveToTransformation(moveSource);\n    const newPieceSet = new PieceAnnotation(this.kpuzzle, false);\n    for (const orbitDefinition of this.kpuzzle.definition.orbits) {\n      for (let i = 0; i < orbitDefinition.numPieces; i++) {\n        if (transformation.transformationData[orbitDefinition.orbitName].permutation[i] !== i || transformation.transformationData[orbitDefinition.orbitName].orientationDelta[i] !== 0) {\n          newPieceSet.stickerings.get(orbitDefinition.orbitName)[i] = true;\n        }\n      }\n    }\n    return newPieceSet;\n  }\n  moves(moveSources) {\n    return moveSources.map((moveSource) => this.move(moveSource));\n  }\n  orbits(orbitNames) {\n    const pieceSet = new PieceAnnotation(this.kpuzzle, false);\n    for (const orbitName of orbitNames) {\n      pieceSet.stickerings.get(orbitName).fill(true);\n    }\n    return pieceSet;\n  }\n  orbitPrefix(orbitPrefix) {\n    const pieceSet = new PieceAnnotation(this.kpuzzle, false);\n    for (const orbitDefinition of this.kpuzzle.definition.orbits) {\n      if (orbitDefinition.orbitName.startsWith(orbitPrefix)) {\n        pieceSet.stickerings.get(orbitDefinition.orbitName).fill(true);\n      }\n    }\n    return pieceSet;\n  }\n  // trueCounts(pieceSet: PieceSet): Record<string, number> {\n  //   const counts: Record<string, number> = {};\n  //   for (const orbitDefinition of this.def.orbits) {\n  //     let count = 0;\n  //     for (let i = 0; i < orbitDefinition.numPieces; i++) {\n  //       if (pieceSet.stickerings.get(orbitDefinition.orbitName)![i]) {\n  //         count++;\n  //       }\n  //     }\n  //     counts[orbitName] = count;\n  //   }\n  //   return counts;\n  // }\n};\nvar LL = \"Last Layer\";\nvar LS = \"Last Slot\";\nvar megaAnd3x3x3LL = {\n  \"3x3x3\": LL,\n  megaminx: LL\n};\nvar megaAnd3x3x3LS = {\n  \"3x3x3\": LS,\n  megaminx: LS\n};\nvar experimentalStickerings = {\n  full: { groups: { \"3x3x3\": \"Stickering\", megaminx: \"Stickering\" } },\n  // default\n  OLL: { groups: megaAnd3x3x3LL },\n  PLL: { groups: megaAnd3x3x3LL },\n  LL: { groups: megaAnd3x3x3LL },\n  EOLL: { groups: megaAnd3x3x3LL },\n  COLL: { groups: megaAnd3x3x3LL },\n  OCLL: { groups: megaAnd3x3x3LL },\n  CPLL: { groups: megaAnd3x3x3LL },\n  CLL: { groups: megaAnd3x3x3LL },\n  EPLL: { groups: megaAnd3x3x3LL },\n  ELL: { groups: megaAnd3x3x3LL },\n  ZBLL: { groups: megaAnd3x3x3LL },\n  LS: { groups: megaAnd3x3x3LS },\n  ELS: { groups: megaAnd3x3x3LS },\n  CLS: { groups: megaAnd3x3x3LS },\n  ZBLS: { groups: megaAnd3x3x3LS },\n  VLS: { groups: megaAnd3x3x3LS },\n  WVLS: { groups: megaAnd3x3x3LS },\n  F2L: { groups: { \"3x3x3\": \"CFOP (Fridrich)\" } },\n  Daisy: { groups: { \"3x3x3\": \"CFOP (Fridrich)\" } },\n  Cross: { groups: { \"3x3x3\": \"CFOP (Fridrich)\" } },\n  EO: { groups: { \"3x3x3\": \"ZZ\" } },\n  EOline: { groups: { \"3x3x3\": \"ZZ\" } },\n  EOcross: { groups: { \"3x3x3\": \"ZZ\" } },\n  CMLL: { groups: { \"3x3x3\": \"Roux\" } },\n  L10P: { groups: { \"3x3x3\": \"Roux\" } },\n  L6E: { groups: { \"3x3x3\": \"Roux\" } },\n  L6EO: { groups: { \"3x3x3\": \"Roux\" } },\n  \"2x2x2\": { groups: { \"3x3x3\": \"Petrus\" } },\n  \"2x2x3\": { groups: { \"3x3x3\": \"Petrus\" } },\n  L2C: {\n    groups: {\n      \"4x4x4\": \"Reduction\",\n      \"5x5x5\": \"Reduction\",\n      \"6x6x6\": \"Reduction\"\n    }\n  },\n  PBL: {\n    groups: {\n      \"2x2x2\": \"Ortega\"\n    }\n  },\n  \"Void Cube\": { groups: { \"3x3x3\": \"Miscellaneous\" } },\n  invisible: { groups: { \"3x3x3\": \"Miscellaneous\" } },\n  picture: { groups: { \"3x3x3\": \"Miscellaneous\" } },\n  \"centers-only\": { groups: { \"3x3x3\": \"Miscellaneous\" } },\n  // TODO\n  \"experimental-centers-U\": {},\n  \"experimental-centers-U-D\": {},\n  \"experimental-centers-U-L-D\": {},\n  \"experimental-centers-U-L-B-D\": {},\n  \"experimental-centers\": {},\n  \"experimental-fto-fc\": { groups: { fto: \"Bencisco\" } },\n  \"experimental-fto-f2t\": { groups: { fto: \"Bencisco\" } },\n  \"experimental-fto-sc\": { groups: { fto: \"Bencisco\" } },\n  \"experimental-fto-l2c\": { groups: { fto: \"Bencisco\" } },\n  \"experimental-fto-lbt\": { groups: { fto: \"Bencisco\" } },\n  \"experimental-fto-l3t\": { groups: { fto: \"Bencisco\" } }\n};\nasync function cubeLikeStickeringMask(puzzleLoader, stickering) {\n  const kpuzzle = await puzzleLoader.kpuzzle();\n  const puzzleStickering = new PuzzleStickering(kpuzzle);\n  const m = new StickeringManager(kpuzzle);\n  const LL2 = () => m.move(\"U\");\n  const orUD = () => m.or(m.moves([\"U\", \"D\"]));\n  const orLR = () => m.or(m.moves([\"L\", \"R\"]));\n  const M = () => m.not(orLR());\n  const F2L = () => m.not(LL2());\n  const CENTERS = () => m.orbitPrefix(\"CENTER\");\n  const EDGES = () => m.orbitPrefix(\"EDGE\");\n  const CORNERS = () => m.or([\n    m.orbitPrefix(\"CORNER\"),\n    m.orbitPrefix(\"C4RNER\"),\n    m.orbitPrefix(\"C5RNER\")\n  ]);\n  const L6E = () => m.or([M(), m.and([LL2(), EDGES()])]);\n  const centerLL = () => m.and([LL2(), CENTERS()]);\n  const edgeFR = () => m.and([m.and(m.moves([\"F\", \"R\"])), EDGES()]);\n  const cornerDFR = () => m.and([m.and(m.moves([\"F\", \"R\"])), CORNERS(), m.not(LL2())]);\n  const slotFR = () => m.or([cornerDFR(), edgeFR()]);\n  function dimF2L() {\n    puzzleStickering.set(\n      F2L(),\n      \"Dim\"\n      /* Dim */\n    );\n  }\n  function setPLL() {\n    puzzleStickering.set(\n      LL2(),\n      \"PermuteNonPrimary\"\n      /* PermuteNonPrimary */\n    );\n    puzzleStickering.set(\n      centerLL(),\n      \"Dim\"\n      /* Dim */\n    );\n  }\n  function setOLL() {\n    puzzleStickering.set(\n      LL2(),\n      \"IgnoreNonPrimary\"\n      /* IgnoreNonPrimary */\n    );\n    puzzleStickering.set(\n      centerLL(),\n      \"Regular\"\n      /* Regular */\n    );\n  }\n  function dimOLL() {\n    puzzleStickering.set(\n      LL2(),\n      \"Ignoriented\"\n      /* Ignoriented */\n    );\n    puzzleStickering.set(\n      centerLL(),\n      \"Dim\"\n      /* Dim */\n    );\n  }\n  switch (stickering) {\n    case \"full\":\n      break;\n    case \"PLL\": {\n      dimF2L();\n      setPLL();\n      break;\n    }\n    case \"CLS\": {\n      dimF2L();\n      puzzleStickering.set(\n        cornerDFR(),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        LL2(),\n        \"Ignoriented\"\n        /* Ignoriented */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CENTERS()]),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"IgnoreNonPrimary\"\n        /* IgnoreNonPrimary */\n      );\n      break;\n    }\n    case \"OLL\": {\n      dimF2L();\n      setOLL();\n      break;\n    }\n    case \"EOLL\": {\n      dimF2L();\n      setOLL();\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"COLL\": {\n      dimF2L();\n      puzzleStickering.set(\n        m.and([LL2(), EDGES()]),\n        \"Ignoriented\"\n        /* Ignoriented */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CENTERS()]),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"OCLL\": {\n      dimF2L();\n      dimOLL();\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"IgnoreNonPrimary\"\n        /* IgnoreNonPrimary */\n      );\n      break;\n    }\n    case \"CPLL\": {\n      dimF2L();\n      puzzleStickering.set(\n        m.and([CORNERS(), LL2()]),\n        \"PermuteNonPrimary\"\n        /* PermuteNonPrimary */\n      );\n      puzzleStickering.set(\n        m.and([m.not(CORNERS()), LL2()]),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"CLL\": {\n      dimF2L();\n      puzzleStickering.set(\n        m.not(m.and([CORNERS(), LL2()])),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"EPLL\": {\n      dimF2L();\n      puzzleStickering.set(\n        LL2(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), EDGES()]),\n        \"PermuteNonPrimary\"\n        /* PermuteNonPrimary */\n      );\n      break;\n    }\n    case \"ELL\": {\n      dimF2L();\n      puzzleStickering.set(\n        LL2(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), EDGES()]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"ELS\": {\n      dimF2L();\n      setOLL();\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        edgeFR(),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        cornerDFR(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"LL\": {\n      dimF2L();\n      break;\n    }\n    case \"F2L\": {\n      puzzleStickering.set(\n        LL2(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"ZBLL\": {\n      dimF2L();\n      puzzleStickering.set(\n        LL2(),\n        \"PermuteNonPrimary\"\n        /* PermuteNonPrimary */\n      );\n      puzzleStickering.set(\n        centerLL(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"ZBLS\": {\n      dimF2L();\n      puzzleStickering.set(\n        slotFR(),\n        \"Regular\"\n        /* Regular */\n      );\n      setOLL();\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"VLS\": {\n      dimF2L();\n      puzzleStickering.set(\n        slotFR(),\n        \"Regular\"\n        /* Regular */\n      );\n      setOLL();\n      break;\n    }\n    case \"WVLS\": {\n      dimF2L();\n      puzzleStickering.set(\n        slotFR(),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), EDGES()]),\n        \"Ignoriented\"\n        /* Ignoriented */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CENTERS()]),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"IgnoreNonPrimary\"\n        /* IgnoreNonPrimary */\n      );\n      break;\n    }\n    case \"LS\": {\n      dimF2L();\n      puzzleStickering.set(\n        slotFR(),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        LL2(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        centerLL(),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"EO\": {\n      puzzleStickering.set(\n        CORNERS(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        EDGES(),\n        \"OrientationWithoutPermutation\"\n        /* OrientationWithoutPermutation */\n      );\n      break;\n    }\n    case \"EOline\": {\n      puzzleStickering.set(\n        CORNERS(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        EDGES(),\n        \"OrientationWithoutPermutation\"\n        /* OrientationWithoutPermutation */\n      );\n      puzzleStickering.set(\n        m.and(m.moves([\"D\", \"M\"])),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"EOcross\": {\n      puzzleStickering.set(\n        EDGES(),\n        \"OrientationWithoutPermutation\"\n        /* OrientationWithoutPermutation */\n      );\n      puzzleStickering.set(\n        m.move(\"D\"),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        CORNERS(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"CMLL\": {\n      puzzleStickering.set(\n        F2L(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        L6E(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        m.and([LL2(), CORNERS()]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"L10P\": {\n      puzzleStickering.set(\n        m.not(L6E()),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([CORNERS(), LL2()]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"L6E\": {\n      puzzleStickering.set(\n        m.not(L6E()),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"L6EO\": {\n      puzzleStickering.set(\n        m.not(L6E()),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        L6E(),\n        \"OrientationWithoutPermutation\"\n        /* OrientationWithoutPermutation */\n      );\n      puzzleStickering.set(\n        m.and([CENTERS(), orUD()]),\n        \"OrientationStickers\"\n        /* OrientationStickers */\n      );\n      break;\n    }\n    case \"Daisy\": {\n      puzzleStickering.set(\n        m.all(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        CENTERS(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([m.move(\"D\"), CENTERS()]),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        m.and([m.move(\"U\"), EDGES()]),\n        \"IgnoreNonPrimary\"\n        /* IgnoreNonPrimary */\n      );\n      break;\n    }\n    case \"Cross\": {\n      puzzleStickering.set(\n        m.all(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        CENTERS(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([m.move(\"D\"), CENTERS()]),\n        \"Regular\"\n        /* Regular */\n      );\n      puzzleStickering.set(\n        m.and([m.move(\"D\"), EDGES()]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"2x2x2\": {\n      puzzleStickering.set(\n        m.or(m.moves([\"U\", \"F\", \"R\"])),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        m.and([m.or(m.moves([\"U\", \"F\", \"R\"])), CENTERS()]),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"2x2x3\": {\n      puzzleStickering.set(\n        m.all(),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.or(m.moves([\"U\", \"F\", \"R\"])),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        m.and([m.or(m.moves([\"U\", \"F\", \"R\"])), CENTERS()]),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.and([m.move(\"F\"), m.not(m.or(m.moves([\"U\", \"R\"])))]),\n        \"Regular\"\n        /* Regular */\n      );\n      break;\n    }\n    case \"L2C\": {\n      puzzleStickering.set(\n        m.or(m.moves([\"L\", \"R\", \"B\", \"D\"])),\n        \"Dim\"\n        /* Dim */\n      );\n      puzzleStickering.set(\n        m.not(CENTERS()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"PBL\": {\n      puzzleStickering.set(\n        m.all(),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        m.or(m.moves([\"U\", \"D\"])),\n        \"PermuteNonPrimary\"\n        /* PermuteNonPrimary */\n      );\n      break;\n    }\n    case \"Void Cube\": {\n      puzzleStickering.set(\n        CENTERS(),\n        \"Invisible\"\n        /* Invisible */\n      );\n      break;\n    }\n    case \"picture\":\n    case \"invisible\": {\n      puzzleStickering.set(\n        m.all(),\n        \"Invisible\"\n        /* Invisible */\n      );\n      break;\n    }\n    case \"centers-only\": {\n      puzzleStickering.set(\n        m.not(CENTERS()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    default:\n      console.warn(\n        `Unsupported stickering for ${puzzleLoader.id}: ${stickering}. Setting all pieces to dim.`\n      );\n      puzzleStickering.set(\n        m.and(m.moves([])),\n        \"Dim\"\n        /* Dim */\n      );\n  }\n  return puzzleStickering.toStickeringMask();\n}\nasync function cubeLikeStickeringList(puzzleID, options) {\n  const stickerings = [];\n  const stickeringsFallback = [];\n  for (const [name, info] of Object.entries(experimentalStickerings)) {\n    if (info.groups) {\n      if (puzzleID in info.groups) {\n        stickerings.push(name);\n      } else if (options?.use3x3x3Fallbacks && \"3x3x3\" in info.groups) {\n        stickeringsFallback.push(name);\n      }\n    }\n  }\n  return stickerings.concat(stickeringsFallback);\n}\nfunction getCached(getValue) {\n  let cachedPromise = null;\n  return () => {\n    return cachedPromise ?? (cachedPromise = getValue());\n  };\n}\nvar PLazy = class _PLazy extends Promise {\n  constructor(executor) {\n    super((resolve) => {\n      resolve();\n    });\n    this._executor = executor;\n  }\n  static from(function_) {\n    return new _PLazy((resolve) => {\n      resolve(function_());\n    });\n  }\n  static resolve(value) {\n    return new _PLazy((resolve) => {\n      resolve(value);\n    });\n  }\n  static reject(error) {\n    return new _PLazy((_resolve, reject) => {\n      reject(error);\n    });\n  }\n  then(onFulfilled, onRejected) {\n    this._promise = this._promise || new Promise(this._executor);\n    return this._promise.then(onFulfilled, onRejected);\n  }\n  catch(onRejected) {\n    this._promise = this._promise || new Promise(this._executor);\n    return this._promise.catch(onRejected);\n  }\n};\nfunction from(function_) {\n  return new PLazy((resolve) => {\n    resolve(function_());\n  });\n}\nasync function asyncGetPuzzleGeometry(puzzleName) {\n  const puzzleGeometry = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzle-geometry-QEEUMPT6_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzle-geometry-QEEUMPT6.js */ \"./node_modules/scramble-display/dist/esm/puzzle-geometry-QEEUMPT6.js\"));\n  return puzzleGeometry.getPuzzleGeometryByName(puzzleName, {\n    allMoves: true,\n    orientCenters: true,\n    addRotations: true\n  });\n}\nasync function asyncGetKPuzzle(pgPromise, puzzleName) {\n  const pg = await pgPromise;\n  const kpuzzleDefinition = pg.getKPuzzleDefinition(true);\n  kpuzzleDefinition.name = puzzleName;\n  const puzzleGeometry = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzle-geometry-QEEUMPT6_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzle-geometry-QEEUMPT6.js */ \"./node_modules/scramble-display/dist/esm/puzzle-geometry-QEEUMPT6.js\"));\n  const pgNotation = new puzzleGeometry.ExperimentalPGNotation(\n    pg,\n    pg.getOrbitsDef(true)\n  );\n  return new KPuzzle(pgNotation.remapKPuzzleDefinition(kpuzzleDefinition), {\n    experimentalPGNotation: pgNotation\n  });\n}\nvar _cachedPG, _cachedKPuzzle, _cachedSVG, _a3;\nvar PGPuzzleLoader = (_a3 = class {\n  constructor(info) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedPG, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedKPuzzle, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedSVG, void 0);\n    this.puzzleSpecificSimplifyOptionsPromise = puzzleSpecificSimplifyOptionsPromise(\n      this.kpuzzle.bind(this)\n    );\n    this.pgId = info.pgID;\n    this.id = info.id;\n    this.fullName = info.fullName;\n    this.inventedBy = info.inventedBy;\n    this.inventionYear = info.inventionYear;\n  }\n  pg() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedPG) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedPG, asyncGetPuzzleGeometry(this.pgId ?? this.id));\n  }\n  kpuzzle() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedKPuzzle) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedKPuzzle, asyncGetKPuzzle(this.pg(), this.id));\n  }\n  svg() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedSVG) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedSVG, (async () => (await this.pg()).generatesvg())());\n  }\n}, _cachedPG = new WeakMap(), _cachedKPuzzle = new WeakMap(), _cachedSVG = new WeakMap(), _a3);\nvar CubePGPuzzleLoader = class extends PGPuzzleLoader {\n  constructor() {\n    super(...arguments);\n    this.stickerings = () => cubeLikeStickeringList(this.id, { use3x3x3Fallbacks: true });\n  }\n  stickeringMask(stickering) {\n    return cubeLikeStickeringMask(this, stickering);\n  }\n};\nfunction puzzleSpecificSimplifyOptionsPromise(kpuzzlePromiseFn) {\n  return new PLazy(\n    async (resolve) => {\n      const kpuzzle = await kpuzzlePromiseFn();\n      resolve({\n        quantumMoveOrder: (m) => {\n          return kpuzzle.moveToTransformation(new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move(m)).repetitionOrder();\n        }\n      });\n    }\n  );\n}\nvar cube3x3x3KPuzzleDefinition = {\n  name: \"3x3x3\",\n  orbits: [\n    { orbitName: \"EDGES\", numPieces: 12, numOrientations: 2 },\n    { orbitName: \"CORNERS\", numPieces: 8, numOrientations: 3 },\n    { orbitName: \"CENTERS\", numPieces: 6, numOrientations: 4 }\n  ],\n  defaultPattern: {\n    EDGES: {\n      pieces: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n      orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n    },\n    CORNERS: {\n      pieces: [0, 1, 2, 3, 4, 5, 6, 7],\n      orientation: [0, 0, 0, 0, 0, 0, 0, 0]\n    },\n    CENTERS: {\n      pieces: [0, 1, 2, 3, 4, 5],\n      orientation: [0, 0, 0, 0, 0, 0],\n      orientationMod: [1, 1, 1, 1, 1, 1]\n    }\n  },\n  moves: {\n    U: {\n      EDGES: {\n        permutation: [1, 2, 3, 0, 4, 5, 6, 7, 8, 9, 10, 11],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [1, 2, 3, 0, 4, 5, 6, 7],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 1, 2, 3, 4, 5],\n        orientationDelta: [1, 0, 0, 0, 0, 0]\n      }\n    },\n    y: {\n      EDGES: {\n        permutation: [1, 2, 3, 0, 5, 6, 7, 4, 10, 8, 11, 9],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1]\n      },\n      CORNERS: {\n        permutation: [1, 2, 3, 0, 7, 4, 5, 6],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 2, 3, 4, 1, 5],\n        orientationDelta: [1, 0, 0, 0, 0, 3]\n      }\n    },\n    x: {\n      EDGES: {\n        permutation: [4, 8, 0, 9, 6, 10, 2, 11, 5, 7, 1, 3],\n        orientationDelta: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [4, 0, 3, 5, 7, 6, 2, 1],\n        orientationDelta: [2, 1, 2, 1, 1, 2, 1, 2]\n      },\n      CENTERS: {\n        permutation: [2, 1, 5, 3, 0, 4],\n        orientationDelta: [0, 3, 0, 1, 2, 2]\n      }\n    },\n    L: {\n      EDGES: {\n        permutation: [0, 1, 2, 11, 4, 5, 6, 9, 8, 3, 10, 7],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [0, 1, 6, 2, 4, 3, 5, 7],\n        orientationDelta: [0, 0, 2, 1, 0, 2, 1, 0]\n      },\n      CENTERS: {\n        permutation: [0, 1, 2, 3, 4, 5],\n        orientationDelta: [0, 1, 0, 0, 0, 0]\n      }\n    },\n    F: {\n      EDGES: {\n        permutation: [9, 1, 2, 3, 8, 5, 6, 7, 0, 4, 10, 11],\n        orientationDelta: [1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0]\n      },\n      CORNERS: {\n        permutation: [3, 1, 2, 5, 0, 4, 6, 7],\n        orientationDelta: [1, 0, 0, 2, 2, 1, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 1, 2, 3, 4, 5],\n        orientationDelta: [0, 0, 1, 0, 0, 0]\n      }\n    },\n    R: {\n      EDGES: {\n        permutation: [0, 8, 2, 3, 4, 10, 6, 7, 5, 9, 1, 11],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [4, 0, 2, 3, 7, 5, 6, 1],\n        orientationDelta: [2, 1, 0, 0, 1, 0, 0, 2]\n      },\n      CENTERS: {\n        permutation: [0, 1, 2, 3, 4, 5],\n        orientationDelta: [0, 0, 0, 1, 0, 0]\n      }\n    },\n    B: {\n      EDGES: {\n        permutation: [0, 1, 10, 3, 4, 5, 11, 7, 8, 9, 6, 2],\n        orientationDelta: [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1]\n      },\n      CORNERS: {\n        permutation: [0, 7, 1, 3, 4, 5, 2, 6],\n        orientationDelta: [0, 2, 1, 0, 0, 0, 2, 1]\n      },\n      CENTERS: {\n        permutation: [0, 1, 2, 3, 4, 5],\n        orientationDelta: [0, 0, 0, 0, 1, 0]\n      }\n    },\n    D: {\n      EDGES: {\n        permutation: [0, 1, 2, 3, 7, 4, 5, 6, 8, 9, 10, 11],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [0, 1, 2, 3, 5, 6, 7, 4],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 1, 2, 3, 4, 5],\n        orientationDelta: [0, 0, 0, 0, 0, 1]\n      }\n    },\n    z: {\n      EDGES: {\n        permutation: [9, 3, 11, 7, 8, 1, 10, 5, 0, 4, 2, 6],\n        orientationDelta: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\n      },\n      CORNERS: {\n        permutation: [3, 2, 6, 5, 0, 4, 7, 1],\n        orientationDelta: [1, 2, 1, 2, 2, 1, 2, 1]\n      },\n      CENTERS: {\n        permutation: [1, 5, 2, 0, 4, 3],\n        orientationDelta: [1, 1, 1, 1, 3, 1]\n      }\n    },\n    M: {\n      EDGES: {\n        permutation: [2, 1, 6, 3, 0, 5, 4, 7, 8, 9, 10, 11],\n        orientationDelta: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [0, 1, 2, 3, 4, 5, 6, 7],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [4, 1, 0, 3, 5, 2],\n        orientationDelta: [2, 0, 0, 0, 2, 0]\n      }\n    },\n    E: {\n      EDGES: {\n        permutation: [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 8, 10],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1]\n      },\n      CORNERS: {\n        permutation: [0, 1, 2, 3, 4, 5, 6, 7],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 4, 1, 2, 3, 5],\n        orientationDelta: [0, 0, 0, 0, 0, 0]\n      }\n    },\n    S: {\n      EDGES: {\n        permutation: [0, 3, 2, 7, 4, 1, 6, 5, 8, 9, 10, 11],\n        orientationDelta: [0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [0, 1, 2, 3, 4, 5, 6, 7],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [1, 5, 2, 0, 4, 3],\n        orientationDelta: [1, 1, 0, 1, 0, 1]\n      }\n    },\n    u: {\n      EDGES: {\n        permutation: [1, 2, 3, 0, 4, 5, 6, 7, 10, 8, 11, 9],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1]\n      },\n      CORNERS: {\n        permutation: [1, 2, 3, 0, 4, 5, 6, 7],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 2, 3, 4, 1, 5],\n        orientationDelta: [1, 0, 0, 0, 0, 0]\n      }\n    },\n    l: {\n      EDGES: {\n        permutation: [2, 1, 6, 11, 0, 5, 4, 9, 8, 3, 10, 7],\n        orientationDelta: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [0, 1, 6, 2, 4, 3, 5, 7],\n        orientationDelta: [0, 0, 2, 1, 0, 2, 1, 0]\n      },\n      CENTERS: {\n        permutation: [4, 1, 0, 3, 5, 2],\n        orientationDelta: [2, 1, 0, 0, 2, 0]\n      }\n    },\n    f: {\n      EDGES: {\n        permutation: [9, 3, 2, 7, 8, 1, 6, 5, 0, 4, 10, 11],\n        orientationDelta: [1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0]\n      },\n      CORNERS: {\n        permutation: [3, 1, 2, 5, 0, 4, 6, 7],\n        orientationDelta: [1, 0, 0, 2, 2, 1, 0, 0]\n      },\n      CENTERS: {\n        permutation: [1, 5, 2, 0, 4, 3],\n        orientationDelta: [1, 1, 1, 1, 0, 1]\n      }\n    },\n    r: {\n      EDGES: {\n        permutation: [4, 8, 0, 3, 6, 10, 2, 7, 5, 9, 1, 11],\n        orientationDelta: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0]\n      },\n      CORNERS: {\n        permutation: [4, 0, 2, 3, 7, 5, 6, 1],\n        orientationDelta: [2, 1, 0, 0, 1, 0, 0, 2]\n      },\n      CENTERS: {\n        permutation: [2, 1, 5, 3, 0, 4],\n        orientationDelta: [0, 0, 0, 1, 2, 2]\n      }\n    },\n    b: {\n      EDGES: {\n        permutation: [0, 5, 10, 1, 4, 7, 11, 3, 8, 9, 6, 2],\n        orientationDelta: [0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1]\n      },\n      CORNERS: {\n        permutation: [0, 7, 1, 3, 4, 5, 2, 6],\n        orientationDelta: [0, 2, 1, 0, 0, 0, 2, 1]\n      },\n      CENTERS: {\n        permutation: [3, 0, 2, 5, 4, 1],\n        orientationDelta: [3, 3, 0, 3, 1, 3]\n      }\n    },\n    d: {\n      EDGES: {\n        permutation: [0, 1, 2, 3, 7, 4, 5, 6, 9, 11, 8, 10],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1]\n      },\n      CORNERS: {\n        permutation: [0, 1, 2, 3, 5, 6, 7, 4],\n        orientationDelta: [0, 0, 0, 0, 0, 0, 0, 0]\n      },\n      CENTERS: {\n        permutation: [0, 4, 1, 2, 3, 5],\n        orientationDelta: [0, 0, 0, 0, 0, 1]\n      }\n    }\n  },\n  derivedMoves: {\n    Uw: \"u\",\n    Lw: \"l\",\n    Fw: \"f\",\n    Rw: \"r\",\n    Bw: \"b\",\n    Dw: \"d\",\n    Uv: \"y\",\n    Lv: \"x'\",\n    Fv: \"z\",\n    Rv: \"x\",\n    Bv: \"z'\",\n    Dv: \"y'\",\n    \"2U\": \"u U'\",\n    \"2L\": \"l L'\",\n    \"2F\": \"f F'\",\n    \"2R\": \"r R'\",\n    \"2B\": \"b B'\",\n    \"2D\": \"d D'\"\n  }\n};\nasync function getPartialAppendOptionsForPuzzleSpecificSimplifyOptions(puzzleLoader) {\n  const puzzleSpecificSimplifyOptions = await (puzzleLoader.puzzleSpecificSimplifyOptions ?? puzzleLoader.puzzleSpecificSimplifyOptionsPromise);\n  if (!puzzleSpecificSimplifyOptions) {\n    return {};\n  }\n  return { puzzleLoader: { puzzleSpecificSimplifyOptions } };\n}\nvar puzzleOrientationCacheRaw = new Array(24);\nasync function descAsyncGetPuzzleGeometry(desc, options) {\n  const puzzleGeometry = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzle-geometry-QEEUMPT6_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzle-geometry-QEEUMPT6.js */ \"./node_modules/scramble-display/dist/esm/puzzle-geometry-QEEUMPT6.js\"));\n  return puzzleGeometry.getPuzzleGeometryByDesc(desc, {\n    allMoves: true,\n    orientCenters: true,\n    addRotations: true,\n    ...options\n  });\n}\nasync function asyncGetKPuzzleByDesc(desc, options) {\n  const pgPromise = descAsyncGetPuzzleGeometry(desc, options);\n  return asyncGetKPuzzle(pgPromise, `description: ${desc}`);\n}\nvar nextCustomID = 1;\nfunction customPGPuzzleLoader(desc, info) {\n  const customID = nextCustomID++;\n  let cachedKPuzzle = null;\n  const kpuzzlePromiseFn = async () => {\n    return cachedKPuzzle ?? (cachedKPuzzle = asyncGetKPuzzleByDesc(desc));\n  };\n  const puzzleLoader = {\n    id: `custom-${customID}`,\n    fullName: info?.fullName ?? `Custom Puzzle (instance #${customID})`,\n    kpuzzle: kpuzzlePromiseFn,\n    svg: async () => {\n      const pg = await descAsyncGetPuzzleGeometry(desc);\n      return pg.generatesvg();\n    },\n    pg: async () => {\n      return descAsyncGetPuzzleGeometry(desc);\n    },\n    puzzleSpecificSimplifyOptionsPromise: puzzleSpecificSimplifyOptionsPromise(kpuzzlePromiseFn)\n  };\n  if (info?.inventedBy) {\n    puzzleLoader.inventedBy = info.inventedBy;\n  }\n  if (info?.inventionYear) {\n    puzzleLoader.inventionYear = info.inventionYear;\n  }\n  return puzzleLoader;\n}\nvar experimental3x3x3KPuzzle = new KPuzzle(\n  cube3x3x3KPuzzleDefinition\n);\ncube3x3x3KPuzzleDefinition.experimentalIsPatternSolved = experimentalIs3x3x3Solved;\nfunction puzzleOrientation3x3x3Idx(pattern) {\n  const idxU = pattern.patternData[\"CENTERS\"].pieces[0];\n  const idxD = pattern.patternData[\"CENTERS\"].pieces[5];\n  const unadjustedIdxL = pattern.patternData[\"CENTERS\"].pieces[1];\n  let idxL = unadjustedIdxL;\n  if (idxU < unadjustedIdxL) {\n    idxL--;\n  }\n  if (idxD < unadjustedIdxL) {\n    idxL--;\n  }\n  return [idxU, idxL];\n}\nvar puzzleOrientationCacheRaw2 = new Array(6).fill(0).map(() => {\n  return new Array(6);\n});\nvar puzzleOrientationCacheInitialized2 = false;\nfunction puzzleOrientation3x3x3Cache() {\n  if (!puzzleOrientationCacheInitialized2) {\n    {\n      const uAlgs = [\"\", \"z\", \"x\", \"z'\", \"x'\", \"x2\"].map(\n        (s) => _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Alg.fromString(s)\n      );\n      const yAlg = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Alg(\"y\");\n      for (const uAlg of uAlgs) {\n        let transformation = experimental3x3x3KPuzzle.algToTransformation(uAlg);\n        for (let i = 0; i < 4; i++) {\n          transformation = transformation.applyAlg(yAlg);\n          const [idxU, idxL] = puzzleOrientation3x3x3Idx(\n            transformation.toKPattern()\n          );\n          puzzleOrientationCacheRaw2[idxU][idxL] = transformation.invert();\n        }\n      }\n    }\n  }\n  return puzzleOrientationCacheRaw2;\n}\nfunction normalize3x3x3Orientation(pattern) {\n  const [idxU, idxL] = puzzleOrientation3x3x3Idx(pattern);\n  const orientationTransformation = puzzleOrientation3x3x3Cache()[idxU][idxL];\n  return pattern.applyTransformation(orientationTransformation);\n}\nfunction experimentalIs3x3x3Solved(pattern, options) {\n  if (options.ignorePuzzleOrientation) {\n    pattern = normalize3x3x3Orientation(pattern);\n  }\n  if (options.ignoreCenterOrientation) {\n    pattern = new KPattern(pattern.kpuzzle, {\n      EDGES: pattern.patternData.EDGES,\n      CORNERS: pattern.patternData.CORNERS,\n      CENTERS: {\n        pieces: pattern.patternData.CENTERS.pieces,\n        orientation: new Array(6).fill(0)\n      }\n    });\n  }\n  return !!pattern.experimentalToTransformation()?.isIdentityTransformation();\n}\n\n// node_modules/cubing/dist/cubing/chunk-Q7UVEISQ.js\nvar wcaEvents = {\n  \"333\": { puzzleID: \"3x3x3\", eventName: \"3x3x3 Cube\" },\n  \"222\": { puzzleID: \"2x2x2\", eventName: \"2x2x2 Cube\" },\n  \"444\": { puzzleID: \"4x4x4\", eventName: \"4x4x4 Cube\" },\n  \"555\": { puzzleID: \"5x5x5\", eventName: \"5x5x5 Cube\" },\n  \"666\": { puzzleID: \"6x6x6\", eventName: \"6x6x6 Cube\" },\n  \"777\": { puzzleID: \"7x7x7\", eventName: \"7x7x7 Cube\" },\n  \"333bf\": { puzzleID: \"3x3x3\", eventName: \"3x3x3 Blindfolded\" },\n  \"333fm\": { puzzleID: \"3x3x3\", eventName: \"3x3x3 Fewest Moves\" },\n  \"333oh\": { puzzleID: \"3x3x3\", eventName: \"3x3x3 One-Handed\" },\n  clock: { puzzleID: \"clock\", eventName: \"Clock\" },\n  minx: { puzzleID: \"megaminx\", eventName: \"Megaminx\" },\n  pyram: { puzzleID: \"pyraminx\", eventName: \"Pyraminx\" },\n  skewb: { puzzleID: \"skewb\", eventName: \"Skewb\" },\n  sq1: { puzzleID: \"square1\", eventName: \"Square-1\" },\n  \"444bf\": { puzzleID: \"4x4x4\", eventName: \"4x4x4 Blindfolded\" },\n  \"555bf\": { puzzleID: \"5x5x5\", eventName: \"5x5x5 Blindfolded\" },\n  \"333mb\": { puzzleID: \"3x3x3\", eventName: \"3x3x3 Multi-Blind\" }\n};\nvar twizzleEvents = {\n  ...wcaEvents,\n  fto: { puzzleID: \"fto\", eventName: \"Face-Turning Octahedron\" },\n  master_tetraminx: {\n    puzzleID: \"master_tetraminx\",\n    eventName: \"Master Tetraminx\"\n  },\n  kilominx: {\n    puzzleID: \"kilominx\",\n    eventName: \"Kilominx\"\n  },\n  redi_cube: {\n    puzzleID: \"redi_cube\",\n    eventName: \"Redi Cube\"\n  }\n};\nfunction eventInfo(event) {\n  return twizzleEvents[event] ?? null;\n}\nvar cube2x2x2 = {\n  id: \"2x2x2\",\n  fullName: \"2\\xD72\\xD72 Cube\",\n  kpuzzle: getCached(\n    async () => new KPuzzle(\n      (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).cube2x2x2JSON\n    )\n  ),\n  svg: async () => (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).cube2x2x2SVG,\n  llSVG: getCached(\n    async () => (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).cube2x2x2LLSVG\n  ),\n  pg: getCached(async () => {\n    return asyncGetPuzzleGeometry(\"2x2x2\");\n  }),\n  stickeringMask: (stickering) => cubeLikeStickeringMask(cube2x2x2, stickering),\n  stickerings: () => cubeLikeStickeringList(\"2x2x2\", { use3x3x3Fallbacks: true })\n};\nfunction makeSourceInfo(moveStrings, type, from2, to) {\n  const output = [];\n  for (const moveString of moveStrings) {\n    const move = _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move.fromString(moveString);\n    const { family, amount: direction } = move;\n    if (![-1, 1].includes(direction)) {\n      throw new Error(\"Invalid config move\");\n    }\n    output.push({ family, direction, type, from: from2, to });\n  }\n  return output;\n}\nvar axisInfos = {\n  [\n    \"x axis\"\n    /* X */\n  ]: {\n    sliceDiameter: 3,\n    extendsThroughEntirePuzzle: true,\n    moveSourceInfos: [\n      ...makeSourceInfo([\"R\"], 0, 0, 3),\n      ...makeSourceInfo([\"L'\"], 1, 0, 3),\n      ...makeSourceInfo([\"r\", \"Rw\"], 2, 0, 2),\n      ...makeSourceInfo([\"l'\", \"Lw'\"], 3, 0, 2),\n      ...makeSourceInfo([\"M'\"], 4, 1, 2),\n      // TODO: remove some indices?\n      ...makeSourceInfo([\"x\", \"Uv\", \"Dv'\"], 5, 0, 3)\n      // TODO: remove some indices?\n    ]\n  },\n  [\n    \"y axis\"\n    /* Y */\n  ]: {\n    sliceDiameter: 3,\n    extendsThroughEntirePuzzle: true,\n    moveSourceInfos: [\n      ...makeSourceInfo([\"U\"], 0, 0, 3),\n      ...makeSourceInfo([\"D'\"], 1, 0, 3),\n      ...makeSourceInfo([\"u\", \"Uw\"], 2, 0, 2),\n      ...makeSourceInfo([\"d'\", \"Dw'\"], 3, 0, 2),\n      ...makeSourceInfo([\"E'\"], 4, 1, 2),\n      // TODO: remove some indices?\n      ...makeSourceInfo([\"y\", \"Uv\", \"Dv'\"], 5, 0, 3)\n      // TODO: remove some indices?\n    ]\n  },\n  [\n    \"z axis\"\n    /* Z */\n  ]: {\n    sliceDiameter: 3,\n    extendsThroughEntirePuzzle: true,\n    moveSourceInfos: [\n      ...makeSourceInfo([\"F\"], 0, 0, 3),\n      ...makeSourceInfo([\"B'\"], 1, 0, 3),\n      ...makeSourceInfo([\"f\", \"Fw\"], 2, 0, 3),\n      ...makeSourceInfo([\"b'\", \"Bw'\"], 3, 0, 3),\n      ...makeSourceInfo([\"S\"], 4, 1, 2),\n      // TODO: remove some indices?\n      ...makeSourceInfo([\"z\", \"Fv\", \"Bv'\"], 5, 0, 3)\n      // TODO: remove some indices?\n    ]\n  }\n};\nvar byFamily = {};\nfor (const [axis, info] of Object.entries(axisInfos)) {\n  for (const moveSourceInfo of info.moveSourceInfos) {\n    byFamily[moveSourceInfo.family] = { axis, moveSourceInfo };\n  }\n}\nvar byAxisThenType = {};\nvar _a4;\nfor (const axis of Object.keys(axisInfos)) {\n  const entry = {};\n  byAxisThenType[axis] = entry;\n  for (const moveSourceInfo of axisInfos[axis].moveSourceInfos) {\n    (entry[_a4 = moveSourceInfo.type] ?? (entry[_a4] = [])).push(moveSourceInfo);\n  }\n}\nvar byAxisThenSpecificSlices = {};\nfor (const axis of Object.keys(axisInfos)) {\n  const entry = /* @__PURE__ */ new Map();\n  byAxisThenSpecificSlices[axis] = entry;\n  for (const moveSourceInfo of axisInfos[axis].moveSourceInfos) {\n    if (!entry.get(moveSourceInfo.from)) {\n      entry.set(moveSourceInfo.from, moveSourceInfo);\n    }\n  }\n}\nfunction firstOfType(axis, moveSourceType) {\n  const entry = byAxisThenType[axis][moveSourceType]?.[0];\n  if (!entry) {\n    throw new Error(\n      `Could not find a reference move (axis: ${axis}, move source type: ${moveSourceType})`\n    );\n  }\n  return entry;\n}\nvar areQuantumMovesSameAxis = (quantumMove1, quantumMove2) => {\n  return byFamily[quantumMove1.family].axis === byFamily[quantumMove2.family].axis;\n};\nfunction simplestMove(axis, from2, to, directedAmount) {\n  if (from2 + 1 === to) {\n    const sliceSpecificInfo = byAxisThenSpecificSlices[axis].get(from2);\n    if (sliceSpecificInfo) {\n      return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move(\n        new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.QuantumMove(sliceSpecificInfo.family),\n        directedAmount * sliceSpecificInfo.direction\n      );\n    }\n  }\n  const axisInfo = axisInfos[axis];\n  const { sliceDiameter } = axisInfo;\n  if (from2 === 0 && to === sliceDiameter) {\n    const moveSourceInfo2 = firstOfType(\n      axis,\n      5\n      /* ROTATION */\n    );\n    return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move(\n      new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.QuantumMove(moveSourceInfo2.family),\n      directedAmount * moveSourceInfo2.direction\n    );\n  }\n  const far = from2 + to > sliceDiameter;\n  if (far) {\n    [from2, to] = [sliceDiameter - to, sliceDiameter - from2];\n  }\n  let outerLayer = from2 + 1;\n  let innerLayer = to;\n  const slice = outerLayer === innerLayer;\n  if (slice) {\n    innerLayer = null;\n  }\n  if (outerLayer === 1) {\n    outerLayer = null;\n  }\n  if (slice && outerLayer === 1) {\n    innerLayer = null;\n  }\n  if (!slice && innerLayer === 2) {\n    innerLayer = null;\n  }\n  const moveSourceType = slice ? far ? 1 : 0 : far ? 3 : 2;\n  const moveSourceInfo = firstOfType(axis, moveSourceType);\n  return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.Move(\n    new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_0__.QuantumMove(moveSourceInfo.family, innerLayer, outerLayer),\n    directedAmount * moveSourceInfo.direction\n  );\n}\nfunction simplifySameAxisMoves(moves, quantumMod = true) {\n  if (moves.length === 0) {\n    return [];\n  }\n  const axis = byFamily[moves[0].family].axis;\n  const axisInfo = axisInfos[axis];\n  const { sliceDiameter } = axisInfo;\n  const sliceDeltas = /* @__PURE__ */ new Map();\n  let lastCandidateRange = null;\n  function adjustValue(idx, relativeDelta) {\n    let newDelta = (sliceDeltas.get(idx) ?? 0) + relativeDelta;\n    if (quantumMod) {\n      newDelta = newDelta % 4 + 5 % 4 - 1;\n    }\n    if (newDelta === 0) {\n      sliceDeltas.delete(idx);\n    } else {\n      sliceDeltas.set(idx, newDelta);\n    }\n  }\n  let suffixLength = 0;\n  for (const move of Array.from(moves).reverse()) {\n    suffixLength++;\n    const { moveSourceInfo } = byFamily[move.family];\n    const directedAmount2 = move.amount * moveSourceInfo.direction;\n    switch (moveSourceInfo.type) {\n      case 0: {\n        const idx = (move.innerLayer ?? 1) - 1;\n        adjustValue(idx, directedAmount2);\n        adjustValue(idx + 1, -directedAmount2);\n        break;\n      }\n      case 1: {\n        const idx = sliceDiameter - (move.innerLayer ?? 1);\n        adjustValue(idx, directedAmount2);\n        adjustValue(idx + 1, -directedAmount2);\n        break;\n      }\n      case 2: {\n        adjustValue((move.outerLayer ?? 1) - 1, directedAmount2);\n        adjustValue(move.innerLayer ?? 2, -directedAmount2);\n        break;\n      }\n      case 3: {\n        adjustValue(sliceDiameter - (move.innerLayer ?? 2), directedAmount2);\n        adjustValue(\n          sliceDiameter - ((move.outerLayer ?? 1) - 1),\n          -directedAmount2\n        );\n        break;\n      }\n      case 4: {\n        adjustValue(moveSourceInfo.from, directedAmount2);\n        adjustValue(moveSourceInfo.to, -directedAmount2);\n        break;\n      }\n      case 5: {\n        adjustValue(0, directedAmount2);\n        adjustValue(sliceDiameter, -directedAmount2);\n        break;\n      }\n    }\n    if ([0, 2].includes(sliceDeltas.size)) {\n      lastCandidateRange = { suffixLength, sliceDeltas: new Map(sliceDeltas) };\n    }\n  }\n  if (sliceDeltas.size === 0) {\n    return [];\n  }\n  if (!lastCandidateRange) {\n    return moves;\n  }\n  let [from2, to] = lastCandidateRange.sliceDeltas.keys();\n  if (from2 > to) {\n    [from2, to] = [to, from2];\n  }\n  const directedAmount = lastCandidateRange.sliceDeltas.get(from2);\n  return [\n    ...moves.slice(0, -lastCandidateRange.suffixLength),\n    ...directedAmount !== 0 ? [simplestMove(axis, from2, to, directedAmount)] : []\n  ];\n}\nvar puzzleSpecificSimplifyOptions333 = {\n  quantumMoveOrder: () => 4,\n  // doQuantumMovesCommute: areQuantumMovesSameAxis,\n  axis: { areQuantumMovesSameAxis, simplifySameAxisMoves }\n};\nvar cube3x3x3 = {\n  id: \"3x3x3\",\n  fullName: \"3\\xD73\\xD73 Cube\",\n  inventedBy: [\"Ern\\u0151 Rubik\"],\n  inventionYear: 1974,\n  // https://en.wikipedia.org/wiki/Rubik%27s_Cube#Conception_and_development\n  kpuzzle: getCached(async () => {\n    return experimental3x3x3KPuzzle;\n  }),\n  svg: getCached(async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-3x3x3-JFZVE27C-7IQUIWBV_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-3x3x3-JFZVE27C-7IQUIWBV.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-3x3x3-JFZVE27C-7IQUIWBV.js\"))).cube3x3x3SVG;\n  }),\n  llSVG: getCached(async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-3x3x3-JFZVE27C-7IQUIWBV_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-3x3x3-JFZVE27C-7IQUIWBV.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-3x3x3-JFZVE27C-7IQUIWBV.js\"))).cube3x3x3LLSVG;\n  }),\n  pg: getCached(async () => {\n    return asyncGetPuzzleGeometry(\"3x3x3\");\n  }),\n  stickeringMask: (stickering) => cubeLikeStickeringMask(cube3x3x3, stickering),\n  stickerings: () => cubeLikeStickeringList(\"3x3x3\"),\n  puzzleSpecificSimplifyOptions: puzzleSpecificSimplifyOptions333\n};\nvar clock = {\n  id: \"clock\",\n  fullName: \"Clock\",\n  inventedBy: [\"Christopher C. Wiggs\", \"Christopher J. Taylor\"],\n  inventionYear: 1988,\n  // Patent application year: https://www.jaapsch.net/puzzles/patents/us4869506.pdf\n  kpuzzle: getCached(\n    async () => new KPuzzle(\n      (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).clockJSON\n    )\n  ),\n  svg: getCached(async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).clockSVG;\n  })\n};\nasync function ftoStickering(puzzleLoader, stickering) {\n  const kpuzzle = await puzzleLoader.kpuzzle();\n  const puzzleStickering = new PuzzleStickering(kpuzzle);\n  const m = new StickeringManager(kpuzzle);\n  const experimentalFTO_FC = () => m.and([m.move(\"U\"), m.not(m.or(m.moves([\"F\", \"BL\", \"BR\"])))]);\n  const experimentalFTO_F2T = () => m.and([m.move(\"U\"), m.not(m.move(\"F\"))]);\n  const experimentalFTO_SC = () => m.or([\n    experimentalFTO_F2T(),\n    m.and([m.move(\"F\"), m.not(m.or(m.moves([\"U\", \"BL\", \"BR\"])))])\n  ]);\n  const experimentalFTO_L2C = () => m.not(\n    m.or([\n      m.and([m.move(\"U\"), m.move(\"F\")]),\n      m.and([m.move(\"F\"), m.move(\"BL\")]),\n      m.and([m.move(\"F\"), m.move(\"BR\")]),\n      m.and([m.move(\"BL\"), m.move(\"BR\")])\n    ])\n  );\n  const experimentalFTO_LBT = () => m.not(\n    m.or([\n      m.and([m.move(\"F\"), m.move(\"BL\")]),\n      m.and([m.move(\"F\"), m.move(\"BR\")]),\n      m.and([m.move(\"BL\"), m.move(\"BR\")])\n    ])\n  );\n  switch (stickering) {\n    case \"full\":\n      break;\n    case \"experimental-fto-fc\": {\n      puzzleStickering.set(\n        m.not(experimentalFTO_FC()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      break;\n    }\n    case \"experimental-fto-f2t\": {\n      puzzleStickering.set(\n        m.not(experimentalFTO_F2T()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        experimentalFTO_FC(),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"experimental-fto-sc\": {\n      puzzleStickering.set(\n        m.not(experimentalFTO_SC()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        experimentalFTO_F2T(),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"experimental-fto-l2c\": {\n      puzzleStickering.set(\n        m.not(experimentalFTO_L2C()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        experimentalFTO_SC(),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"experimental-fto-lbt\": {\n      puzzleStickering.set(\n        m.not(experimentalFTO_LBT()),\n        \"Ignored\"\n        /* Ignored */\n      );\n      puzzleStickering.set(\n        experimentalFTO_L2C(),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    case \"experimental-fto-l3t\": {\n      puzzleStickering.set(\n        experimentalFTO_LBT(),\n        \"Dim\"\n        /* Dim */\n      );\n      break;\n    }\n    default:\n      console.warn(\n        `Unsupported stickering for ${puzzleLoader.id}: ${stickering}. Setting all pieces to dim.`\n      );\n      puzzleStickering.set(\n        m.and(m.moves([])),\n        \"Dim\"\n        /* Dim */\n      );\n  }\n  return puzzleStickering.toStickeringMask();\n}\nasync function ftoStickerings() {\n  return [\n    \"full\",\n    \"experimental-fto-fc\",\n    \"experimental-fto-f2t\",\n    \"experimental-fto-sc\",\n    \"experimental-fto-l2c\",\n    \"experimental-fto-lbt\",\n    \"experimental-fto-l3t\"\n  ];\n}\nvar FTOPuzzleLoader = class extends PGPuzzleLoader {\n  constructor() {\n    super({\n      pgID: \"FTO\",\n      id: \"fto\",\n      fullName: \"Face-Turning Octahedron\",\n      inventedBy: [\"Karl Rohrbach\", \"David Pitcher\"],\n      // http://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1663\n      inventionYear: 1983\n      // http://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1663\n    });\n    this.stickerings = ftoStickerings;\n    this.svg = getCached(async () => {\n      return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js\"))).ftoSVG;\n    });\n  }\n  stickeringMask(stickering) {\n    return ftoStickering(this, stickering);\n  }\n};\nvar fto = new FTOPuzzleLoader();\nasync function megaminxStickeringMask(puzzleLoader, stickering) {\n  if ((await megaminxStickerings()).includes(stickering)) {\n    return cubeLikeStickeringMask(puzzleLoader, stickering);\n  }\n  console.warn(\n    `Unsupported stickering for ${puzzleLoader.id}: ${stickering}. Setting all pieces to dim.`\n  );\n  return cubeLikeStickeringMask(puzzleLoader, \"full\");\n}\nvar megaminxStickeringListPromise = from(\n  () => cubeLikeStickeringList(\"megaminx\")\n);\nfunction megaminxStickerings() {\n  return megaminxStickeringListPromise;\n}\nvar MegaminxPuzzleLoader = class extends PGPuzzleLoader {\n  constructor() {\n    super({\n      id: \"megaminx\",\n      fullName: \"Megaminx\",\n      // Too many simultaneous inventors to name.\n      inventionYear: 1981\n      // Earliest date from https://www.jaapsch.net/puzzles/megaminx.htm\n    });\n    this.stickerings = megaminxStickerings;\n    this.llSVG = getCached(async () => {\n      return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-megaminx-QQYC32WM-NAGDGA5N_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-megaminx-QQYC32WM-NAGDGA5N.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-megaminx-QQYC32WM-NAGDGA5N.js\"))).megaminxLLSVG;\n    });\n  }\n  stickeringMask(stickering) {\n    return megaminxStickeringMask(this, stickering);\n  }\n};\nvar megaminx = new MegaminxPuzzleLoader();\nvar PyraminxPuzzleLoader = class extends PGPuzzleLoader {\n  constructor() {\n    super({\n      id: \"pyraminx\",\n      fullName: \"Pyraminx\",\n      inventedBy: [\"Uwe Meffert\"]\n    });\n    this.svg = getCached(async () => {\n      return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).pyraminxSVG;\n    });\n  }\n};\nvar pyraminx = new PyraminxPuzzleLoader();\nvar square1 = {\n  id: \"square1\",\n  fullName: \"Square-1\",\n  inventedBy: [\"Karel Hr\\u0161el\", \"Vojtech Kopsk\\xFD\"],\n  inventionYear: 1990,\n  // Czech patent application year: http://spisy.upv.cz/Patents/FullDocuments/277/277266.pdf\n  kpuzzle: getCached(\n    async () => new KPuzzle(\n      (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).sq1HyperOrbitJSON\n    )\n  ),\n  svg: getCached(async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).sq1HyperOrbitSVG;\n  })\n};\nvar KILOMINX_PUZZLE_DESCRIPTION = \"d f 0.56\";\nvar kilominx = {\n  id: \"kilominx\",\n  fullName: \"Kilominx\",\n  kpuzzle: getCached(\n    () => asyncGetKPuzzleByDesc(KILOMINX_PUZZLE_DESCRIPTION, {\n      includeCenterOrbits: false,\n      includeEdgeOrbits: false\n    })\n  ),\n  pg: () => descAsyncGetPuzzleGeometry(KILOMINX_PUZZLE_DESCRIPTION, {\n    includeCenterOrbits: false,\n    includeEdgeOrbits: false\n  }),\n  svg: getCached(async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js\"))).kilominxSVG;\n  })\n};\nvar rediCube = {\n  id: \"redi_cube\",\n  fullName: \"Redi Cube\",\n  // Announced 2009-07-21: https://www.youtube.com/watch?v=cjfMzA1u3vM\n  // https://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1520\n  inventedBy: [\"Oskar van Deventer\"],\n  inventionYear: 2009,\n  kpuzzle: getCached(\n    async () => new KPuzzle(\n      (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js\"))).rediCubeJSON\n    )\n  ),\n  svg: async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-unofficial-PCHNKY4Y-GT3LXX5O.js\"))).rediCubeSVG;\n  }\n};\nvar cube4x4x4 = new CubePGPuzzleLoader({\n  id: \"4x4x4\",\n  fullName: \"4\\xD74\\xD74 Cube\"\n});\ncube4x4x4.llSVG = getCached(async () => {\n  return (await __webpack_require__.e(/*! import() */ \"node_modules_scramble-display_dist_esm_puzzles-dynamic-4x4x4-DT42HVIY-CW2SPNFT_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-4x4x4-DT42HVIY-CW2SPNFT.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-4x4x4-DT42HVIY-CW2SPNFT.js\"))).cube4x4x4LLSVG;\n});\nvar melindas2x2x2x2 = {\n  id: \"melindas2x2x2x2\",\n  fullName: \"Melinda's 2\\xD72\\xD72\\xD72\",\n  inventedBy: [\"Melinda Green\"],\n  // inventionYear: 20__, // TODO\n  kpuzzle: getCached(\n    async () => new KPuzzle(\n      (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).melindas2x2x2x2OrbitJSON\n    )\n  ),\n  svg: getCached(async () => {\n    return (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js */ \"./node_modules/scramble-display/dist/esm/puzzles-dynamic-side-events-42Q52YAB-OHZXW5OY.js\"))).melindas2x2x2x2OrbitSVG;\n  })\n};\nvar puzzles = {\n  /******** Start of WCA Puzzles *******/\n  \"3x3x3\": cube3x3x3,\n  \"2x2x2\": cube2x2x2,\n  \"4x4x4\": cube4x4x4,\n  \"5x5x5\": new CubePGPuzzleLoader({ id: \"5x5x5\", fullName: \"5\\xD75\\xD75 Cube\" }),\n  \"6x6x6\": new CubePGPuzzleLoader({ id: \"6x6x6\", fullName: \"6\\xD76\\xD76 Cube\" }),\n  \"7x7x7\": new CubePGPuzzleLoader({ id: \"7x7x7\", fullName: \"7\\xD77\\xD77 Cube\" }),\n  \"40x40x40\": new CubePGPuzzleLoader({\n    id: \"40x40x40\",\n    fullName: \"40\\xD740\\xD740 Cube\"\n  }),\n  // 3x3x3 Blindfolded\n  // 3x3x3 Fewest Moves\n  // 3x3x3 One-Handed\n  clock,\n  megaminx,\n  pyraminx,\n  skewb: new PGPuzzleLoader({\n    id: \"skewb\",\n    fullName: \"Skewb\",\n    inventedBy: [\"Tony Durham\"]\n    // https://www.jaapsch.net/puzzles/skewb.htm\n    // inventionYear: 1982, // 1982 is actually the year of Hofstadter's column.\n  }),\n  square1,\n  // 4x4x4 Blindfolded\n  // 5x5x5 Blindfolded\n  /******** End of WCA puzzles ********/\n  fto,\n  gigaminx: new PGPuzzleLoader({\n    id: \"gigaminx\",\n    fullName: \"Gigaminx\",\n    inventedBy: [\"Tyler Fox\"],\n    inventionYear: 2006\n    // Earliest date from https://www.twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1475\n  }),\n  master_tetraminx: new PGPuzzleLoader({\n    pgID: \"master tetraminx\",\n    id: \"master_tetraminx\",\n    fullName: \"Master Tetraminx\",\n    inventedBy: [\"Katsuhiko Okamoto\"],\n    // Using master pyraminx: https://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1352\n    inventionYear: 2002\n    // Using master pyraminx: https://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1352\n  }),\n  kilominx,\n  redi_cube: rediCube,\n  melindas2x2x2x2\n};\n\n// node_modules/cubing/dist/cubing/chunk-LRYMCZVI.js\nvar twistyDebugGlobals = {\n  shareAllNewRenderers: \"auto\",\n  showRenderStats: false\n};\nvar _latestAssignedIdx, _latestResolvedIdx, _a5;\nvar StaleDropper = (_a5 = class {\n  constructor() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _latestAssignedIdx, 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _latestResolvedIdx, 0);\n  }\n  queue(p) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const idx = ++(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateWrapper)(this, _latestAssignedIdx)._;\n        const result = await p;\n        if (idx > (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _latestResolvedIdx)) {\n          (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _latestResolvedIdx, idx);\n          resolve(result);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n}, _latestAssignedIdx = new WeakMap(), _latestResolvedIdx = new WeakMap(), _a5);\nvar globalSourceGeneration = 0;\nvar _children, _rawListeners, _scheduleRawDispatch, scheduleRawDispatch_fn, _rawDispatchPending, _dispatchRawListeners, dispatchRawListeners_fn, _freshListeners, _a6;\nvar TwistyPropParent = (_a6 = class {\n  constructor() {\n    /** @deprecated */\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _scheduleRawDispatch);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _dispatchRawListeners);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _children, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _rawListeners, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _rawDispatchPending, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _freshListeners, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _children, /* @__PURE__ */ new Set());\n    this.lastSourceGeneration = 0;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _rawListeners, /* @__PURE__ */ new Set());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _rawDispatchPending, false);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _freshListeners, /* @__PURE__ */ new Map());\n  }\n  // Don't overwrite this. Overwrite `canReuseValue` instead.\n  canReuse(v1, v2) {\n    return v1 === v2 || this.canReuseValue(v1, v2);\n  }\n  // Overwrite with a cheap semantic comparison when possible.\n  // Note that this is not called if `v1 === v2` (in which case the value is automatically reused).\n  canReuseValue(_v1, _v2) {\n    return false;\n  }\n  debugGetChildren() {\n    return Array.from((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _children).values());\n  }\n  addChild(child) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _children).add(child);\n  }\n  removeChild(child) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _children).delete(child);\n  }\n  // Synchronously marks all descendants as stale. This doesn't actually\n  // literally mark as stale, but it updates the last source generation, which\n  // is used to tell if a cahced result is stale.\n  markStale(sourceEvent) {\n    if (sourceEvent.detail.generation !== globalSourceGeneration) {\n      throw new Error(\"A TwistyProp was marked stale too late!\");\n    }\n    if (this.lastSourceGeneration === sourceEvent.detail.generation) {\n      return;\n    }\n    this.lastSourceGeneration = sourceEvent.detail.generation;\n    for (const child of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _children)) {\n      child.markStale(sourceEvent);\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _scheduleRawDispatch, scheduleRawDispatch_fn).call(this);\n  }\n  /** @deprecated */\n  addRawListener(listener, options) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _rawListeners).add(listener);\n    if (options?.initial) {\n      listener();\n    }\n  }\n  /** @deprecated */\n  removeRawListener(listener) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _rawListeners).delete(listener);\n  }\n  // TODO: Pick a better name.\n  addFreshListener(listener) {\n    const staleDropper = new StaleDropper();\n    let lastResult = null;\n    const callback = async () => {\n      const result = await staleDropper.queue(this.get());\n      if (lastResult !== null && this.canReuse(lastResult, result)) {\n        return;\n      }\n      lastResult = result;\n      listener(result);\n    };\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _freshListeners).set(listener, callback);\n    this.addRawListener(callback, { initial: true });\n  }\n  removeFreshListener(listener) {\n    this.removeRawListener((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _freshListeners).get(listener));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _freshListeners).delete(listener);\n  }\n}, _children = new WeakMap(), _rawListeners = new WeakMap(), _scheduleRawDispatch = new WeakSet(), scheduleRawDispatch_fn = function() {\n  if (!(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _rawDispatchPending)) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _rawDispatchPending, true);\n    setTimeout(() => (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _dispatchRawListeners, dispatchRawListeners_fn).call(this), 0);\n  }\n}, _rawDispatchPending = new WeakMap(), _dispatchRawListeners = new WeakSet(), dispatchRawListeners_fn = function() {\n  if (!(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _rawDispatchPending)) {\n    throw new Error(\"Invalid dispatch state!\");\n  }\n  for (const listener of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _rawListeners)) {\n    listener();\n  }\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _rawDispatchPending, false);\n}, _freshListeners = new WeakMap(), _a6);\nvar _value, _a7;\nvar TwistyPropSource = (_a7 = class extends TwistyPropParent {\n  constructor(initialValue) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _value, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _value, from(() => this.getDefaultValue()));\n    if (initialValue) {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _value, this.deriveFromPromiseOrValue(initialValue, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _value)));\n    }\n  }\n  set(input) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _value, this.deriveFromPromiseOrValue(input, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _value)));\n    const sourceEventDetail = {\n      sourceProp: this,\n      value: (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _value),\n      generation: ++globalSourceGeneration\n    };\n    this.markStale(\n      new CustomEvent(\"stale\", {\n        detail: sourceEventDetail\n      })\n    );\n  }\n  async get() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _value);\n  }\n  async deriveFromPromiseOrValue(input, oldValuePromise) {\n    return this.derive(await input, oldValuePromise);\n  }\n}, _value = new WeakMap(), _a7);\nvar SimpleTwistyPropSource = class extends TwistyPropSource {\n  derive(input) {\n    return input;\n  }\n};\nvar NO_VALUE = Symbol(\"no value\");\nvar _parents, _cachedLastSuccessfulCalculation, _cachedLatestGenerationCalculation, _getParents, getParents_fn, _cacheDerive, cacheDerive_fn, _a8;\nvar TwistyPropDerived = (_a8 = class extends TwistyPropParent {\n  constructor(parents, userVisibleErrorTracker) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _getParents);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cacheDerive);\n    // cachedInputs:\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _parents, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedLastSuccessfulCalculation, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedLatestGenerationCalculation, null);\n    this.userVisibleErrorTracker = userVisibleErrorTracker;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _parents, parents);\n    for (const parent of Object.values(parents)) {\n      parent.addChild(this);\n    }\n  }\n  async get() {\n    const generation = this.lastSourceGeneration;\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedLatestGenerationCalculation)?.generation === generation) {\n      return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedLatestGenerationCalculation).output;\n    }\n    const latestGenerationCalculation = {\n      generation,\n      output: (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _cacheDerive, cacheDerive_fn).call(this, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _getParents, getParents_fn).call(this), generation, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedLastSuccessfulCalculation))\n    };\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedLatestGenerationCalculation, latestGenerationCalculation);\n    this.userVisibleErrorTracker?.reset();\n    return latestGenerationCalculation.output;\n  }\n}, _parents = new WeakMap(), _cachedLastSuccessfulCalculation = new WeakMap(), _cachedLatestGenerationCalculation = new WeakMap(), _getParents = new WeakSet(), getParents_fn = async function() {\n  const inputValuePromises = {};\n  for (const [key, parent] of Object.entries((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _parents))) {\n    inputValuePromises[key] = parent.get();\n  }\n  const inputs = {};\n  for (const key in (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _parents)) {\n    inputs[key] = await inputValuePromises[key];\n  }\n  return inputs;\n}, _cacheDerive = new WeakSet(), cacheDerive_fn = async function(inputsPromise, generation, cachedLatestGenerationCalculation = null) {\n  const inputs = await inputsPromise;\n  const cache = (output) => {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedLastSuccessfulCalculation, {\n      inputs,\n      output: Promise.resolve(output),\n      generation\n    });\n    return output;\n  };\n  if (!cachedLatestGenerationCalculation) {\n    return cache(await this.derive(inputs));\n  }\n  const cachedInputs = cachedLatestGenerationCalculation.inputs;\n  for (const key in (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _parents)) {\n    const parent = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _parents)[key];\n    if (!parent.canReuse(inputs[key], cachedInputs[key])) {\n      return cache(await this.derive(inputs));\n    }\n  }\n  return cachedLatestGenerationCalculation.output;\n}, _a8);\nvar _disconnectionFunctions, _a9;\nvar FreshListenerManager = (_a9 = class {\n  constructor() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _disconnectionFunctions, []);\n  }\n  addListener(prop, listener) {\n    let disconnected = false;\n    const wrappedListener = (value) => {\n      if (disconnected) {\n        return;\n      }\n      listener(value);\n    };\n    prop.addFreshListener(wrappedListener);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _disconnectionFunctions).push(() => {\n      prop.removeFreshListener(wrappedListener);\n      disconnected = true;\n    });\n  }\n  // TODO: Figure out the signature to let us do overloads\n  /** @deprecated */\n  addMultiListener3(props, listener) {\n    this.addMultiListener(props, listener);\n  }\n  addMultiListener(props, listener) {\n    let disconnected = false;\n    let initialIgnoresLeft = props.length - 1;\n    const wrappedListener = async (_) => {\n      if (initialIgnoresLeft > 0) {\n        initialIgnoresLeft--;\n        return;\n      }\n      if (disconnected) {\n        return;\n      }\n      const promises = props.map(\n        (prop) => prop.get()\n      );\n      const values = await Promise.all(promises);\n      listener(values);\n    };\n    for (const prop of props) {\n      prop.addFreshListener(wrappedListener);\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _disconnectionFunctions).push(() => {\n      for (const prop of props) {\n        prop.removeFreshListener(wrappedListener);\n      }\n      disconnected = true;\n    });\n  }\n  disconnect() {\n    for (const disconnectionFunction of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _disconnectionFunctions)) {\n      disconnectionFunction();\n    }\n  }\n}, _disconnectionFunctions = new WeakMap(), _a9);\nvar RenderScheduler = class {\n  constructor(callback) {\n    this.callback = callback;\n    this.animFrameID = null;\n    this.animFrame = this.animFrameWrapper.bind(this);\n  }\n  requestIsPending() {\n    return !!this.animFrameID;\n  }\n  requestAnimFrame() {\n    if (!this.animFrameID) {\n      this.animFrameID = requestAnimationFrame(this.animFrame);\n    }\n  }\n  cancelAnimFrame() {\n    if (this.animFrameID) {\n      cancelAnimationFrame(this.animFrameID);\n      this.animFrameID = 0;\n    }\n  }\n  animFrameWrapper(timestamp) {\n    this.animFrameID = 0;\n    this.callback(timestamp);\n  }\n};\nvar hintFaceletStyles = {\n  floating: true,\n  // default\n  none: true\n};\nvar HintFaceletProp = class extends SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar TAU = Math.PI * 2;\nvar DEGREES_PER_RADIAN = 360 / TAU;\nvar HTMLElementStub = class {\n};\nvar HTMLElementShim;\nif (globalThis.HTMLElement) {\n  HTMLElementShim = HTMLElement;\n} else {\n  HTMLElementShim = HTMLElementStub;\n}\nvar CustomElementsStub = class {\n  define() {\n  }\n};\nvar customElementsShim;\nif (globalThis.customElements) {\n  customElementsShim = customElements;\n} else {\n  customElementsShim = new CustomElementsStub();\n}\nvar CSSSource = class {\n  constructor(sourceText) {\n    this.sourceText = sourceText;\n  }\n  getAsString() {\n    return this.sourceText;\n  }\n};\nvar _cssSourceMap, _a10;\nvar ManagedCustomElement = (_a10 = class extends HTMLElementShim {\n  constructor(options) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cssSourceMap, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cssSourceMap, /* @__PURE__ */ new Map());\n    this.shadow = this.attachShadow({ mode: options?.mode ?? \"closed\" });\n    this.contentWrapper = document.createElement(\"div\");\n    this.contentWrapper.classList.add(\"wrapper\");\n    this.shadow.appendChild(this.contentWrapper);\n  }\n  // Add the source, if not already added.\n  // Returns the existing if it's already on the element.\n  addCSS(cssSource) {\n    const existing = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cssSourceMap).get(cssSource);\n    if (existing) {\n      return existing;\n    }\n    const cssElem = document.createElement(\"style\");\n    cssElem.textContent = cssSource.getAsString();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cssSourceMap).set(cssSource, cssElem);\n    this.shadow.appendChild(cssElem);\n    return cssElem;\n  }\n  // Remove the source, if it's currently added.\n  removeCSS(cssSource) {\n    const cssElem = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cssSourceMap).get(cssSource);\n    if (!cssElem) {\n      return;\n    }\n    this.shadow.removeChild(cssElem);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cssSourceMap).delete(cssSource);\n  }\n  addElement(element) {\n    return this.contentWrapper.appendChild(element);\n  }\n  prependElement(element) {\n    this.contentWrapper.prepend(element);\n  }\n  removeElement(element) {\n    return this.contentWrapper.removeChild(element);\n  }\n}, _cssSourceMap = new WeakMap(), _a10);\ncustomElementsShim.define(\n  \"twisty-managed-custom-element\",\n  ManagedCustomElement\n);\nvar performance = globalThis.performance;\nvar Stats = class {\n  constructor() {\n    this.mode = 0;\n    this.dom = document.createElement(\"div\");\n    this.beginTime = (performance || Date).now();\n    this.prevTime = this.beginTime;\n    this.frames = 0;\n    this.fpsPanel = this.addPanel(new StatsPanel(\"FPS\", \"#0ff\", \"#002\"));\n    this.msPanel = this.addPanel(new StatsPanel(\"MS\", \"#0f0\", \"#020\"));\n    this.memPanel = performance?.memory ? this.addPanel(new StatsPanel(\"MB\", \"#f08\", \"#201\")) : null;\n    this.REVISION = 16;\n    this.dom.style.cssText = \"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";\n    this.dom.addEventListener(\n      \"click\",\n      (event) => {\n        event.preventDefault();\n        this.showPanel(++this.mode % this.dom.children.length);\n      },\n      false\n    );\n    this.showPanel(0);\n  }\n  addPanel(panel) {\n    this.dom.appendChild(panel.dom);\n    return panel;\n  }\n  showPanel(id) {\n    for (let i = 0; i < this.dom.children.length; i++) {\n      this.dom.children[i].style.display = i === id ? \"block\" : \"none\";\n    }\n    this.mode = id;\n  }\n  begin() {\n    this.beginTime = (performance || Date).now();\n  }\n  end() {\n    this.frames++;\n    const time = (performance || Date).now();\n    this.msPanel.update(time - this.beginTime, 200);\n    if (time >= this.prevTime + 1e3) {\n      this.fpsPanel.update(this.frames * 1e3 / (time - this.prevTime), 100);\n      this.prevTime = time;\n      this.frames = 0;\n      if (this.memPanel) {\n        const memory = performance.memory;\n        this.memPanel.update(\n          memory.usedJSHeapSize / 1048576,\n          memory.jsHeapSizeLimit / 1048576\n        );\n      }\n    }\n    return time;\n  }\n  update() {\n    this.beginTime = this.end();\n  }\n};\nvar PR = Math.round(globalThis?.window?.devicePixelRatio ?? 1);\nvar WIDTH = 80 * PR;\nvar HEIGHT = 48 * PR;\nvar TEXT_X = 3 * PR;\nvar TEXT_Y = 2 * PR;\nvar GRAPH_X = 3 * PR;\nvar GRAPH_Y = 15 * PR;\nvar GRAPH_WIDTH = 74 * PR;\nvar GRAPH_HEIGHT = 30 * PR;\nvar StatsPanel = class {\n  constructor(name, fg, bg) {\n    this.name = name;\n    this.fg = fg;\n    this.bg = bg;\n    this.min = Infinity;\n    this.max = 0;\n    this.dom = document.createElement(\"canvas\");\n    this.context = this.dom.getContext(\"2d\");\n    this.dom.width = WIDTH;\n    this.dom.height = HEIGHT;\n    this.dom.style.cssText = \"width:80px;height:48px\";\n    this.context.font = `bold ${9 * PR}px Helvetica,Arial,sans-serif`;\n    this.context.textBaseline = \"top\";\n    this.context.fillStyle = bg;\n    this.context.fillRect(0, 0, WIDTH, HEIGHT);\n    this.context.fillStyle = fg;\n    this.context.fillText(name, TEXT_X, TEXT_Y);\n    this.context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n    this.context.fillStyle = bg;\n    this.context.globalAlpha = 0.9;\n    this.context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n  }\n  update(value, maxValue) {\n    this.min = Math.min(this.min, value);\n    this.max = Math.max(this.max, value);\n    this.context.fillStyle = this.bg;\n    this.context.globalAlpha = 1;\n    this.context.fillRect(0, 0, WIDTH, GRAPH_Y);\n    this.context.fillStyle = this.fg;\n    this.context.fillText(\n      `${Math.round(value)} ${this.name} (${Math.round(this.min)}-${Math.round(\n        this.max\n      )})`,\n      TEXT_X,\n      TEXT_Y\n    );\n    this.context.drawImage(\n      this.dom,\n      GRAPH_X + PR,\n      GRAPH_Y,\n      GRAPH_WIDTH - PR,\n      GRAPH_HEIGHT,\n      GRAPH_X,\n      GRAPH_Y,\n      GRAPH_WIDTH - PR,\n      GRAPH_HEIGHT\n    );\n    this.context.fillRect(\n      GRAPH_X + GRAPH_WIDTH - PR,\n      GRAPH_Y,\n      PR,\n      GRAPH_HEIGHT\n    );\n    this.context.fillStyle = this.bg;\n    this.context.globalAlpha = 0.9;\n    this.context.fillRect(\n      GRAPH_X + GRAPH_WIDTH - PR,\n      GRAPH_Y,\n      PR,\n      Math.round((1 - value / maxValue) * GRAPH_HEIGHT)\n    );\n  }\n};\nvar cachedConstructorProxy = null;\nasync function proxy3D() {\n  return cachedConstructorProxy ?? (cachedConstructorProxy = __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_twisty-dynamic-3d-5VC2L2WS-QAEJYNEX_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./twisty-dynamic-3d-5VC2L2WS-QAEJYNEX.js */ \"./node_modules/scramble-display/dist/esm/twisty-dynamic-3d-5VC2L2WS-QAEJYNEX.js\")));\n}\nvar THREEJS = from(\n  async () => (await proxy3D()).T3I\n);\nvar globalPixelRatioOverride = null;\nfunction pixelRatio() {\n  return globalPixelRatioOverride ?? (devicePixelRatio || 1);\n}\nvar twisty3DVantageCSS = new CSSSource(\n  `\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  place-content: center;\n  contain: strict;\n}\n\n.loading {\n  width: 4em;\n  height: 4em;\n  border-radius: 2.5em;\n  border: 0.5em solid rgba(0, 0, 0, 0);\n  border-top: 0.5em solid rgba(0, 0, 0, 0.7);\n  border-right: 0.5em solid rgba(0, 0, 0, 0.7);\n  animation: fade-in-delayed 4s, rotate 1s linear infinite;\n}\n\n@keyframes fade-in-delayed {\n  0% { opacity: 0; }\n  25% {opacity: 0; }\n  100% { opacity: 1; }\n}\n\n@keyframes rotate {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n/* TODO: This is due to stats hack. Replace with \\`canvas\\`. */\n.wrapper > canvas {\n  max-width: 100%;\n  max-height: 100%;\n  animation: fade-in 0.25s ease-in;\n}\n\n@keyframes fade-in {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n.wrapper.invisible {\n  opacity: 0;\n}\n\n.wrapper.drag-input-enabled > canvas {\n  cursor: grab;\n}\n\n.wrapper.drag-input-enabled > canvas:active {\n  cursor: grabbing;\n}\n`\n);\nvar MOVEMENT_EPSILON = 0.1;\nvar _dragInfoMap, _targetListeners, _lazyListenersRegistered, _registerLazyListeners, registerLazyListeners_fn, _clear, clear_fn, _trackDrag, trackDrag_fn, _a11;\nvar DragTracker = (_a11 = class extends EventTarget {\n  constructor(target) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _registerLazyListeners);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _clear);\n    // `null`: means: ignore this result (no movement, or not\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _trackDrag);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _dragInfoMap, /* @__PURE__ */ new Map());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _targetListeners, /* @__PURE__ */ new Map());\n    // This allows us to avoid getting a callback every time the pointer moves over the canvas, until we have a down event.\n    // TODO: Ideally we'd also support unregistering when we're certain there are no more active touches. But this means we need to properly handle every way a pointer \"click\" can end, which is tricky across environments (due to e.g. mouse vs. touch vs. stylues, canvas/viewport/window/scroll boundaries, right-click and other ways of losing focus, etc.), so we conservatively leave the listeners on.\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _lazyListenersRegistered, false);\n    this.target = target;\n  }\n  // Idempotent\n  start() {\n    this.addTargetListener(\"pointerdown\", this.onPointerDown.bind(this));\n    this.addTargetListener(\"contextmenu\", (e) => {\n      e.preventDefault();\n    });\n    this.addTargetListener(\"touchmove\", (e) => e.preventDefault());\n    this.addTargetListener(\"dblclick\", (e) => e.preventDefault());\n  }\n  // Idempotent\n  stop() {\n    for (const [eventType, listener] of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _targetListeners).entries()) {\n      this.target.removeEventListener(eventType, listener);\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _targetListeners).clear();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _lazyListenersRegistered, false);\n  }\n  addTargetListener(eventType, listener) {\n    if (!(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _targetListeners).has(eventType)) {\n      this.target.addEventListener(eventType, listener);\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _targetListeners).set(eventType, listener);\n    }\n  }\n  onPointerDown(e) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _registerLazyListeners, registerLazyListeners_fn).call(this);\n    const newDragInfo = {\n      attachedInfo: {},\n      hasMoved: false,\n      lastClientX: e.clientX,\n      lastClientY: e.clientY,\n      lastTimeStamp: e.timeStamp\n    };\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _dragInfoMap).set(e.pointerId, newDragInfo);\n    this.target.setPointerCapture(e.pointerId);\n  }\n  onPointerMove(e) {\n    const movementInfo = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _trackDrag, trackDrag_fn).call(this, e).movementInfo;\n    if (movementInfo) {\n      e.preventDefault();\n      this.dispatchEvent(\n        new CustomEvent(\"move\", {\n          detail: movementInfo\n        })\n      );\n    }\n  }\n  onPointerUp(e) {\n    const trackDragResult = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _trackDrag, trackDrag_fn).call(this, e);\n    const existing = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _dragInfoMap).get(e.pointerId);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _clear, clear_fn).call(this, e);\n    this.target.releasePointerCapture(e.pointerId);\n    let event;\n    if (trackDragResult.hasMoved) {\n      event = new CustomEvent(\"up\", {\n        detail: { attachedInfo: existing.attachedInfo }\n      });\n    } else {\n      const { altKey, ctrlKey, metaKey, shiftKey } = e;\n      event = new CustomEvent(\"press\", {\n        detail: {\n          normalizedX: e.offsetX / this.target.offsetWidth * 2 - 1,\n          normalizedY: 1 - e.offsetY / this.target.offsetHeight * 2,\n          rightClick: !!(e.button & 2),\n          keys: {\n            altKey,\n            ctrlOrMetaKey: ctrlKey || metaKey,\n            shiftKey\n          }\n        }\n      });\n    }\n    this.dispatchEvent(event);\n  }\n}, _dragInfoMap = new WeakMap(), _targetListeners = new WeakMap(), _lazyListenersRegistered = new WeakMap(), _registerLazyListeners = new WeakSet(), registerLazyListeners_fn = function() {\n  if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _lazyListenersRegistered)) {\n    return;\n  }\n  this.addTargetListener(\"pointermove\", this.onPointerMove.bind(this));\n  this.addTargetListener(\"pointerup\", this.onPointerUp.bind(this));\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _lazyListenersRegistered, true);\n}, _clear = new WeakSet(), clear_fn = function(e) {\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _dragInfoMap).delete(e.pointerId);\n}, _trackDrag = new WeakSet(), trackDrag_fn = function(e) {\n  const existing = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _dragInfoMap).get(e.pointerId);\n  if (!existing) {\n    return { movementInfo: null, hasMoved: false };\n  }\n  let movementInfo;\n  if ((e.movementX ?? 0) !== 0 || (e.movementY ?? 0) !== 0) {\n    movementInfo = {\n      attachedInfo: existing.attachedInfo,\n      movementX: e.movementX,\n      movementY: e.movementY,\n      elapsedMs: e.timeStamp - existing.lastTimeStamp\n    };\n  } else {\n    movementInfo = {\n      attachedInfo: existing.attachedInfo,\n      movementX: e.clientX - existing.lastClientX,\n      movementY: e.clientY - existing.lastClientY,\n      elapsedMs: e.timeStamp - existing.lastTimeStamp\n    };\n  }\n  existing.lastClientX = e.clientX;\n  existing.lastClientY = e.clientY;\n  existing.lastTimeStamp = e.timeStamp;\n  if (Math.abs(movementInfo.movementX) < MOVEMENT_EPSILON && Math.abs(movementInfo.movementY) < MOVEMENT_EPSILON) {\n    return { movementInfo: null, hasMoved: existing.hasMoved };\n  } else {\n    existing.hasMoved = true;\n    return { movementInfo, hasMoved: existing.hasMoved };\n  }\n}, _a11);\nvar renderers = [];\nasync function rawRenderPooled(width, height, scene, camera) {\n  if (renderers.length === 0) {\n    renderers.push(newRenderer());\n  }\n  const renderer = await renderers[0];\n  renderer.setSize(width, height);\n  renderer.render(scene, camera);\n  return renderer.domElement;\n}\nasync function renderPooled(width, height, canvas, scene, camera) {\n  if (width === 0 || height === 0) {\n    return;\n  }\n  if (renderers.length === 0) {\n    renderers.push(newRenderer());\n  }\n  const rendererCanvas = await rawRenderPooled(width, height, scene, camera);\n  const context = canvas.getContext(\"2d\");\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  context.drawImage(rendererCanvas, 0, 0);\n}\nasync function newRenderer() {\n  const rendererConstructor = (await THREEJS).WebGLRenderer;\n  const renderer = new rendererConstructor({\n    antialias: true,\n    alpha: true\n  });\n  renderer.setPixelRatio(pixelRatio());\n  return renderer;\n}\nvar INERTIA_DEFAULT = true;\nvar INERTIA_DURATION_MS = 500;\nvar INERTIA_TIMEOUT_MS = 50;\nvar VERTICAL_MOVEMENT_BASE_SCALE = 0.75;\nfunction momentumScale(progress) {\n  return (Math.exp(1 - progress) - (1 - progress)) / (1 - Math.E) + 1;\n}\nvar Inertia = class {\n  constructor(startTimestamp, momentumX, momentumY, callback) {\n    this.startTimestamp = startTimestamp;\n    this.momentumX = momentumX;\n    this.momentumY = momentumY;\n    this.callback = callback;\n    this.scheduler = new RenderScheduler(this.render.bind(this));\n    this.scheduler.requestAnimFrame();\n    this.lastTimestamp = startTimestamp;\n  }\n  render(now) {\n    const progressBefore = (this.lastTimestamp - this.startTimestamp) / INERTIA_DURATION_MS;\n    const progressAfter = Math.min(\n      1,\n      (now - this.startTimestamp) / INERTIA_DURATION_MS\n    );\n    if (progressBefore === 0 && progressAfter > INERTIA_TIMEOUT_MS / INERTIA_DURATION_MS) {\n      return;\n    }\n    const delta = momentumScale(progressAfter) - momentumScale(progressBefore);\n    this.callback(this.momentumX * delta * 1e3, this.momentumY * delta * 1e3);\n    if (progressAfter < 1) {\n      this.scheduler.requestAnimFrame();\n    }\n    this.lastTimestamp = now;\n  }\n};\nvar TwistyOrbitControls = class {\n  constructor(model, mirror, canvas, dragTracker) {\n    this.model = model;\n    this.mirror = mirror;\n    this.canvas = canvas;\n    this.dragTracker = dragTracker;\n    this.experimentalInertia = INERTIA_DEFAULT;\n    this.onMovementBound = this.onMovement.bind(this);\n    this.experimentalHasBeenMoved = false;\n    this.dragTracker.addEventListener(\"move\", this.onMove.bind(this));\n    this.dragTracker.addEventListener(\"up\", this.onUp.bind(this));\n  }\n  // f is the fraction of the canvas traversed per ms.\n  temperMovement(f) {\n    return Math.sign(f) * Math.log(Math.abs(f * 10) + 1) / 6;\n  }\n  onMove(e) {\n    var _a13;\n    (_a13 = e.detail).attachedInfo ?? (_a13.attachedInfo = {});\n    const { temperedX, temperedY } = this.onMovement(\n      e.detail.movementX,\n      e.detail.movementY\n    );\n    const attachedInfo = e.detail.attachedInfo;\n    attachedInfo.lastTemperedX = temperedX * 10;\n    attachedInfo.lastTemperedY = temperedY * 10;\n    attachedInfo.timestamp = e.timeStamp;\n  }\n  onMovement(movementX, movementY) {\n    const scale = this.mirror ? -1 : 1;\n    const minDim = Math.min(this.canvas.offsetWidth, this.canvas.offsetHeight);\n    const temperedX = this.temperMovement(movementX / minDim);\n    const temperedY = this.temperMovement(\n      movementY / minDim * VERTICAL_MOVEMENT_BASE_SCALE\n    );\n    this.model.twistySceneModel.orbitCoordinatesRequest.set(\n      (async () => {\n        const prevCoords = await this.model.twistySceneModel.orbitCoordinates.get();\n        const newCoords = {\n          latitude: prevCoords.latitude + 2 * temperedY * DEGREES_PER_RADIAN * scale,\n          longitude: prevCoords.longitude - 2 * temperedX * DEGREES_PER_RADIAN\n        };\n        return newCoords;\n      })()\n    );\n    return { temperedX, temperedY };\n  }\n  onUp(e) {\n    e.preventDefault();\n    if (\"lastTemperedX\" in e.detail.attachedInfo && \"lastTemperedY\" in e.detail.attachedInfo && \"timestamp\" in e.detail.attachedInfo && e.timeStamp - e.detail.attachedInfo.timestamp < 60) {\n      new Inertia(\n        e.timeStamp,\n        // TODO\n        e.detail.attachedInfo.lastTemperedX,\n        e.detail.attachedInfo.lastTemperedY,\n        this.onMovementBound\n      );\n    }\n  }\n};\nasync function setCameraFromOrbitCoordinates(camera, orbitCoordinates, backView = false) {\n  const spherical = new (await THREEJS).Spherical(\n    orbitCoordinates.distance,\n    (90 - (backView ? -1 : 1) * orbitCoordinates.latitude) / DEGREES_PER_RADIAN,\n    ((backView ? 180 : 0) + orbitCoordinates.longitude) / DEGREES_PER_RADIAN\n  );\n  spherical.makeSafe();\n  camera.position.setFromSpherical(spherical);\n  camera.lookAt(0, 0, 0);\n}\nvar dedicatedRenderersSoFar = 0;\nvar DEFAULT_MAX_DEDICATED_RENDERERS = 2;\nvar sharingRenderers = false;\nfunction shareRenderer() {\n  if (twistyDebugGlobals.shareAllNewRenderers !== \"auto\") {\n    if (!twistyDebugGlobals.shareAllNewRenderers) {\n      dedicatedRenderersSoFar++;\n    }\n    return twistyDebugGlobals.shareAllNewRenderers !== \"never\";\n  }\n  if (dedicatedRenderersSoFar < DEFAULT_MAX_DEDICATED_RENDERERS) {\n    dedicatedRenderersSoFar++;\n    return false;\n  } else {\n    sharingRenderers = true;\n    return true;\n  }\n}\nfunction haveStartedSharingRenderers() {\n  return sharingRenderers;\n}\nvar _setupBasicPresses, setupBasicPresses_fn, _onResizeStaleDropper, _width, _height, _onResize, onResize_fn, _cachedRenderer, _cachedCanvas, _cachedDragTracker, _dragTracker, dragTracker_fn, _cachedCamera, _cachedOrbitControls, _disconnectionFunctions2, _experimentalNextRenderFinishedCallback, _scheduler, _a12;\nvar Twisty3DVantage = (_a12 = class extends ManagedCustomElement {\n  constructor(model, scene, options) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _setupBasicPresses);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _onResize);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _dragTracker);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _onResizeStaleDropper, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _width, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _height, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedRenderer, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedCanvas, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedDragTracker, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedCamera, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _cachedOrbitControls, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _disconnectionFunctions2, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _experimentalNextRenderFinishedCallback, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _scheduler, void 0);\n    this.model = model;\n    this.options = options;\n    this.scene = null;\n    this.stats = null;\n    this.rendererIsShared = shareRenderer();\n    this.loadingElement = null;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _onResizeStaleDropper, new StaleDropper());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _width, 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _height, 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedRenderer, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedCanvas, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedDragTracker, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedCamera, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedOrbitControls, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _disconnectionFunctions2, []);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _experimentalNextRenderFinishedCallback, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _scheduler, new RenderScheduler(this.render.bind(this)));\n    this.scene = scene ?? null;\n    this.loadingElement = this.addElement(document.createElement(\"div\"));\n    this.loadingElement.classList.add(\"loading\");\n    if (twistyDebugGlobals.showRenderStats) {\n      this.stats = new Stats();\n      this.stats.dom.style.position = \"absolute\";\n      this.contentWrapper.appendChild(this.stats.dom);\n    }\n  }\n  async connectedCallback() {\n    this.addCSS(twisty3DVantageCSS);\n    this.addElement((await this.canvasInfo()).canvas);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _onResize, onResize_fn).call(this);\n    const observer = new ResizeObserver((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _onResize, onResize_fn).bind(this));\n    observer.observe(this.contentWrapper);\n    this.orbitControls();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _setupBasicPresses, setupBasicPresses_fn).call(this);\n    this.scheduleRender();\n  }\n  async clearCanvas() {\n    if (this.rendererIsShared) {\n      const canvasInfo = await this.canvasInfo();\n      canvasInfo.context.clearRect(\n        0,\n        0,\n        canvasInfo.canvas.width,\n        canvasInfo.canvas.height\n      );\n    } else {\n      const renderer = await this.renderer();\n      const context = renderer.getContext();\n      context.clear(context.COLOR_BUFFER_BIT);\n    }\n  }\n  async renderer() {\n    if (this.rendererIsShared) {\n      throw new Error(\"renderer expected to be shared.\");\n    }\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedRenderer) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedRenderer, newRenderer());\n  }\n  async canvasInfo() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedCanvas) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedCanvas, (async () => {\n      let canvas;\n      if (this.rendererIsShared) {\n        canvas = this.addElement(document.createElement(\"canvas\"));\n      } else {\n        const renderer = await this.renderer();\n        canvas = this.addElement(renderer.domElement);\n      }\n      this.loadingElement?.remove();\n      const context = canvas.getContext(\"2d\");\n      return { canvas, context };\n    })());\n  }\n  async camera() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedCamera) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedCamera, (async () => {\n      const camera = new (await THREEJS).PerspectiveCamera(\n        20,\n        1,\n        // We rely on the resize logic to handle this.\n        0.1,\n        20\n      );\n      camera.position.copy(\n        new (await THREEJS).Vector3(2, 4, 4).multiplyScalar(\n          this.options?.backView ? -1 : 1\n        )\n      );\n      camera.lookAt(0, 0, 0);\n      return camera;\n    })());\n  }\n  async orbitControls() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedOrbitControls) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedOrbitControls, (async () => {\n      const orbitControls = new TwistyOrbitControls(\n        this.model,\n        !!this.options?.backView,\n        (await this.canvasInfo()).canvas,\n        await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _dragTracker, dragTracker_fn).call(this)\n      );\n      if (this.model) {\n        this.addListener(\n          this.model.twistySceneModel.orbitCoordinates,\n          async (orbitCoordinates) => {\n            const camera = await this.camera();\n            setCameraFromOrbitCoordinates(\n              camera,\n              orbitCoordinates,\n              this.options?.backView\n            );\n            this.scheduleRender();\n          }\n        );\n      }\n      return orbitControls;\n    })());\n  }\n  addListener(prop, listener) {\n    prop.addFreshListener(listener);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _disconnectionFunctions2).push(() => {\n      prop.removeFreshListener(listener);\n    });\n  }\n  disconnect() {\n    for (const fn of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _disconnectionFunctions2)) {\n      fn();\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _disconnectionFunctions2, []);\n  }\n  experimentalNextRenderFinishedCallback(callback) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _experimentalNextRenderFinishedCallback, callback);\n  }\n  async render() {\n    var _a13;\n    if (!this.scene) {\n      throw new Error(\"Attempted to render without a scene\");\n    }\n    this.stats?.begin();\n    const [scene, camera, canvas] = await Promise.all([\n      this.scene.scene(),\n      this.camera(),\n      this.canvasInfo()\n    ]);\n    if (this.rendererIsShared) {\n      renderPooled((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _width), (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _height), canvas.canvas, scene, camera);\n    } else {\n      (await this.renderer()).render(scene, camera);\n    }\n    this.stats?.end();\n    (_a13 = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _experimentalNextRenderFinishedCallback)) == null ? void 0 : _a13.call(this);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _experimentalNextRenderFinishedCallback, null);\n  }\n  scheduleRender() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _scheduler).requestAnimFrame();\n  }\n}, _setupBasicPresses = new WeakSet(), setupBasicPresses_fn = async function() {\n  const dragTracker = await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateMethod)(this, _dragTracker, dragTracker_fn).call(this);\n  dragTracker.addEventListener(\"press\", async (e) => {\n    const movePressInput = await this.model.twistySceneModel.movePressInput.get();\n    if (movePressInput !== \"basic\") {\n      return;\n    }\n    this.dispatchEvent(\n      new CustomEvent(\"press\", {\n        detail: {\n          pressInfo: e.detail,\n          cameraPromise: this.camera()\n        }\n      })\n    );\n  });\n}, _onResizeStaleDropper = new WeakMap(), _width = new WeakMap(), _height = new WeakMap(), _onResize = new WeakSet(), onResize_fn = async function() {\n  const camera = await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _onResizeStaleDropper).queue(this.camera());\n  const w = this.contentWrapper.clientWidth;\n  const h = this.contentWrapper.clientHeight;\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _width, w);\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _height, h);\n  const off = 0;\n  let yoff = 0;\n  let excess = 0;\n  if (h > w) {\n    excess = h - w;\n    yoff = -Math.floor(0.5 * excess);\n  }\n  camera.aspect = w / h;\n  camera.setViewOffset(w, h - excess, off, yoff, w, h);\n  camera.updateProjectionMatrix();\n  this.clearCanvas();\n  if (this.rendererIsShared) {\n    const canvasInfo = await this.canvasInfo();\n    canvasInfo.canvas.width = w * pixelRatio();\n    canvasInfo.canvas.height = h * pixelRatio();\n    canvasInfo.canvas.style.width = `${w.toString()}px`;\n    canvasInfo.canvas.style.height = `${h.toString()}px`;\n  } else {\n    const renderer = await this.renderer();\n    renderer.setSize(w, h, true);\n  }\n  this.scheduleRender();\n}, _cachedRenderer = new WeakMap(), _cachedCanvas = new WeakMap(), _cachedDragTracker = new WeakMap(), _dragTracker = new WeakSet(), dragTracker_fn = async function() {\n  return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _cachedDragTracker) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _cachedDragTracker, (async () => {\n    const dragTracker = new DragTracker((await this.canvasInfo()).canvas);\n    this.model?.twistySceneModel.dragInput.addFreshListener(\n      (dragInputMode) => {\n        let dragInputEnabled = false;\n        switch (dragInputMode) {\n          case \"auto\": {\n            dragTracker.start();\n            dragInputEnabled = true;\n            break;\n          }\n          case \"none\": {\n            dragTracker.stop();\n            break;\n          }\n        }\n        this.contentWrapper.classList.toggle(\n          \"drag-input-enabled\",\n          dragInputEnabled\n        );\n      }\n    );\n    return dragTracker;\n  })());\n}, _cachedCamera = new WeakMap(), _cachedOrbitControls = new WeakMap(), _disconnectionFunctions2 = new WeakMap(), _experimentalNextRenderFinishedCallback = new WeakMap(), _scheduler = new WeakMap(), _a12);\ncustomElementsShim.define(\"twisty-3d-vantage\", Twisty3DVantage);\n\n\n\n\n//# sourceURL=webpack://cubetimer/./node_modules/scramble-display/dist/esm/chunk-EYSO3CHT.js?");

/***/ }),

/***/ "./node_modules/scramble-display/dist/esm/chunk-KTP5YOXP.js":
/*!******************************************************************!*\
  !*** ./node_modules/scramble-display/dist/esm/chunk-KTP5YOXP.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Alg: () => (/* binding */ Alg),\n/* harmony export */   AlgBuilder: () => (/* binding */ AlgBuilder),\n/* harmony export */   Conjugate: () => (/* binding */ Conjugate),\n/* harmony export */   Grouping: () => (/* binding */ Grouping),\n/* harmony export */   Move: () => (/* binding */ Move),\n/* harmony export */   Pause: () => (/* binding */ Pause),\n/* harmony export */   QuantumMove: () => (/* binding */ QuantumMove),\n/* harmony export */   TraversalDownUp: () => (/* binding */ TraversalDownUp),\n/* harmony export */   TraversalUp: () => (/* binding */ TraversalUp),\n/* harmony export */   direct: () => (/* binding */ direct),\n/* harmony export */   directedGenerator: () => (/* binding */ directedGenerator),\n/* harmony export */   experimentalAppendMove: () => (/* binding */ experimentalAppendMove),\n/* harmony export */   functionFromTraversal: () => (/* binding */ functionFromTraversal),\n/* harmony export */   offsetMod: () => (/* binding */ offsetMod)\n/* harmony export */ });\n/* harmony import */ var _chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-VVT7CIBF.js */ \"./node_modules/scramble-display/dist/esm/chunk-VVT7CIBF.js\");\n\n\n// node_modules/cubing/dist/cubing/chunk-5J7SUMXR.js\nvar writeAlgDebugField = false;\nvar Comparable = class {\n  is(c) {\n    return this instanceof c;\n  }\n  as(c) {\n    return this instanceof c ? this : null;\n  }\n};\nvar AlgCommon = class extends Comparable {\n  constructor() {\n    super();\n    if (writeAlgDebugField) {\n      Object.defineProperty(this, \"_debugStr\", {\n        get: () => {\n          return this.toString();\n        }\n      });\n    }\n  }\n  get log() {\n    return console.log.bind(console, this, this.toString());\n  }\n};\nfunction toggleDirection(iterationDirection, flip = true) {\n  if (!flip) {\n    return iterationDirection;\n  }\n  switch (iterationDirection) {\n    case 1:\n      return -1;\n    case -1:\n      return 1;\n  }\n}\nfunction direct(g, iterDir) {\n  return iterDir === -1 ? Array.from(g).reverse() : g;\n}\nfunction reverse(g) {\n  return Array.from(g).reverse();\n}\nfunction* directedGenerator(g, direction) {\n  direction === -1 ? yield* reverseGenerator(g) : yield* g;\n}\nfunction* reverseGenerator(g) {\n  for (const t of Array.from(g).reverse()) {\n    yield t;\n  }\n}\nvar MAX_INT = 2147483647;\nvar MAX_INT_DESCRIPTION = \"2^31 - 1\";\nvar MIN_INT = -2147483648;\nvar _algNodes, _a;\nvar AlgBuilder = (_a = class {\n  constructor() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _algNodes, []);\n  }\n  push(u) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes).push(u);\n  }\n  // TODO: Allow FlexibleAlgSource?\n  /** @deprecated */\n  experimentalPushAlg(alg) {\n    for (const u of alg.childAlgNodes()) {\n      this.push(u);\n    }\n  }\n  // TODO: can we guarantee this to be fast in the permanent API?\n  experimentalNumAlgNodes() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes).length;\n  }\n  // can be called multiple times, even if you push alg nodes inbetween.\n  toAlg() {\n    return new Alg((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes));\n  }\n  reset() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _algNodes, []);\n  }\n}, _algNodes = new WeakMap(), _a);\nvar algDebugGlobals = {\n  caretNISSNotationEnabled: true\n};\nvar _A, _B, _a2;\nvar Commutator = (_a2 = class extends AlgCommon {\n  constructor(aSource, bSource) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _A, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _B, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _A, experimentalEnsureAlg(aSource));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _B, experimentalEnsureAlg(bSource));\n  }\n  get A() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _A);\n  }\n  get B() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _B);\n  }\n  isIdentical(other) {\n    const otherAsCommutator = other.as(_a2);\n    return !!(otherAsCommutator?.A.isIdentical(this.A) && otherAsCommutator?.B.isIdentical(this.B));\n  }\n  invert() {\n    return new _a2((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _B), (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _A));\n  }\n  *experimentalExpand(iterDir = 1, depth) {\n    depth ?? (depth = Infinity);\n    if (depth === 0) {\n      yield iterDir === 1 ? this : this.invert();\n    } else {\n      if (iterDir === 1) {\n        yield* this.A.experimentalExpand(\n          1,\n          depth - 1\n        );\n        yield* this.B.experimentalExpand(\n          1,\n          depth - 1\n        );\n        yield* this.A.experimentalExpand(\n          -1,\n          depth - 1\n        );\n        yield* this.B.experimentalExpand(\n          -1,\n          depth - 1\n        );\n      } else {\n        yield* this.B.experimentalExpand(\n          1,\n          depth - 1\n        );\n        yield* this.A.experimentalExpand(\n          1,\n          depth - 1\n        );\n        yield* this.B.experimentalExpand(\n          -1,\n          depth - 1\n        );\n        yield* this.A.experimentalExpand(\n          -1,\n          depth - 1\n        );\n      }\n    }\n  }\n  toString() {\n    return `[${(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _A).toString()}, ${(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _B).toString()}]`;\n  }\n}, _A = new WeakMap(), _B = new WeakMap(), _a2);\nvar _A2, _B2, _a3;\nvar Conjugate = (_a3 = class extends AlgCommon {\n  constructor(aSource, bSource) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _A2, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _B2, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _A2, experimentalEnsureAlg(aSource));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _B2, experimentalEnsureAlg(bSource));\n  }\n  get A() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _A2);\n  }\n  get B() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _B2);\n  }\n  isIdentical(other) {\n    const otherAsConjugate = other.as(_a3);\n    return !!(otherAsConjugate?.A.isIdentical(this.A) && otherAsConjugate?.B.isIdentical(this.B));\n  }\n  invert() {\n    return new _a3((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _A2), (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _B2).invert());\n  }\n  *experimentalExpand(iterDir, depth) {\n    depth ?? (depth = Infinity);\n    if (depth === 0) {\n      yield iterDir === 1 ? this : this.invert();\n    } else {\n      yield* this.A.experimentalExpand(1, depth - 1);\n      yield* this.B.experimentalExpand(iterDir, depth - 1);\n      yield* this.A.experimentalExpand(-1, depth - 1);\n    }\n  }\n  toString() {\n    return `[${this.A}: ${this.B}]`;\n  }\n}, _A2 = new WeakMap(), _B2 = new WeakMap(), _a3);\nvar _text, _a4;\nvar LineComment = (_a4 = class extends AlgCommon {\n  constructor(commentText) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _text, void 0);\n    if (commentText.includes(\"\\n\") || commentText.includes(\"\\r\")) {\n      throw new Error(\"LineComment cannot contain newline\");\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _text, commentText);\n  }\n  get text() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _text);\n  }\n  isIdentical(other) {\n    const otherAsLineComment = other;\n    return other.is(_a4) && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _text) === (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsLineComment, _text);\n  }\n  invert() {\n    return this;\n  }\n  *experimentalExpand(_iterDir = 1, _depth = Infinity) {\n    yield this;\n  }\n  toString() {\n    return `//${(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _text)}`;\n  }\n  // toJSON(): LineCommentJSON {\n  //   return {\n  //     type: \"comment\",\n  //     text: this.#text,\n  //   };\n  // }\n}, _text = new WeakMap(), _a4);\nvar Newline = class _Newline extends AlgCommon {\n  toString() {\n    return \"\\n\";\n  }\n  isIdentical(other) {\n    return other.is(_Newline);\n  }\n  invert() {\n    return this;\n  }\n  *experimentalExpand(_iterDir = 1, _depth = Infinity) {\n    yield this;\n  }\n};\nvar Pause = class _Pause extends AlgCommon {\n  // TODO: tie this to the alg\n  toString() {\n    return \".\";\n  }\n  isIdentical(other) {\n    return other.is(_Pause);\n  }\n  invert() {\n    return this;\n  }\n  *experimentalExpand(_iterDir = 1, _depth = Infinity) {\n    yield this;\n  }\n};\nfunction parseIntWithEmptyFallback(n, emptyFallback) {\n  return n ? parseInt(n) : emptyFallback;\n}\nvar AMOUNT_REGEX = /^(\\d+)?('?)/;\nvar MOVE_START_REGEX = /^[_\\dA-Za-z]/;\nvar QUANTUM_MOVE_REGEX = /^((([1-9]\\d*)-)?([1-9]\\d*))?([_A-Za-z]+)/;\nvar COMMENT_TEXT_REGEX = /^[^\\n]*/;\nvar SQUARE1_PAIR_START_REGEX = /^(-?\\d+), ?/;\nvar SQUARE1_PAIR_END_REGEX = /^(-?\\d+)\\)/;\nfunction parseAlg(s) {\n  return new AlgParser().parseAlg(s);\n}\nfunction parseMove(s) {\n  return new AlgParser().parseMove(s);\n}\nfunction parseQuantumMove(s) {\n  return new AlgParser().parseQuantumMove(s);\n}\nfunction addCharIndices(t, startCharIndex, endCharIndex) {\n  const parsedT = t;\n  parsedT.startCharIndex = startCharIndex;\n  parsedT.endCharIndex = endCharIndex;\n  return parsedT;\n}\nfunction transferCharIndex(from, to) {\n  if (\"startCharIndex\" in from) {\n    to.startCharIndex = from.startCharIndex;\n  }\n  if (\"endCharIndex\" in from) {\n    to.endCharIndex = from.endCharIndex;\n  }\n  return to;\n}\nvar _input, _idx, _nissQueue, _a5;\nvar AlgParser = (_a5 = class {\n  constructor() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _input, \"\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _idx, 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _nissQueue, []);\n  }\n  parseAlg(input) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _input, input);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _idx, 0);\n    const alg = this.parseAlgWithStopping([]);\n    this.mustBeAtEndOfInput();\n    const algNodes = Array.from(alg.childAlgNodes());\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _nissQueue).length > 0) {\n      for (const nissGrouping of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _nissQueue).reverse()) {\n        algNodes.push(nissGrouping);\n      }\n    }\n    const newAlg = new Alg(algNodes);\n    const { startCharIndex, endCharIndex } = alg;\n    addCharIndices(newAlg, startCharIndex, endCharIndex);\n    return newAlg;\n  }\n  parseMove(input) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _input, input);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _idx, 0);\n    const move = this.parseMoveImpl();\n    this.mustBeAtEndOfInput();\n    return move;\n  }\n  parseQuantumMove(input) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _input, input);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _idx, 0);\n    const quantumMove = this.parseQuantumMoveImpl();\n    this.mustBeAtEndOfInput();\n    return quantumMove;\n  }\n  mustBeAtEndOfInput() {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) !== (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input).length) {\n      throw new Error(\"parsing unexpectedly ended early\");\n    }\n  }\n  parseAlgWithStopping(stopBefore) {\n    let algStartIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n    let algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n    const algBuilder = new AlgBuilder();\n    let crowded = false;\n    const mustNotBeCrowded = (idx) => {\n      if (crowded) {\n        throw new Error(\n          `Unexpected character at index ${idx}. Are you missing a space?`\n        );\n      }\n    };\n    mainLoop:\n      while ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) < (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input).length) {\n        const savedCharIndex = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n        if (stopBefore.includes((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input)[(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)])) {\n          return addCharIndices(algBuilder.toAlg(), algStartIdx, algEndIdx);\n        }\n        if (this.tryConsumeNext(\" \")) {\n          crowded = false;\n          if (algBuilder.experimentalNumAlgNodes() === 0) {\n            algStartIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n          }\n          continue mainLoop;\n        } else if (MOVE_START_REGEX.test((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input)[(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)])) {\n          mustNotBeCrowded(savedCharIndex);\n          const move = this.parseMoveImpl();\n          algBuilder.push(move);\n          crowded = true;\n          algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n          continue mainLoop;\n        } else if (this.tryConsumeNext(\"(\")) {\n          mustNotBeCrowded(savedCharIndex);\n          const sq1PairStartMatch = this.tryRegex(SQUARE1_PAIR_START_REGEX);\n          if (sq1PairStartMatch) {\n            const topAmountString = sq1PairStartMatch[1];\n            const savedCharIndexD = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n            const sq1PairEndMatch = this.parseRegex(SQUARE1_PAIR_END_REGEX);\n            const uMove = addCharIndices(\n              new Move(new QuantumMove(\"U_SQ_\"), parseInt(topAmountString)),\n              savedCharIndex + 1,\n              savedCharIndex + 1 + topAmountString.length\n            );\n            const dMove = addCharIndices(\n              new Move(new QuantumMove(\"D_SQ_\"), parseInt(sq1PairEndMatch[1])),\n              savedCharIndexD,\n              (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) - 1\n            );\n            const alg = addCharIndices(\n              new Alg([uMove, dMove]),\n              savedCharIndex + 1,\n              (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) - 1\n            );\n            algBuilder.push(\n              addCharIndices(new Grouping(alg), savedCharIndex, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx))\n            );\n            crowded = true;\n            algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n            continue mainLoop;\n          } else {\n            const alg = this.parseAlgWithStopping([\")\"]);\n            this.mustConsumeNext(\")\");\n            const amount = this.parseAmount();\n            algBuilder.push(\n              addCharIndices(\n                new Grouping(alg, amount),\n                savedCharIndex,\n                (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)\n              )\n            );\n            crowded = true;\n            algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n            continue mainLoop;\n          }\n        } else if (this.tryConsumeNext(\"^\")) {\n          if (!algDebugGlobals.caretNISSNotationEnabled) {\n            throw new Error(\n              \"Alg contained a caret but caret NISS notation is not enabled.\"\n            );\n          }\n          this.mustConsumeNext(\"(\");\n          const alg = this.parseAlgWithStopping([\")\"]);\n          this.popNext();\n          const grouping = new Grouping(alg, -1);\n          const placeholder = new Pause();\n          grouping.experimentalNISSPlaceholder = placeholder;\n          placeholder.experimentalNISSGrouping = grouping;\n          (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _nissQueue).push(grouping);\n          algBuilder.push(placeholder);\n        } else if (this.tryConsumeNext(\"[\")) {\n          mustNotBeCrowded(savedCharIndex);\n          const A = this.parseAlgWithStopping([\",\", \":\"]);\n          const separator = this.popNext();\n          const B = this.parseAlgWithStopping([\"]\"]);\n          this.mustConsumeNext(\"]\");\n          let unrepeated;\n          switch (separator) {\n            case \":\": {\n              unrepeated = addCharIndices(\n                new Conjugate(A, B),\n                savedCharIndex,\n                (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)\n              );\n              crowded = true;\n              algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n              break;\n            }\n            case \",\": {\n              unrepeated = addCharIndices(\n                new Commutator(A, B),\n                savedCharIndex,\n                (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)\n              );\n              crowded = true;\n              algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n              break;\n            }\n            default:\n              throw new Error(\"unexpected parsing error\");\n          }\n          const afterClosingBracketIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n          const amount = this.parseAmount();\n          if (amount === 1) {\n            algBuilder.push(unrepeated);\n          } else {\n            const unrepeatedAlg = addCharIndices(\n              new Alg([unrepeated]),\n              savedCharIndex,\n              afterClosingBracketIdx\n            );\n            const grouping = addCharIndices(\n              new Grouping(unrepeatedAlg, amount),\n              savedCharIndex,\n              (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)\n            );\n            algBuilder.push(grouping);\n          }\n          crowded = true;\n          algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n          continue mainLoop;\n        } else if (this.tryConsumeNext(\"\\n\")) {\n          algBuilder.push(\n            addCharIndices(new Newline(), savedCharIndex, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx))\n          );\n          crowded = false;\n          algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n          continue mainLoop;\n        } else if (this.tryConsumeNext(\"/\")) {\n          if (this.tryConsumeNext(\"/\")) {\n            mustNotBeCrowded(savedCharIndex);\n            const [text] = this.parseRegex(COMMENT_TEXT_REGEX);\n            algBuilder.push(\n              addCharIndices(new LineComment(text), savedCharIndex, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx))\n            );\n            crowded = false;\n            algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n            continue mainLoop;\n          } else {\n            algBuilder.push(\n              addCharIndices(new Move(\"_SLASH_\"), savedCharIndex, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx))\n            );\n            crowded = true;\n            algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n            continue mainLoop;\n          }\n        } else if (this.tryConsumeNext(\".\")) {\n          mustNotBeCrowded(savedCharIndex);\n          algBuilder.push(addCharIndices(new Pause(), savedCharIndex, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)));\n          crowded = true;\n          algEndIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n          continue mainLoop;\n        } else {\n          throw new Error(`Unexpected character: ${this.popNext()}`);\n        }\n      }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) !== (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input).length) {\n      throw new Error(\"did not finish parsing?\");\n    }\n    if (stopBefore.length > 0) {\n      throw new Error(\"expected stopping\");\n    }\n    return addCharIndices(algBuilder.toAlg(), algStartIdx, algEndIdx);\n  }\n  parseQuantumMoveImpl() {\n    const [, , , outerLayerStr, innerLayerStr, family] = this.parseRegex(QUANTUM_MOVE_REGEX);\n    return new QuantumMove(\n      family,\n      parseIntWithEmptyFallback(innerLayerStr, void 0),\n      parseIntWithEmptyFallback(outerLayerStr, void 0)\n    );\n  }\n  parseMoveImpl() {\n    const savedCharIndex = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n    if (this.tryConsumeNext(\"/\")) {\n      return addCharIndices(new Move(\"_SLASH_\"), savedCharIndex, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx));\n    }\n    let quantumMove = this.parseQuantumMoveImpl();\n    let [amount, hadEmptyAbsAmount] = this.parseAmountAndTrackEmptyAbsAmount();\n    const suffix = this.parseMoveSuffix();\n    if (suffix) {\n      if (amount < 0) {\n        throw new Error(\"uh-oh\");\n      }\n      if ((suffix === \"++\" || suffix === \"--\") && amount !== 1) {\n        throw new Error(\n          \"Pochmann ++ or -- moves cannot have an amount other than 1.\"\n        );\n      }\n      if ((suffix === \"++\" || suffix === \"--\") && !hadEmptyAbsAmount) {\n        throw new Error(\n          \"Pochmann ++ or -- moves cannot have an amount written as a number.\"\n        );\n      }\n      if ((suffix === \"+\" || suffix === \"-\") && hadEmptyAbsAmount) {\n        throw new Error(\n          \"Clock dial moves must have an amount written as a natural number followed by + or -.\"\n        );\n      }\n      if (suffix.startsWith(\"+\")) {\n        quantumMove = quantumMove.modified({\n          family: `${quantumMove.family}_${suffix === \"+\" ? \"PLUS\" : \"PLUSPLUS\"}_`\n          // TODO\n        });\n      }\n      if (suffix.startsWith(\"-\")) {\n        quantumMove = quantumMove.modified({\n          family: `${quantumMove.family}_${suffix === \"-\" ? \"PLUS\" : \"PLUSPLUS\"}_`\n          // TODO\n        });\n        amount *= -1;\n      }\n    }\n    const move = addCharIndices(\n      new Move(quantumMove, amount),\n      savedCharIndex,\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)\n    );\n    return move;\n  }\n  parseMoveSuffix() {\n    if (this.tryConsumeNext(\"+\")) {\n      if (this.tryConsumeNext(\"+\")) {\n        return \"++\";\n      }\n      return \"+\";\n    }\n    if (this.tryConsumeNext(\"-\")) {\n      if (this.tryConsumeNext(\"-\")) {\n        return \"--\";\n      }\n      return \"-\";\n    }\n    return null;\n  }\n  parseAmountAndTrackEmptyAbsAmount() {\n    const savedIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n    const [, absAmountStr, primeStr] = this.parseRegex(AMOUNT_REGEX);\n    if (absAmountStr?.startsWith(\"0\") && absAmountStr !== \"0\") {\n      throw new Error(\n        `Error at char index ${savedIdx}: An amount can only start with 0 if it's exactly the digit 0.`\n      );\n    }\n    return [\n      parseIntWithEmptyFallback(absAmountStr, 1) * (primeStr === \"'\" ? -1 : 1),\n      !absAmountStr\n    ];\n  }\n  parseAmount() {\n    const savedIdx = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx);\n    const [, absAmountStr, primeStr] = this.parseRegex(AMOUNT_REGEX);\n    if (absAmountStr?.startsWith(\"0\") && absAmountStr !== \"0\") {\n      throw new Error(\n        `Error at char index ${savedIdx}: An amount number can only start with 0 if it's exactly the digit 0.`\n      );\n    }\n    return parseIntWithEmptyFallback(absAmountStr, 1) * (primeStr === \"'\" ? -1 : 1);\n  }\n  parseRegex(regex) {\n    const arr = regex.exec(this.remaining());\n    if (arr === null) {\n      throw new Error(\"internal parsing error\");\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _idx, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) + arr[0].length);\n    return arr;\n  }\n  // TOD: can we avoid this?\n  tryRegex(regex) {\n    const arr = regex.exec(this.remaining());\n    if (arr === null) {\n      return null;\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _idx, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx) + arr[0].length);\n    return arr;\n  }\n  remaining() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input).slice((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx));\n  }\n  popNext() {\n    const next = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input)[(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)];\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateWrapper)(this, _idx)._++;\n    return next;\n  }\n  tryConsumeNext(expected) {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _input)[(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _idx)] === expected) {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateWrapper)(this, _idx)._++;\n      return true;\n    }\n    return false;\n  }\n  mustConsumeNext(expected) {\n    const next = this.popNext();\n    if (next !== expected) {\n      throw new Error(\n        `expected \\`${expected}\\` while parsing, encountered ${next}`\n      );\n    }\n    return next;\n  }\n}, _input = new WeakMap(), _idx = new WeakMap(), _nissQueue = new WeakMap(), _a5);\nvar warned = /* @__PURE__ */ new Set();\nfunction warnOnce(s) {\n  if (!warned.has(s)) {\n    console.warn(s);\n    warned.add(s);\n  }\n}\nvar QuantumWithAmount = class {\n  constructor(quantum, amount = 1) {\n    this.quantum = quantum;\n    this.amount = amount;\n    if (!Number.isInteger(this.amount) || this.amount < MIN_INT || this.amount > MAX_INT) {\n      throw new Error(\n        `AlgNode amount absolute value must be a non-negative integer below ${MAX_INT_DESCRIPTION}.`\n      );\n    }\n  }\n  suffix() {\n    let s = \"\";\n    const absAmount = Math.abs(this.amount);\n    if (absAmount !== 1) {\n      s += absAmount;\n    }\n    if (this.amount < 0) {\n      s += \"'\";\n    }\n    return s;\n  }\n  isIdentical(other) {\n    return this.quantum.isIdentical(other.quantum) && this.amount === other.amount;\n  }\n  // TODO: `Conjugate` and `Commutator` decrement `depth` inside the quantum, `Grouping` has to do it outside the quantum.\n  *experimentalExpand(iterDir, depth) {\n    const absAmount = Math.abs(this.amount);\n    const newIterDir = toggleDirection(iterDir, this.amount < 0);\n    for (let i = 0; i < absAmount; i++) {\n      yield* this.quantum.experimentalExpand(newIterDir, depth);\n    }\n  }\n};\nvar _family, _innerLayer, _outerLayer, _a6;\nvar QuantumMove = (_a6 = class extends Comparable {\n  constructor(family, innerLayer, outerLayer) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _family, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _innerLayer, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _outerLayer, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _family, family);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _innerLayer, innerLayer ?? null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _outerLayer, outerLayer ?? null);\n    Object.freeze(this);\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) !== null && (!Number.isInteger((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer)) || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) < 1 || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) > MAX_INT)) {\n      throw new Error(\n        `QuantumMove inner layer must be a positive integer below ${MAX_INT_DESCRIPTION}.`\n      );\n    }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) !== null && (!Number.isInteger((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer)) || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) < 1 || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) > MAX_INT)) {\n      throw new Error(\n        `QuantumMove outer layer must be a positive integer below ${MAX_INT_DESCRIPTION}.`\n      );\n    }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) !== null && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) !== null && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) <= (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer)) {\n      throw new Error(\n        \"QuantumMove outer layer must be smaller than inner layer.\"\n      );\n    }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) !== null && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) === null) {\n      throw new Error(\n        \"QuantumMove with an outer layer must have an inner layer\"\n      );\n    }\n  }\n  static fromString(s) {\n    return parseQuantumMove(s);\n  }\n  // TODO: `modify`?\n  modified(modifications) {\n    return new _a6(\n      modifications.family ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _family),\n      modifications.innerLayer ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer),\n      modifications.outerLayer ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer)\n    );\n  }\n  isIdentical(other) {\n    const otherAsQuantumMove = other;\n    return other.is(_a6) && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _family) === (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsQuantumMove, _family) && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) === (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsQuantumMove, _innerLayer) && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) === (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsQuantumMove, _outerLayer);\n  }\n  // TODO: provide something more useful on average.\n  /** @deprecated */\n  get family() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _family);\n  }\n  // TODO: provide something more useful on average.\n  /** @deprecated */\n  get outerLayer() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer);\n  }\n  // TODO: provide something more useful on average.\n  /** @deprecated */\n  get innerLayer() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer);\n  }\n  experimentalExpand() {\n    throw new Error(\n      \"experimentalExpand() cannot be called on a `QuantumMove` directly.\"\n    );\n  }\n  toString() {\n    let s = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _family);\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer) !== null) {\n      s = String((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _innerLayer)) + s;\n      if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer) !== null) {\n        s = `${String((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _outerLayer))}-${s}`;\n      }\n    }\n    return s;\n  }\n}, _family = new WeakMap(), _innerLayer = new WeakMap(), _outerLayer = new WeakMap(), _a6);\nvar _quantumWithAmount, _a7;\nvar Move = (_a7 = class extends AlgCommon {\n  constructor(...args) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _quantumWithAmount, void 0);\n    if (typeof args[0] === \"string\") {\n      if (args[1] ?? null) {\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _quantumWithAmount, new QuantumWithAmount(\n          QuantumMove.fromString(args[0]),\n          args[1]\n        ));\n        return;\n      } else {\n        return _a7.fromString(args[0]);\n      }\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _quantumWithAmount, new QuantumWithAmount(\n      args[0],\n      args[1]\n    ));\n  }\n  isIdentical(other) {\n    const otherAsMove = other.as(_a7);\n    return !!otherAsMove && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).isIdentical((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsMove, _quantumWithAmount));\n  }\n  invert() {\n    return transferCharIndex(\n      this,\n      new _a7((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum, -this.amount)\n    );\n  }\n  *experimentalExpand(iterDir = 1) {\n    if (iterDir === 1) {\n      yield this;\n    } else {\n      yield this.modified({\n        amount: -this.amount\n      });\n    }\n  }\n  get quantum() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum;\n  }\n  // TODO: `modify`?\n  modified(modifications) {\n    return new _a7(\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.modified(modifications),\n      modifications.amount ?? this.amount\n    );\n  }\n  static fromString(s) {\n    return parseMove(s);\n  }\n  get amount() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).amount;\n  }\n  /** @deprecated */\n  get type() {\n    warnOnce(\"deprecated: type\");\n    return \"blockMove\";\n  }\n  /** @deprecated */\n  get family() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.family ?? void 0;\n  }\n  /** @deprecated */\n  get outerLayer() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.outerLayer ?? void 0;\n  }\n  /** @deprecated */\n  get innerLayer() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.innerLayer ?? void 0;\n  }\n  toString() {\n    if (this.family === \"_SLASH_\") {\n      return \"/\";\n    }\n    if (this.family.endsWith(\"_PLUS_\")) {\n      return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.toString().slice(0, -6) + Math.abs(this.amount) + (this.amount < 0 ? \"-\" : \"+\");\n    }\n    if (this.family.endsWith(\"_PLUSPLUS_\")) {\n      const absAmount = Math.abs(this.amount);\n      return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.toString().slice(0, -10) + (absAmount === 1 ? \"\" : absAmount) + (this.amount < 0 ? \"--\" : \"++\");\n    }\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).quantum.toString() + (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount).suffix();\n  }\n  // // TODO: Serialize as a string?\n  // toJSON(): MoveJSON {\n  //   return {\n  //     type: \"move\",\n  //     family: this.family,\n  //     innerLayer: this.innerLayer,\n  //     outerLayer: this.outerLayer,\n  //   };\n  // }\n}, _quantumWithAmount = new WeakMap(), _a7);\nvar Square1TupleFormatter = class {\n  constructor() {\n    this.quantumU_SQ_ = null;\n    this.quantumD_SQ_ = null;\n  }\n  format(grouping) {\n    if (grouping.amount !== 1) {\n      return null;\n    }\n    const amounts = this.tuple(grouping);\n    if (!amounts) {\n      return null;\n    }\n    return `(${amounts.map((move) => move.amount).join(\", \")})`;\n  }\n  tuple(grouping) {\n    if (grouping.amount !== 1) {\n      return null;\n    }\n    this.quantumU_SQ_ || (this.quantumU_SQ_ = new QuantumMove(\"U_SQ_\"));\n    this.quantumD_SQ_ || (this.quantumD_SQ_ = new QuantumMove(\"D_SQ_\"));\n    const quantumAlg = grouping.alg;\n    if (quantumAlg.experimentalNumChildAlgNodes() === 2) {\n      const [U, D] = quantumAlg.childAlgNodes();\n      if (U.as(Move)?.quantum.isIdentical(this.quantumU_SQ_) && D.as(Move)?.quantum.isIdentical(this.quantumD_SQ_)) {\n        return [U, D];\n      }\n    }\n    return null;\n  }\n};\nvar square1TupleFormatterInstance = new Square1TupleFormatter();\nvar _quantumWithAmount2, _unrepeatedString, unrepeatedString_fn, _a8;\nvar Grouping = (_a8 = class extends AlgCommon {\n  // TODO: tie this to the alg\n  constructor(algSource, amount) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _unrepeatedString);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _quantumWithAmount2, void 0);\n    const alg = experimentalEnsureAlg(algSource);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _quantumWithAmount2, new QuantumWithAmount(alg, amount));\n  }\n  isIdentical(other) {\n    const otherAsGrouping = other;\n    return other.is(_a8) && (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).isIdentical((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsGrouping, _quantumWithAmount2));\n  }\n  get alg() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).quantum;\n  }\n  get amount() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).amount;\n  }\n  /** @deprecated */\n  get experimentalRepetitionSuffix() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).suffix();\n  }\n  invert() {\n    const amounts = square1TupleFormatterInstance.tuple(this);\n    if (amounts) {\n      const [moveU, moveD] = amounts;\n      return new _a8(new Alg([moveU.invert(), moveD.invert()]));\n    }\n    return new _a8(\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).quantum,\n      -(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).amount\n    );\n  }\n  *experimentalExpand(iterDir = 1, depth) {\n    depth ?? (depth = Infinity);\n    if (depth === 0) {\n      yield iterDir === 1 ? this : this.invert();\n    } else {\n      yield* (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).experimentalExpand(iterDir, depth - 1);\n    }\n  }\n  static fromString() {\n    throw new Error(\"unimplemented\");\n  }\n  toString() {\n    return square1TupleFormatterInstance.format(this) ?? `${(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _unrepeatedString, unrepeatedString_fn).call(this)}${(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).suffix()}`;\n  }\n  experimentalAsSquare1Tuple() {\n    return square1TupleFormatterInstance.tuple(this);\n  }\n  // toJSON(): GroupingJSON {\n  //   return {\n  //     type: \"grouping\",\n  //     alg: this.#quanta.quantum.toJSON(),\n  //   };\n  // }\n}, _quantumWithAmount2 = new WeakMap(), _unrepeatedString = new WeakSet(), unrepeatedString_fn = function() {\n  const insideString = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _quantumWithAmount2).quantum.toString();\n  const iter = this.alg.childAlgNodes();\n  const { value } = iter.next();\n  if (iter.next().done && (value?.is(Commutator) || value?.is(Conjugate))) {\n    return insideString;\n  }\n  return `(${insideString})`;\n}, _a8);\nfunction experimentalIs(v, c) {\n  return v instanceof c;\n}\nfunction experimentalIsAlgNode(v) {\n  return experimentalIs(v, Grouping) || experimentalIs(v, LineComment) || experimentalIs(v, Commutator) || experimentalIs(v, Conjugate) || experimentalIs(v, Move) || experimentalIs(v, Newline) || experimentalIs(v, Pause);\n}\nfunction dispatch(t, algNode, dataDown) {\n  if (algNode.is(Grouping)) {\n    return t.traverseGrouping(algNode, dataDown);\n  }\n  if (algNode.is(Move)) {\n    return t.traverseMove(algNode, dataDown);\n  }\n  if (algNode.is(Commutator)) {\n    return t.traverseCommutator(algNode, dataDown);\n  }\n  if (algNode.is(Conjugate)) {\n    return t.traverseConjugate(algNode, dataDown);\n  }\n  if (algNode.is(Pause)) {\n    return t.traversePause(algNode, dataDown);\n  }\n  if (algNode.is(Newline)) {\n    return t.traverseNewline(algNode, dataDown);\n  }\n  if (algNode.is(LineComment)) {\n    return t.traverseLineComment(algNode, dataDown);\n  }\n  throw new Error(\"unknown AlgNode\");\n}\nfunction mustBeAlgNode(t) {\n  if (t.is(Grouping) || t.is(Move) || t.is(Commutator) || t.is(Conjugate) || t.is(Pause) || t.is(Newline) || t.is(LineComment)) {\n    return t;\n  }\n  throw new Error(\"internal error: expected AlgNode\");\n}\nvar TraversalDownUp = class {\n  // Immediate subclasses should overwrite this.\n  traverseAlgNode(algNode, dataDown) {\n    return dispatch(this, algNode, dataDown);\n  }\n  traverseIntoAlgNode(algNode, dataDown) {\n    return mustBeAlgNode(this.traverseAlgNode(algNode, dataDown));\n  }\n};\nvar TraversalUp = class extends TraversalDownUp {\n  traverseAlgNode(algNode) {\n    return dispatch(\n      this,\n      algNode,\n      void 0\n    );\n  }\n  traverseIntoAlgNode(algNode) {\n    return mustBeAlgNode(this.traverseAlgNode(algNode));\n  }\n};\nfunction functionFromTraversal(traversalConstructor, constructorArgs) {\n  const instance = new traversalConstructor(\n    ...constructorArgs ?? []\n  );\n  return instance.traverseAlg.bind(instance);\n}\nvar DEFAULT_DIRECTIONAL = \"any-direction\";\nvar AppendOptionsHelper = class {\n  constructor(config = {}) {\n    this.config = config;\n  }\n  cancelQuantum() {\n    const { cancel } = this.config;\n    if (cancel === true) {\n      return DEFAULT_DIRECTIONAL;\n    }\n    if (cancel === false) {\n      return \"none\";\n    }\n    return cancel?.directional ?? \"none\";\n  }\n  cancelAny() {\n    return this.config.cancel && this.cancelQuantum() !== \"none\";\n  }\n  cancelPuzzleSpecificModWrap() {\n    const { cancel } = this.config;\n    if (cancel === true || cancel === false) {\n      return \"canonical-centered\";\n    }\n    if (cancel?.puzzleSpecificModWrap) {\n      return cancel?.puzzleSpecificModWrap;\n    }\n    return cancel?.directional === \"same-direction\" ? \"preserve-sign\" : \"canonical-centered\";\n  }\n  puzzleSpecificSimplifyOptions() {\n    return this.config.puzzleLoader?.puzzleSpecificSimplifyOptions ?? this.config.puzzleSpecificSimplifyOptions;\n  }\n};\nfunction areSameDirection(direction, move2) {\n  return direction * Math.sign(move2.amount) >= 0;\n}\nfunction offsetMod(x, positiveMod, offset = 0) {\n  return ((x - offset) % positiveMod + positiveMod) % positiveMod + offset;\n}\nfunction experimentalAppendMove(alg, addedMove, options) {\n  const optionsHelper = new AppendOptionsHelper(options);\n  const outputPrefix = Array.from(alg.childAlgNodes());\n  let outputSuffix = [addedMove];\n  function output() {\n    return new Alg([...outputPrefix, ...outputSuffix]);\n  }\n  function modMove(move) {\n    if (optionsHelper.cancelPuzzleSpecificModWrap() === \"none\") {\n      return move;\n    }\n    const quantumMoveOrder = optionsHelper.puzzleSpecificSimplifyOptions()?.quantumMoveOrder;\n    if (!quantumMoveOrder) {\n      return move;\n    }\n    const mod = quantumMoveOrder(addedMove.quantum);\n    let offset;\n    switch (optionsHelper.cancelPuzzleSpecificModWrap()) {\n      case \"gravity\": {\n        offset = -Math.floor((mod - (move.amount < 0 ? 0 : 1)) / 2);\n        break;\n      }\n      case \"canonical-centered\": {\n        offset = -Math.floor((mod - 1) / 2);\n        break;\n      }\n      case \"canonical-positive\": {\n        offset = 0;\n        break;\n      }\n      case \"preserve-sign\": {\n        offset = move.amount < 0 ? 1 - mod : 0;\n        break;\n      }\n      default: {\n        throw new Error(\"Unknown mod wrap\");\n      }\n    }\n    const offsetAmount = offsetMod(move.amount, mod, offset);\n    return move.modified({ amount: offsetAmount });\n  }\n  if (optionsHelper.cancelAny()) {\n    let canCancelMoveBasedOnQuantum;\n    const axis = optionsHelper.puzzleSpecificSimplifyOptions()?.axis;\n    if (axis) {\n      canCancelMoveBasedOnQuantum = (move) => axis.areQuantumMovesSameAxis(addedMove.quantum, move.quantum);\n    } else {\n      const newMoveQuantumString = addedMove.quantum.toString();\n      canCancelMoveBasedOnQuantum = (move) => move.quantum.toString() === newMoveQuantumString;\n    }\n    const sameDirectionOnly = optionsHelper.cancelQuantum() === \"same-direction\";\n    const quantumDirections = /* @__PURE__ */ new Map();\n    quantumDirections.set(\n      addedMove.quantum.toString(),\n      Math.sign(addedMove.amount)\n    );\n    let i;\n    for (i = outputPrefix.length - 1; i >= 0; i--) {\n      const move = outputPrefix[i].as(Move);\n      if (!move) {\n        break;\n      }\n      if (!canCancelMoveBasedOnQuantum(move)) {\n        break;\n      }\n      const quantumKey = move.quantum.toString();\n      if (sameDirectionOnly) {\n        const existingQuantumDirectionOnAxis = quantumDirections.get(quantumKey);\n        if (existingQuantumDirectionOnAxis && // Short-circuits, but that's actually okay here.\n        !areSameDirection(existingQuantumDirectionOnAxis, move)) {\n          break;\n        }\n        quantumDirections.set(quantumKey, Math.sign(move.amount));\n      }\n    }\n    const suffix = [...outputPrefix.splice(i + 1), addedMove];\n    if (axis) {\n      outputSuffix = axis.simplifySameAxisMoves(\n        suffix,\n        optionsHelper.cancelPuzzleSpecificModWrap() !== \"none\"\n      );\n    } else {\n      const amount = suffix.reduce(\n        (sum, move) => sum + move.amount,\n        0\n      );\n      if (quantumDirections.size !== 1) {\n        throw new Error(\n          \"Internal error: multiple quantums when one was expected\"\n        );\n      }\n      outputSuffix = [new Move(addedMove.quantum, amount)];\n    }\n  }\n  outputSuffix = outputSuffix.map((m) => modMove(m)).filter((move) => move.amount !== 0);\n  return output();\n}\nfunction experimentalAppendNode(alg, leaf, options) {\n  const maybeMove = leaf.as(Move);\n  if (maybeMove) {\n    return experimentalAppendMove(alg, maybeMove, options);\n  } else {\n    return new Alg([...alg.childAlgNodes(), leaf]);\n  }\n}\nvar _newPlaceholderAssociationsMap, _newPlaceholderAssociations, newPlaceholderAssociations_fn, _descendOptions, descendOptions_fn, _doChildrenCommute, doChildrenCommute_fn, _a9;\nvar Simplify = (_a9 = class extends TraversalDownUp {\n  constructor() {\n    super(...arguments);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _newPlaceholderAssociations);\n    // TODO: avoid allocations?\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _descendOptions);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _doChildrenCommute);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _newPlaceholderAssociationsMap, void 0);\n  }\n  // TODO: Handle\n  *traverseAlg(alg, options) {\n    if (options.depth === 0) {\n      yield* alg.childAlgNodes();\n      return;\n    }\n    let output = [];\n    const newOptions = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _descendOptions, descendOptions_fn).call(this, options);\n    for (const algNode of alg.childAlgNodes()) {\n      for (const traversedNode of this.traverseAlgNode(algNode, newOptions)) {\n        output = Array.from(\n          experimentalAppendNode(\n            new Alg(output),\n            traversedNode,\n            newOptions\n          ).childAlgNodes()\n        );\n      }\n    }\n    for (const newAlgNode of output) {\n      yield newAlgNode;\n    }\n  }\n  *traverseGrouping(grouping, options) {\n    if (options.depth === 0) {\n      yield grouping;\n      return;\n    }\n    if (grouping.amount === 0) {\n      return;\n    }\n    const newGrouping = new Grouping(\n      this.traverseAlg(grouping.alg, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _descendOptions, descendOptions_fn).call(this, options)),\n      grouping.amount\n    );\n    if (newGrouping.alg.experimentalIsEmpty()) {\n      return;\n    }\n    const newPlaceholder = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _newPlaceholderAssociations, newPlaceholderAssociations_fn).call(this).get(grouping);\n    if (newPlaceholder) {\n      newGrouping.experimentalNISSPlaceholder = newPlaceholder;\n      newPlaceholder.experimentalNISSGrouping = newGrouping;\n    }\n    yield newGrouping;\n  }\n  *traverseMove(move, _options) {\n    yield move;\n  }\n  *traverseCommutator(commutator, options) {\n    if (options.depth === 0) {\n      yield commutator;\n      return;\n    }\n    const newOptions = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _descendOptions, descendOptions_fn).call(this, options);\n    const newCommutator = new Commutator(\n      this.traverseAlg(commutator.A, newOptions),\n      this.traverseAlg(commutator.B, newOptions)\n    );\n    if (newCommutator.A.experimentalIsEmpty() || newCommutator.B.experimentalIsEmpty() || newCommutator.A.isIdentical(newCommutator.B) || newCommutator.A.isIdentical(newCommutator.B.invert()) || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _doChildrenCommute, doChildrenCommute_fn).call(this, newCommutator.A, newCommutator.B, options)) {\n      return;\n    }\n    yield newCommutator;\n  }\n  *traverseConjugate(conjugate, options) {\n    if (options.depth === 0) {\n      yield conjugate;\n      return;\n    }\n    const newOptions = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _descendOptions, descendOptions_fn).call(this, options);\n    const newConjugate = new Conjugate(\n      this.traverseAlg(conjugate.A, newOptions),\n      this.traverseAlg(conjugate.B, newOptions)\n    );\n    if (newConjugate.B.experimentalIsEmpty()) {\n      return;\n    }\n    if (newConjugate.A.experimentalIsEmpty() || newConjugate.A.isIdentical(newConjugate.B) || newConjugate.A.isIdentical(newConjugate.B.invert()) || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _doChildrenCommute, doChildrenCommute_fn).call(this, newConjugate.A, newConjugate.B, options)) {\n      yield* conjugate.B.childAlgNodes();\n      return;\n    }\n    yield newConjugate;\n  }\n  *traversePause(pause, _options) {\n    if (pause.experimentalNISSGrouping) {\n      const newPause = new Pause();\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateMethod)(this, _newPlaceholderAssociations, newPlaceholderAssociations_fn).call(this).set(\n        pause.experimentalNISSGrouping,\n        newPause\n      );\n      yield newPause;\n    } else {\n      yield pause;\n    }\n  }\n  *traverseNewline(newline, _options) {\n    yield newline;\n  }\n  *traverseLineComment(comment, _options) {\n    yield comment;\n  }\n}, _newPlaceholderAssociationsMap = new WeakMap(), _newPlaceholderAssociations = new WeakSet(), newPlaceholderAssociations_fn = function() {\n  return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _newPlaceholderAssociationsMap) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _newPlaceholderAssociationsMap, /* @__PURE__ */ new Map());\n}, _descendOptions = new WeakSet(), descendOptions_fn = function(options) {\n  return {\n    ...options,\n    depth: options.depth ? options.depth - 1 : null\n  };\n}, _doChildrenCommute = new WeakSet(), doChildrenCommute_fn = function(A, B, options) {\n  if (A.experimentalNumChildAlgNodes() === 1 && B.experimentalNumChildAlgNodes() === 1) {\n    const aMove = Array.from(A.childAlgNodes())[0]?.as(Move);\n    const bMove = Array.from(B.childAlgNodes())[0]?.as(Move);\n    if (!(aMove && bMove)) {\n      return false;\n    }\n    if (bMove.quantum.isIdentical(aMove.quantum)) {\n      return true;\n    }\n    const appendOptionsHelper = new AppendOptionsHelper(options);\n    if (appendOptionsHelper.puzzleSpecificSimplifyOptions()?.axis?.areQuantumMovesSameAxis(aMove.quantum, bMove.quantum)) {\n      return true;\n    }\n  }\n  return false;\n}, _a9);\nvar simplify = functionFromTraversal(Simplify);\nfunction toIterable(input) {\n  if (!input) {\n    return [];\n  }\n  if (experimentalIs(input, Alg)) {\n    return input.childAlgNodes();\n  }\n  if (typeof input === \"string\") {\n    return parseAlg(input).childAlgNodes();\n  }\n  const iter = input;\n  if (typeof iter[Symbol.iterator] === \"function\") {\n    return iter;\n  }\n  throw new Error(\"Invalid AlgNode\");\n}\nfunction experimentalEnsureAlg(alg) {\n  if (experimentalIs(alg, Alg)) {\n    return alg;\n  }\n  return new Alg(alg);\n}\nvar _algNodes2, _a10;\nvar Alg = (_a10 = class extends AlgCommon {\n  // TODO: freeze?\n  constructor(alg) {\n    super();\n    // #debugString: string;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateAdd)(this, _algNodes2, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateSet)(this, _algNodes2, Array.from(toIterable(alg)));\n    for (const algNode of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)) {\n      if (!experimentalIsAlgNode(algNode)) {\n        throw new Error(\"An alg can only contain alg nodes.\");\n      }\n    }\n  }\n  /**\n   * Checks whether this Alg is structurally identical to another Alg. This\n   * essentially means that they are written identically apart from whitespace.\n   *\n   *     const alg1 = new Alg(\"R U L'\");\n   *     const alg2 = new Alg(\"L U' R'\").invert();\n   *     // true\n   *     alg1.isIdentical(alg2);\n   *\n   *     // false\n   *     new Alg(\"[R, U]\").isIdentical(new Alg(\"R U R' U'\"));\n   *     // true\n   *     new Alg(\"[R, U]\").expand().isIdentical(new Alg(\"R U R' U'\"));\n   *\n   * Note that .isIdentical() efficiently compares algorithms, but mainly exists\n   * to help optimize code when the structure of an algorithm hasn't changed.\n   * There are many ways to write the \"same\" alg on most puzzles, but is\n   * *highly* recommended to avoid expanding two Alg instances to compare them,\n   * since that can easily slow your program to a crawl if someone inputs an alg\n   * containing a large repetition. In general, you should use `cubing/kpuzzle`\n   * to compare if two algs have the same effect on a puzzle.\n   *\n   * Also note that parser annotations are not taken into account while comparing\n   * algs:\n   *\n   *     const alg = new Alg([new Move(\"R\"), new Move(\"U2\")]);\n   *     // true, even though one of the algs has parser annotations\n   *     alg.isIdentical(new Alg(\"R U2\"))\n   *\n   */\n  isIdentical(other) {\n    const otherAsAlg = other;\n    if (!other.is(_a10)) {\n      return false;\n    }\n    const l1 = Array.from((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2));\n    const l2 = Array.from((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(otherAsAlg, _algNodes2));\n    if (l1.length !== l2.length) {\n      return false;\n    }\n    for (let i = 0; i < l1.length; i++) {\n      if (!l1[i].isIdentical(l2[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  /**\n   * Returns the inverse of the given alg.\n   *\n   * Note that that this does not make any assumptions about what puzzle the alg\n   * is for. For example, U2 is its own inverse on a cube, but U2' has the same\n   * effect U3 (and not U2) on Megaminx:\n   *\n   *     // Outputs: R U2' L'\n   *     new Alg(\"L U2 R'\").invert().log();\n   */\n  invert() {\n    return new _a10(reverse(Array.from((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)).map((u) => u.invert())));\n  }\n  /** @deprecated Use {@link Alg.expand} instead. */\n  *experimentalExpand(iterDir = 1, depth) {\n    depth ?? (depth = Infinity);\n    for (const algNode of direct((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2), iterDir)) {\n      yield* algNode.experimentalExpand(iterDir, depth);\n    }\n  }\n  /**\n   * Expands all Grouping, Commutator, and Conjugate parts nested inside the\n   * alg.\n   *\n   *     // F R U R' U' F'\n   *     new Alg(\"[F: [R, U]]\").expand().log();\n   *\n   *     // F [R, U] F'\n   *     new Alg(\"[F: [R, U]]\").expand(({ depth: 1 }).log();\n   *\n   * Avoid calling this on a user-provided alg unless the user explicitly asks\n   * to see the expanded alg. Otherwise, it's easy to make your program freeze\n   * when someone passes in an alg like: (R U)10000000\n   *\n   * Generally, if you want to perform an operation on an entire alg, you'll\n   * want to use something based on the `Traversal` mechanism, like countMoves()\n   * from `cubing/notation`.\n   */\n  expand(options) {\n    return new _a10(\n      this.experimentalExpand(\n        1,\n        options?.depth ?? Infinity\n      )\n    );\n  }\n  /** @deprecated */\n  *experimentalLeafMoves() {\n    for (const leaf of this.experimentalExpand()) {\n      if (leaf.is(Move)) {\n        yield leaf;\n      }\n    }\n  }\n  concat(input) {\n    return new _a10(\n      Array.from((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)).concat(Array.from(toIterable(input)))\n    );\n  }\n  /** @deprecated */\n  experimentalIsEmpty() {\n    for (const _ of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)) {\n      return false;\n    }\n    return true;\n  }\n  static fromString(s) {\n    return parseAlg(s);\n  }\n  /** @deprecated */\n  units() {\n    return this.childAlgNodes();\n  }\n  *childAlgNodes() {\n    for (const algNode of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)) {\n      yield algNode;\n    }\n  }\n  /** @deprecated */\n  experimentalNumUnits() {\n    return this.experimentalNumChildAlgNodes();\n  }\n  experimentalNumChildAlgNodes() {\n    return Array.from((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)).length;\n  }\n  /** @deprecated */\n  get type() {\n    warnOnce(\"deprecated: type\");\n    return \"sequence\";\n  }\n  /**\n   * Converts the Alg to a string:\n   *\n   *     const alg = new Alg([new Move(\"R\"), new Move(\"U2\"), new Move(\"L\")])\n   *     // R U2 L\n   *     console.log(alg.toString())\n   */\n  toString() {\n    let output = \"\";\n    let previousVisibleAlgNode = null;\n    for (const algNode of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_0__.__privateGet)(this, _algNodes2)) {\n      if (previousVisibleAlgNode) {\n        output += spaceBetween(previousVisibleAlgNode, algNode);\n      }\n      const nissGrouping = algNode.as(Pause)?.experimentalNISSGrouping;\n      if (nissGrouping) {\n        if (nissGrouping.amount !== -1) {\n          throw new Error(\"Invalid NISS Grouping amount!\");\n        }\n        output += `^(${nissGrouping.alg.toString()})`;\n      } else if (algNode.as(Grouping)?.experimentalNISSPlaceholder) {\n      } else {\n        output += algNode.toString();\n      }\n      previousVisibleAlgNode = algNode;\n    }\n    return output;\n  }\n  /**\n   * `experimentalSimplify` can perform several mostly-syntactic simplifications on an alg:\n   *\n   *     // Logs: R' U3\n   *     import { Alg } from \"cubing/alg\";\n   *     new Alg(\"R R2' U U2\").experimentalSimplify({ cancel: true }).log()\n   *\n   * You can pass in a `PuzzleLoader` (currently only for 3x3x3) for puzzle-specific simplifications:\n   *\n   *     // Logs: R' U'\n   *     import { Alg } from \"cubing/alg\";\n   *     import { cube3x3x3 } from \"cubing/puzzles\";\n   *     new Alg(\"R R2' U U2\").experimentalSimplify({ cancel: true, puzzleLoader: cube3x3x3 }).log()\n   *\n   * You can also cancel only moves that are in the same direction:\n   *\n   *     // Logs: R R2' U'\n   *     import { Alg } from \"cubing/alg\";\n   *     import { cube3x3x3 } from \"cubing/puzzles\";\n   *     new Alg(\"R R2' U U2\").experimentalSimplify({\n   *       cancel: { directional: \"same-direction\" },\n   *       puzzleLoader: cube3x3x3\n   *     }).log()\n   *\n   * Additionally, you can specify how moves are \"wrapped\":\n   *\n   *     import { Alg } from \"cubing/alg\";\n   *     import { cube3x3x3 } from \"cubing/puzzles\";\n   *\n   *     function example(puzzleSpecificModWrap) {\n   *       alg.experimentalSimplify({\n   *         cancel: { puzzleSpecificModWrap },\n   *         puzzleLoader: cube3x3x3\n   *       }).log()\n   *     }\n   *\n   *     const alg = new Alg(\"R7' . R6' . R5' . R6\")\n   *     example(\"none\")               // R7' . R6' . R5' . R6\n   *     example(\"gravity\")            // R . R2' . R' . R2\n   *     example(\"canonical-centered\") // R . R2 . R' . R2\n   *     example(\"canonical-positive\") // R . R2 . R3 . R2\n   *     example(\"preserve-sign\")      // R3' . R2' . R' . R2\n   *\n   * Same-axis and simultaneous move canonicalization is not implemented yet:\n   *\n   *     // Logs: R L R\n   *     import { Alg } from \"cubing/alg\";\n   *     import { cube3x3x3 } from \"cubing/puzzles\";\n   *     new Alg(\"R L R\").experimentalSimplify({ cancel: true, puzzleLoader: cube3x3x3 }).log()\n   */\n  experimentalSimplify(options) {\n    return new _a10(simplify(this, options ?? {}));\n  }\n  /** @deprecated See {@link experimentalSimplify} */\n  simplify(options) {\n    return this.experimentalSimplify(options);\n  }\n}, _algNodes2 = new WeakMap(), _a10);\nfunction spaceBetween(u1, u2) {\n  if (u1.is(Newline) || u2.is(Newline)) {\n    return \"\";\n  }\n  if (u2.as(Grouping)?.experimentalNISSPlaceholder) {\n    return \"\";\n  }\n  if (u1.is(LineComment) && !u2.is(Newline)) {\n    return \"\\n\";\n  }\n  return \" \";\n}\nvar Example = {\n  Sune: new Alg([\n    new Move(\"R\", 1),\n    new Move(\"U\", 1),\n    new Move(\"R\", -1),\n    new Move(\"U\", 1),\n    new Move(\"R\", 1),\n    new Move(\"U\", -2),\n    new Move(\"R\", -1)\n  ]),\n  AntiSune: new Alg([\n    new Move(\"R\", 1),\n    new Move(\"U\", 2),\n    new Move(\"R\", -1),\n    new Move(\"U\", -1),\n    new Move(\"R\", 1),\n    new Move(\"U\", -1),\n    new Move(\"R\", -1)\n  ]),\n  SuneCommutator: new Alg([\n    new Commutator(\n      new Alg([new Move(\"R\", 1), new Move(\"U\", 1), new Move(\"R\", -2)]),\n      new Alg([\n        new Conjugate(new Alg([new Move(\"R\", 1)]), new Alg([new Move(\"U\", 1)]))\n      ])\n    )\n  ]),\n  Niklas: new Alg([\n    new Move(\"R\", 1),\n    new Move(\"U\", -1),\n    new Move(\"L\", -1),\n    new Move(\"U\", 1),\n    new Move(\"R\", -1),\n    new Move(\"U\", -1),\n    new Move(\"L\", 1),\n    new Move(\"U\", 1)\n  ]),\n  EPerm: new Alg([\n    new Move(\"x\", -1),\n    new Commutator(\n      new Alg([\n        new Conjugate(\n          new Alg([new Move(\"R\", 1)]),\n          new Alg([new Move(\"U\", -1)])\n        )\n      ]),\n      new Alg([new Move(\"D\", 1)])\n    ),\n    new Commutator(\n      new Alg([\n        new Conjugate(new Alg([new Move(\"R\", 1)]), new Alg([new Move(\"U\", 1)]))\n      ]),\n      new Alg([new Move(\"D\", 1)])\n    ),\n    new Move(\"x\", 1)\n  ]),\n  FURURFCompact: new Alg([\n    new Conjugate(\n      new Alg([new Move(\"F\", 1)]),\n      new Alg([\n        new Commutator(\n          new Alg([new Move(\"U\", 1)]),\n          new Alg([new Move(\"R\", 1)])\n        )\n      ])\n    )\n  ]),\n  APermCompact: new Alg([\n    new Conjugate(\n      new Alg([new Move(\"R\", 2)]),\n      new Alg([\n        new Commutator(\n          new Alg([new Move(\"F\", 2)]),\n          new Alg([new Move(\"R\", -1), new Move(\"B\", -1), new Move(\"R\", 1)])\n        )\n      ])\n    )\n  ]),\n  FURURFMoves: new Alg([\n    new Move(\"F\", 1),\n    new Move(\"U\", 1),\n    new Move(\"R\", 1),\n    new Move(\"U\", -1),\n    new Move(\"R\", -1),\n    new Move(\"F\", -1)\n  ]),\n  TPerm: new Alg([\n    new Move(\"R\", 1),\n    new Move(\"U\", 1),\n    new Move(\"R\", -1),\n    new Move(\"U\", -1),\n    new Move(\"R\", -1),\n    new Move(\"F\", 1),\n    new Move(\"R\", 2),\n    new Move(\"U\", -1),\n    new Move(\"R\", -1),\n    new Move(\"U\", -1),\n    new Move(\"R\", 1),\n    new Move(\"U\", 1),\n    new Move(\"R\", -1),\n    new Move(\"F\", -1)\n  ]),\n  HeadlightSwaps: new Alg([\n    new Conjugate(\n      new Alg([new Move(\"F\", 1)]),\n      new Alg([\n        new Grouping(\n          new Alg([\n            new Commutator(\n              new Alg([new Move(\"R\", 1)]),\n              new Alg([new Move(\"U\", 1)])\n            )\n          ]),\n          3\n        )\n      ])\n    )\n  ]),\n  TriplePause: new Alg([new Pause(), new Pause(), new Pause()])\n  // AllAlgParts: [\n  //   new Alg([new Move(\"R\", 1), new Move(\"U\", -1)]),\n  //   new Grouping(new Alg([new Move(\"F\", 1)]), 2),\n  //   // new Rotation(\"y\", -1),\n  //   new Move(\"R\", 2),\n  //   new Commutator(new Alg([new Move(\"R\", 2)]), new Alg([new Move(\"U\", 2)]), 2),\n  //   new Conjugate(new Alg([new Move(\"L\", 2)]), new Alg([new Move(\"D\", -1)]), 2),\n  //   new Pause(),\n  //   new Newline(),\n  //   new LineComment(\"line comment\"),\n  // ],\n};\nvar cubeKeyMapping = {\n  73: new Move(\"R\"),\n  75: new Move(\"R'\"),\n  87: new Move(\"B\"),\n  79: new Move(\"B'\"),\n  83: new Move(\"D\"),\n  76: new Move(\"D'\"),\n  68: new Move(\"L\"),\n  69: new Move(\"L'\"),\n  74: new Move(\"U\"),\n  70: new Move(\"U'\"),\n  72: new Move(\"F\"),\n  71: new Move(\"F'\"),\n  78: new Move(\"x'\"),\n  67: new Move(\"l\"),\n  82: new Move(\"l'\"),\n  85: new Move(\"r\"),\n  77: new Move(\"r'\"),\n  88: new Move(\"d\"),\n  188: new Move(\"d'\"),\n  84: new Move(\"x\"),\n  89: new Move(\"x\"),\n  66: new Move(\"x'\"),\n  186: new Move(\"y\"),\n  59: new Move(\"y\"),\n  65: new Move(\"y'\"),\n  // 186 is WebKit, 59 is Mozilla; see http://unixpapa.com/js/key.html\n  80: new Move(\"z\"),\n  81: new Move(\"z'\"),\n  90: new Move(\"M'\"),\n  190: new Move(\"M'\"),\n  192: new Pause()\n};\n\n\n\n\n//# sourceURL=webpack://cubetimer/./node_modules/scramble-display/dist/esm/chunk-KTP5YOXP.js?");

/***/ }),

/***/ "./node_modules/scramble-display/dist/esm/chunk-VVT7CIBF.js":
/*!******************************************************************!*\
  !*** ./node_modules/scramble-display/dist/esm/chunk-VVT7CIBF.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __export: () => (/* binding */ __export),\n/* harmony export */   __privateAdd: () => (/* binding */ __privateAdd),\n/* harmony export */   __privateGet: () => (/* binding */ __privateGet),\n/* harmony export */   __privateMethod: () => (/* binding */ __privateMethod),\n/* harmony export */   __privateSet: () => (/* binding */ __privateSet),\n/* harmony export */   __privateWrapper: () => (/* binding */ __privateWrapper)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\n\n\n\n\n//# sourceURL=webpack://cubetimer/./node_modules/scramble-display/dist/esm/chunk-VVT7CIBF.js?");

/***/ }),

/***/ "./node_modules/scramble-display/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/scramble-display/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrambleDisplay: () => (/* binding */ ScrambleDisplay)\n/* harmony export */ });\n/* harmony import */ var _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-EYSO3CHT.js */ \"./node_modules/scramble-display/dist/esm/chunk-EYSO3CHT.js\");\n/* harmony import */ var _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-KTP5YOXP.js */ \"./node_modules/scramble-display/dist/esm/chunk-KTP5YOXP.js\");\n/* harmony import */ var _chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-VVT7CIBF.js */ \"./node_modules/scramble-display/dist/esm/chunk-VVT7CIBF.js\");\n\n\n\n\n// node_modules/cubing/dist/cubing/chunk-6FC7BO5U.js\nfunction uncachedMoveCount(moveQuantumString) {\n  if (moveQuantumString.endsWith(\"v\") || [\"x\", \"y\", \"z\"].includes(moveQuantumString)) {\n    return \"Rotation\";\n  }\n  if (moveQuantumString.startsWith(\"2\") || [\"M\", \"E\", \"S\"].includes(moveQuantumString)) {\n    return \"Inner\";\n  }\n  return \"Outer\";\n}\nvar cache;\nfunction getCache() {\n  if (cache) {\n    return cache;\n  }\n  cache = {};\n  const moveQuantumStrings = [\n    ...Object.keys(_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.cube3x3x3KPuzzleDefinition.moves),\n    ...Object.keys(_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.cube3x3x3KPuzzleDefinition.derivedMoves)\n  ];\n  for (const moveQuantumString of moveQuantumStrings) {\n    cache[moveQuantumString] = uncachedMoveCount(moveQuantumString);\n  }\n  return cache;\n}\nvar costFactorsByMetric = {\n  // Note: these are hardcoded for 3x3x3. They will not automatically generalize to any other puzzles.\n  [\n    \"OBTM\"\n    /* OuterBlockTurnMetric */\n  ]: {\n    [\n      \"Rotation\"\n      /* Rotation */\n    ]: { constantFactor: 0, amountFactor: 0 },\n    [\n      \"Outer\"\n      /* Outer */\n    ]: { constantFactor: 1, amountFactor: 0 },\n    [\n      \"Inner\"\n      /* Inner */\n    ]: { constantFactor: 2, amountFactor: 0 }\n  },\n  [\n    \"RBTM\"\n    /* RangeBlockTurnMetric */\n  ]: {\n    [\n      \"Rotation\"\n      /* Rotation */\n    ]: { constantFactor: 0, amountFactor: 0 },\n    [\n      \"Outer\"\n      /* Outer */\n    ]: { constantFactor: 1, amountFactor: 0 },\n    [\n      \"Inner\"\n      /* Inner */\n    ]: { constantFactor: 1, amountFactor: 0 }\n  },\n  [\n    \"OBQTM\"\n    /* OuterBlockQuantumTurnMetric */\n  ]: {\n    [\n      \"Rotation\"\n      /* Rotation */\n    ]: { constantFactor: 0, amountFactor: 0 },\n    [\n      \"Outer\"\n      /* Outer */\n    ]: { constantFactor: 0, amountFactor: 1 },\n    [\n      \"Inner\"\n      /* Inner */\n    ]: { constantFactor: 0, amountFactor: 2 }\n  },\n  [\n    \"RBQTM\"\n    /* RangeBlockQuantumTurnMetric */\n  ]: {\n    [\n      \"Rotation\"\n      /* Rotation */\n    ]: { constantFactor: 0, amountFactor: 0 },\n    [\n      \"Outer\"\n      /* Outer */\n    ]: { constantFactor: 0, amountFactor: 1 },\n    [\n      \"Inner\"\n      /* Inner */\n    ]: { constantFactor: 0, amountFactor: 1 }\n  },\n  [\n    \"ETM\"\n    /* ExecutionTurnMetric */\n  ]: {\n    [\n      \"Rotation\"\n      /* Rotation */\n    ]: { constantFactor: 1, amountFactor: 0 },\n    [\n      \"Outer\"\n      /* Outer */\n    ]: { constantFactor: 1, amountFactor: 0 },\n    [\n      \"Inner\"\n      /* Inner */\n    ]: { constantFactor: 1, amountFactor: 0 }\n  }\n};\nfunction countMove3x3x3(metric, move) {\n  const costFactors = costFactorsByMetric[metric];\n  if (!costFactors) {\n    throw new Error(`Invalid metric for 3x3x3: ${metric}`);\n  }\n  const cache2 = getCache();\n  const moveQuantumString = move.quantum.toString();\n  if (!(moveQuantumString in cache2)) {\n    throw new Error(`Invalid move for 3x3x3 ${metric}: ${moveQuantumString}`);\n  }\n  const costType = cache2[moveQuantumString];\n  const { constantFactor, amountFactor } = costFactors[costType];\n  return constantFactor + amountFactor * Math.abs(move.amount);\n}\nvar CountMoves = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalUp {\n  constructor(metric) {\n    super();\n    this.metric = metric;\n  }\n  traverseAlg(alg) {\n    let r2 = 0;\n    for (const algNode of alg.childAlgNodes()) {\n      r2 += this.traverseAlgNode(algNode);\n    }\n    return r2;\n  }\n  traverseGrouping(grouping) {\n    const alg = grouping.alg;\n    return this.traverseAlg(alg) * Math.abs(grouping.amount);\n  }\n  traverseMove(move) {\n    return this.metric(move);\n  }\n  traverseCommutator(commutator) {\n    return 2 * (this.traverseAlg(commutator.A) + this.traverseAlg(commutator.B));\n  }\n  traverseConjugate(conjugate) {\n    return 2 * this.traverseAlg(conjugate.A) + this.traverseAlg(conjugate.B);\n  }\n  // TODO: Remove spaces between repeated pauses (in traverseSequence)\n  traversePause(_pause) {\n    return 0;\n  }\n  traverseNewline(_newLine) {\n    return 0;\n  }\n  // TODO: Enforce being followed by a newline (or the end of the alg)?\n  traverseLineComment(_comment) {\n    return 0;\n  }\n};\nfunction isCharUppercase(c) {\n  return \"A\" <= c && c <= \"Z\";\n}\nfunction baseMetric(move) {\n  const fam = move.family;\n  if (isCharUppercase(fam[0]) && fam[fam.length - 1] === \"v\" || fam === \"x\" || fam === \"y\" || fam === \"z\" || fam === \"T\") {\n    return 0;\n  } else {\n    return 1;\n  }\n}\nfunction etmMetric(_move) {\n  return 1;\n}\nfunction rangeBlockTurnMetric(move) {\n  const fam = move.family;\n  if (isCharUppercase(fam[0]) && fam[fam.length - 1] === \"v\" || fam === \"x\" || fam === \"y\" || fam === \"z\" || fam === \"T\") {\n    return 0;\n  } else {\n    return 1;\n  }\n}\nfunction quantumMetric(move) {\n  return Math.abs(move.amount) * rangeBlockTurnMetric(move);\n}\nvar countMoves = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(CountMoves, [baseMetric]);\nvar countMovesETM = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(CountMoves, [etmMetric]);\nvar countRangeBlockQuantumMovesPG = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(CountMoves, [\n  quantumMetric\n]);\nvar countRangeBlockMovesPG = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(CountMoves, [\n  rangeBlockTurnMetric\n]);\nfunction countMetricMoves(puzzleLoader, metric, alg) {\n  if (puzzleLoader.id === \"3x3x3\") {\n    if (metric in costFactorsByMetric) {\n      return (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(CountMoves, [\n        (move) => countMove3x3x3(metric, move)\n      ])(alg);\n    }\n  } else {\n    switch (metric) {\n      case \"ETM\":\n        return countMovesETM(alg);\n      case \"RBTM\":\n        if (puzzleLoader.pg) {\n          return countRangeBlockMovesPG(alg);\n        }\n      case \"RBQTM\":\n        if (puzzleLoader.pg) {\n          return countRangeBlockQuantumMovesPG(alg);\n        }\n    }\n  }\n  throw new Error(\"Unsupported puzzle or metric.\");\n}\nvar CountAnimatedLeaves = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalUp {\n  traverseAlg(alg) {\n    let total = 0;\n    for (const part of alg.childAlgNodes()) {\n      total += this.traverseAlgNode(part);\n    }\n    return total;\n  }\n  traverseGrouping(grouping) {\n    return this.traverseAlg(grouping.alg) * Math.abs(grouping.amount);\n  }\n  traverseMove(_move) {\n    return 1;\n  }\n  traverseCommutator(commutator) {\n    return 2 * (this.traverseAlg(commutator.A) + this.traverseAlg(commutator.B));\n  }\n  traverseConjugate(conjugate) {\n    return 2 * this.traverseAlg(conjugate.A) + this.traverseAlg(conjugate.B);\n  }\n  traversePause(_pause) {\n    return 1;\n  }\n  traverseNewline(_newline) {\n    return 0;\n  }\n  traverseLineComment(_comment) {\n    return 0;\n  }\n};\nvar countAnimatedLeaves = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(CountAnimatedLeaves);\n\n// node_modules/cubing/dist/cubing/twisty/index.js\nfunction directionScalar(direction) {\n  return direction;\n}\nfunction arrayEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction arrayEqualsCompare(a, b, compare) {\n  if (a === b) {\n    return true;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (!compare(a[i], b[i])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction modIntoRange(v, rangeMin, rangeMax) {\n  return (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.offsetMod)(v, rangeMax - rangeMin, rangeMin);\n}\nvar CatchUpHelper = class {\n  constructor(model) {\n    this.model = model;\n    this.catchingUp = false;\n    this.pendingFrame = false;\n    this.scheduler = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.RenderScheduler(\n      this.animFrame.bind(this)\n    );\n    this.catchUpMs = 500;\n    this.lastTimestamp = 0;\n    model.tempoScale.addFreshListener((tempoScale) => {\n      this.tempoScale = tempoScale;\n    });\n  }\n  start() {\n    if (!this.catchingUp) {\n      this.lastTimestamp = performance.now();\n    }\n    this.catchingUp = true;\n    this.pendingFrame = true;\n    this.scheduler.requestAnimFrame();\n  }\n  stop() {\n    this.catchingUp = false;\n    this.scheduler.cancelAnimFrame();\n  }\n  animFrame(timestamp) {\n    this.scheduler.requestAnimFrame();\n    const delta = this.tempoScale * (timestamp - this.lastTimestamp) / this.catchUpMs;\n    this.lastTimestamp = timestamp;\n    this.model.catchUpMove.set(\n      (async () => {\n        const previousCatchUpMove = await this.model.catchUpMove.get();\n        if (previousCatchUpMove.move === null) {\n          return previousCatchUpMove;\n        }\n        const amount = previousCatchUpMove.amount + delta;\n        if (amount >= 1) {\n          this.pendingFrame = true;\n          this.stop();\n          this.model.timestampRequest.set(\"end\");\n          return {\n            move: null,\n            amount: 0\n          };\n        }\n        this.pendingFrame = false;\n        return {\n          move: previousCatchUpMove.move,\n          amount\n        };\n      })()\n    );\n  }\n};\nvar _effectiveTimestampMilliseconds, effectiveTimestampMilliseconds_fn, _animFrameEffectiveTimestampStaleDropper, _a;\nvar TwistyAnimationController = (_a = class {\n  constructor(model, delegate) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _effectiveTimestampMilliseconds);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _animFrameEffectiveTimestampStaleDropper, void 0);\n    this.delegate = delegate;\n    this.playing = false;\n    this.direction = 1;\n    this.lastDatestamp = 0;\n    this.scheduler = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.RenderScheduler(\n      this.animFrame.bind(this)\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _animFrameEffectiveTimestampStaleDropper, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.StaleDropper());\n    this.model = model;\n    this.lastTimestampPromise = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _effectiveTimestampMilliseconds, effectiveTimestampMilliseconds_fn).call(this);\n    this.model.playingInfo.addFreshListener(this.onPlayingProp.bind(this));\n    this.catchUpHelper = new CatchUpHelper(this.model);\n    this.model.catchUpMove.addFreshListener(this.onCatchUpMoveProp.bind(this));\n  }\n  // TODO: Do we need this?\n  async onPlayingProp(playingInfo) {\n    if (playingInfo.playing !== this.playing) {\n      playingInfo.playing ? this.play(playingInfo) : this.pause();\n    }\n  }\n  // TODO: Do we need this?\n  async onCatchUpMoveProp(catchUpMove) {\n    const catchingUp = catchUpMove.move !== null;\n    if (catchingUp !== this.catchUpHelper.catchingUp) {\n      catchingUp ? this.catchUpHelper.start() : this.catchUpHelper.stop();\n    }\n    this.scheduler.requestAnimFrame();\n  }\n  // TODO: Return the animation we've switched to.\n  jumpToStart(options) {\n    this.model.timestampRequest.set(\"start\");\n    this.pause();\n    if (options?.flash) {\n      this.delegate.flash();\n    }\n  }\n  // TODO: Return the animation we've switched to.\n  jumpToEnd(options) {\n    this.model.timestampRequest.set(\"end\");\n    this.pause();\n    if (options?.flash) {\n      this.delegate.flash();\n    }\n  }\n  // TODO: Return the playing info we've switched to.\n  playPause() {\n    if (this.playing) {\n      this.pause();\n    } else {\n      this.play();\n    }\n  }\n  // TODO: bundle playing direction, and boundary into `toggle`.\n  async play(options) {\n    const direction = options?.direction ?? 1;\n    const coarseTimelineInfo = await this.model.coarseTimelineInfo.get();\n    if (options?.autoSkipToOtherEndIfStartingAtBoundary ?? true) {\n      if (direction === 1 && coarseTimelineInfo.atEnd) {\n        this.model.timestampRequest.set(\"start\");\n        this.delegate.flash();\n      }\n      if (direction === -1 && coarseTimelineInfo.atStart) {\n        this.model.timestampRequest.set(\"end\");\n        this.delegate.flash();\n      }\n    }\n    this.model.playingInfo.set({\n      playing: true,\n      direction,\n      untilBoundary: options?.untilBoundary ?? \"entire-timeline\",\n      loop: options?.loop ?? false\n    });\n    this.playing = true;\n    this.lastDatestamp = performance.now();\n    this.lastTimestampPromise = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _effectiveTimestampMilliseconds, effectiveTimestampMilliseconds_fn).call(this);\n    this.scheduler.requestAnimFrame();\n  }\n  pause() {\n    this.playing = false;\n    this.scheduler.cancelAnimFrame();\n    this.model.playingInfo.set({\n      playing: false,\n      untilBoundary: \"entire-timeline\"\n      /* EntireTimeline */\n    });\n  }\n  async animFrame(frameDatestamp) {\n    if (this.playing) {\n      this.scheduler.requestAnimFrame();\n    }\n    const lastDatestamp = this.lastDatestamp;\n    const freshenerResult = await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _animFrameEffectiveTimestampStaleDropper).queue(\n      Promise.all([\n        this.model.playingInfo.get(),\n        this.lastTimestampPromise,\n        this.model.timeRange.get(),\n        this.model.tempoScale.get(),\n        this.model.currentMoveInfo.get()\n      ])\n    );\n    const [playingInfo, lastTimestamp, timeRange, tempoScale, currentMoveInfo] = freshenerResult;\n    if (!playingInfo.playing) {\n      this.playing = false;\n      return;\n    }\n    let end = currentMoveInfo.earliestEnd;\n    if (currentMoveInfo.currentMoves.length === 0 || playingInfo.untilBoundary === \"entire-timeline\") {\n      end = timeRange.end;\n    }\n    let start = currentMoveInfo.latestStart;\n    if (currentMoveInfo.currentMoves.length === 0 || playingInfo.untilBoundary === \"entire-timeline\") {\n      start = timeRange.start;\n    }\n    let delta = (frameDatestamp - lastDatestamp) * directionScalar(this.direction) * tempoScale;\n    delta = Math.max(delta, 1);\n    delta *= playingInfo.direction;\n    let newTimestamp = lastTimestamp + delta;\n    let newSmartTimestampRequest = null;\n    if (newTimestamp >= end) {\n      if (playingInfo.loop) {\n        newTimestamp = modIntoRange(\n          newTimestamp,\n          timeRange.start,\n          timeRange.end\n        );\n      } else {\n        if (newTimestamp === timeRange.end) {\n          newSmartTimestampRequest = \"end\";\n        } else {\n          newTimestamp = end;\n        }\n        this.playing = false;\n        this.model.playingInfo.set({\n          playing: false\n        });\n      }\n    } else if (newTimestamp <= start) {\n      if (playingInfo.loop) {\n        newTimestamp = modIntoRange(\n          newTimestamp,\n          timeRange.start,\n          timeRange.end\n        );\n      } else {\n        if (newTimestamp === timeRange.start) {\n          newSmartTimestampRequest = \"start\";\n        } else {\n          newTimestamp = start;\n        }\n        this.playing = false;\n        this.model.playingInfo.set({\n          playing: false\n        });\n      }\n    }\n    this.lastDatestamp = frameDatestamp;\n    this.lastTimestampPromise = Promise.resolve(newTimestamp);\n    this.model.timestampRequest.set(newSmartTimestampRequest ?? newTimestamp);\n  }\n}, _effectiveTimestampMilliseconds = new WeakSet(), effectiveTimestampMilliseconds_fn = async function() {\n  return (await this.model.detailedTimelineInfo.get()).timestamp;\n}, _animFrameEffectiveTimestampStaleDropper = new WeakMap(), _a);\nvar TwistyPlayerController = class {\n  constructor(model, delegate) {\n    this.model = model;\n    this.animationController = new TwistyAnimationController(model, delegate);\n  }\n  jumpToStart(options) {\n    this.animationController.jumpToStart(options);\n  }\n  jumpToEnd(options) {\n    this.animationController.jumpToEnd(options);\n  }\n  togglePlay(play) {\n    if (typeof play === \"undefined\") {\n      this.animationController.playPause();\n    }\n    play ? this.animationController.play() : this.animationController.pause();\n  }\n  async visitTwizzleLink() {\n    const a = document.createElement(\"a\");\n    a.href = await this.model.twizzleLink();\n    a.target = \"_blank\";\n    a.click();\n  }\n};\nvar controlsLocations = {\n  \"bottom-row\": true,\n  // default\n  none: true\n};\nvar ControlPanelProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar twistyViewerWrapperCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n}\n\n.wrapper > * {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n.wrapper.back-view-side-by-side {\n  grid-template-columns: 1fr 1fr;\n}\n\n.wrapper.back-view-top-right {\n  grid-template-columns: 3fr 1fr;\n  grid-template-rows: 1fr 3fr;\n}\n\n.wrapper.back-view-top-right > :nth-child(1) {\n  grid-row: 1 / 3;\n  grid-column: 1 / 3;\n}\n\n.wrapper.back-view-top-right > :nth-child(2) {\n  grid-row: 1 / 2;\n  grid-column: 2 / 3;\n}\n`\n);\nvar xmlns = \"http://www.w3.org/2000/svg\";\nvar DATA_COPY_ID_ATTRIBUTE = \"data-copy-id\";\nvar svgCounter = 0;\nfunction nextSVGID() {\n  svgCounter += 1;\n  return `svg${svgCounter.toString()}`;\n}\nvar colorMaps = {\n  dim: {\n    white: \"#dddddd\",\n    orange: \"#884400\",\n    limegreen: \"#008800\",\n    red: \"#660000\",\n    \"rgb(34, 102, 255)\": \"#000088\",\n    // TODO\n    yellow: \"#888800\",\n    \"rgb(102, 0, 153)\": \"rgb(50, 0, 76)\",\n    purple: \"#3f003f\"\n  },\n  oriented: \"#44ddcc\",\n  ignored: \"#555555\",\n  invisible: \"#00000000\"\n};\nvar TwistyAnimatedSVG = class {\n  constructor(kpuzzle, svgSource, experimentalStickeringMask, showUnknownOrientations = false) {\n    this.kpuzzle = kpuzzle;\n    this.showUnknownOrientations = showUnknownOrientations;\n    this.originalColors = {};\n    this.gradients = {};\n    if (!svgSource) {\n      throw new Error(`No SVG definition for puzzle type: ${kpuzzle.name()}`);\n    }\n    this.svgID = nextSVGID();\n    this.wrapperElement = document.createElement(\"div\");\n    this.wrapperElement.classList.add(\"svg-wrapper\");\n    this.wrapperElement.innerHTML = svgSource;\n    const svgElem = this.wrapperElement.querySelector(\"svg\");\n    if (!svgElem) {\n      throw new Error(\"Could not get SVG element\");\n    }\n    this.svgElement = svgElem;\n    if (xmlns !== svgElem.namespaceURI) {\n      throw new Error(\"Unexpected XML namespace\");\n    }\n    svgElem.style.maxWidth = \"100%\";\n    svgElem.style.maxHeight = \"100%\";\n    this.gradientDefs = document.createElementNS(xmlns, \"defs\");\n    svgElem.insertBefore(this.gradientDefs, svgElem.firstChild);\n    for (const orbitDefinition of kpuzzle.definition.orbits) {\n      for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n        for (let orientation = 0; orientation < orbitDefinition.numOrientations; orientation++) {\n          const id = this.elementID(\n            orbitDefinition.orbitName,\n            idx,\n            orientation\n          );\n          const elem = this.elementByID(id);\n          let originalColor = elem?.style.fill;\n          if (experimentalStickeringMask) {\n            (() => {\n              const a = experimentalStickeringMask.orbits;\n              if (!a) {\n                return;\n              }\n              const orbitStickeringMask = a[orbitDefinition.orbitName];\n              if (!orbitStickeringMask) {\n                return;\n              }\n              const pieceStickeringMask = orbitStickeringMask.pieces[idx];\n              if (!pieceStickeringMask) {\n                return;\n              }\n              const faceletStickeringMasks = pieceStickeringMask.facelets[orientation];\n              if (!faceletStickeringMasks) {\n                return;\n              }\n              const stickeringMask = typeof faceletStickeringMasks === \"string\" ? faceletStickeringMasks : faceletStickeringMasks?.mask;\n              const colorMap = colorMaps[stickeringMask];\n              if (typeof colorMap === \"string\") {\n                originalColor = colorMap;\n              } else if (colorMap) {\n                originalColor = colorMap[originalColor];\n              }\n            })();\n          } else {\n            originalColor = elem?.style.fill;\n          }\n          this.originalColors[id] = originalColor;\n          this.gradients[id] = this.newGradient(id, originalColor);\n          this.gradientDefs.appendChild(this.gradients[id]);\n          elem?.setAttribute(\"style\", `fill: url(#grad-${this.svgID}-${id})`);\n        }\n      }\n    }\n    for (const hintElem of Array.from(\n      svgElem.querySelectorAll(`[${DATA_COPY_ID_ATTRIBUTE}]`)\n    )) {\n      const id = hintElem.getAttribute(DATA_COPY_ID_ATTRIBUTE);\n      hintElem.setAttribute(\"style\", `fill: url(#grad-${this.svgID}-${id})`);\n    }\n    if (this.showUnknownOrientations) {\n      this.drawPattern(this.kpuzzle.defaultPattern());\n    }\n  }\n  drawPattern(pattern, nextPattern, fraction) {\n    this.draw(pattern, nextPattern, fraction);\n  }\n  // TODO: save definition in the constructor?\n  draw(pattern, nextPattern, fraction) {\n    const nextTransformation = nextPattern?.experimentalToTransformation();\n    if (!pattern) {\n      throw new Error(\"Distinguishable pieces are not handled for SVG yet!\");\n    }\n    for (const orbitDefinition of pattern.kpuzzle.definition.orbits) {\n      const currentPatternOrbit = pattern.patternData[orbitDefinition.orbitName];\n      const nextTransformationOrbit = nextTransformation ? nextTransformation.transformationData[orbitDefinition.orbitName] : null;\n      for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n        for (let orientation = 0; orientation < orbitDefinition.numOrientations; orientation++) {\n          const id = this.elementID(\n            orbitDefinition.orbitName,\n            idx,\n            orientation\n          );\n          const fromCur = this.elementID(\n            orbitDefinition.orbitName,\n            currentPatternOrbit.pieces[idx],\n            (orbitDefinition.numOrientations - currentPatternOrbit.orientation[idx] + orientation) % orbitDefinition.numOrientations\n          );\n          let singleColor = false;\n          if (nextTransformationOrbit) {\n            const fromNext = this.elementID(\n              orbitDefinition.orbitName,\n              nextTransformationOrbit.permutation[idx],\n              (orbitDefinition.numOrientations - nextTransformationOrbit.orientationDelta[idx] + orientation) % orbitDefinition.numOrientations\n            );\n            if (fromCur === fromNext) {\n              singleColor = true;\n            }\n            fraction = fraction || 0;\n            const easedBackwardsPercent = 100 * (1 - fraction * fraction * (2 - fraction * fraction));\n            this.gradients[id].children[0].setAttribute(\n              \"stop-color\",\n              this.originalColors[fromCur]\n            );\n            this.gradients[id].children[0].setAttribute(\n              \"offset\",\n              `${Math.max(easedBackwardsPercent - 5, 0)}%`\n            );\n            this.gradients[id].children[1].setAttribute(\n              \"offset\",\n              `${Math.max(easedBackwardsPercent - 5, 0)}%`\n            );\n            this.gradients[id].children[2].setAttribute(\n              \"offset\",\n              `${easedBackwardsPercent}%`\n            );\n            this.gradients[id].children[3].setAttribute(\n              \"offset\",\n              `${easedBackwardsPercent}%`\n            );\n            this.gradients[id].children[3].setAttribute(\n              \"stop-color\",\n              this.originalColors[fromNext]\n            );\n          } else {\n            singleColor = true;\n          }\n          if (singleColor) {\n            if (this.showUnknownOrientations && currentPatternOrbit.orientationMod?.[idx] === 1) {\n              this.gradients[id].children[0].setAttribute(\"stop-color\", \"#000\");\n              this.gradients[id].children[0].setAttribute(\"offset\", \"5%\");\n              this.gradients[id].children[1].setAttribute(\"offset\", \"5%\");\n              this.gradients[id].children[2].setAttribute(\"offset\", \"20%\");\n              this.gradients[id].children[3].setAttribute(\"offset\", \"20%\");\n              this.gradients[id].children[3].setAttribute(\n                \"stop-color\",\n                this.originalColors[fromCur]\n              );\n            } else {\n              this.gradients[id].children[0].setAttribute(\n                \"stop-color\",\n                this.originalColors[fromCur]\n              );\n              this.gradients[id].children[0].setAttribute(\"offset\", \"100%\");\n              this.gradients[id].children[1].setAttribute(\"offset\", \"100%\");\n              this.gradients[id].children[2].setAttribute(\"offset\", \"100%\");\n              this.gradients[id].children[3].setAttribute(\"offset\", \"100%\");\n            }\n          }\n        }\n      }\n    }\n  }\n  newGradient(id, originalColor) {\n    const grad = document.createElementNS(\n      xmlns,\n      \"radialGradient\"\n    );\n    grad.setAttribute(\"id\", `grad-${this.svgID}-${id}`);\n    grad.setAttribute(\"r\", \"70.7107%\");\n    const stopDefs = [\n      { offset: 0, color: originalColor },\n      { offset: 0, color: \"black\" },\n      { offset: 0, color: \"black\" },\n      { offset: 0, color: originalColor }\n    ];\n    for (const stopDef of stopDefs) {\n      const stop = document.createElementNS(xmlns, \"stop\");\n      stop.setAttribute(\"offset\", `${stopDef.offset}%`);\n      stop.setAttribute(\"stop-color\", stopDef.color);\n      stop.setAttribute(\"stop-opacity\", \"1\");\n      grad.appendChild(stop);\n    }\n    return grad;\n  }\n  elementID(orbitName, idx, orientation) {\n    return `${orbitName}-l${idx}-o${orientation}`;\n  }\n  elementByID(id) {\n    return this.wrapperElement.querySelector(`#${id}`);\n  }\n};\nvar twisty2DSVGCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n}\n\n.svg-wrapper,\ntwisty-2d-svg,\nsvg {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  min-height: 0;\n}\n\nsvg {\n  animation: fade-in 0.25s ease-in;\n}\n\n@keyframes fade-in {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n`\n);\nvar _cachedPosition, _freshListenerManager, _a2;\nvar Twisty2DPuzzle = (_a2 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  // TODO: pull when needed.\n  constructor(model, kpuzzle, svgSource, options, puzzleLoader) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cachedPosition, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _freshListenerManager, void 0);\n    this.model = model;\n    this.kpuzzle = kpuzzle;\n    this.svgSource = svgSource;\n    this.options = options;\n    this.puzzleLoader = puzzleLoader;\n    this.scheduler = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.RenderScheduler(this.render.bind(this));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cachedPosition, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _freshListenerManager, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.FreshListenerManager());\n    this.addCSS(twisty2DSVGCSS);\n    this.resetSVG();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager).addListener(\n      this.model.puzzleID,\n      (puzzleID) => {\n        if (puzzleLoader?.id !== puzzleID) {\n          this.disconnect();\n        }\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager).addListener(\n      this.model.legacyPosition,\n      this.onPositionChange.bind(this)\n    );\n    if (this.options?.experimentalStickeringMask) {\n      this.experimentalSetStickeringMask(\n        this.options.experimentalStickeringMask\n      );\n    }\n  }\n  disconnect() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager).disconnect();\n  }\n  onPositionChange(position) {\n    try {\n      if (position.movesInProgress.length > 0) {\n        const move = position.movesInProgress[0].move;\n        let partialMove = move;\n        if (position.movesInProgress[0].direction === -1) {\n          partialMove = move.invert();\n        }\n        const newPattern = position.pattern.applyMove(partialMove);\n        this.svgWrapper.draw(\n          position.pattern,\n          newPattern,\n          position.movesInProgress[0].fraction\n        );\n      } else {\n        this.svgWrapper.draw(position.pattern);\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cachedPosition, position);\n      }\n    } catch (e) {\n      console.warn(\n        \"Bad position (this doesn't necessarily mean something is wrong). Pre-emptively disconnecting:\",\n        this.puzzleLoader?.id,\n        e\n      );\n      this.disconnect();\n    }\n  }\n  scheduleRender() {\n    this.scheduler.requestAnimFrame();\n  }\n  experimentalSetStickeringMask(stickeringMask) {\n    this.resetSVG(stickeringMask);\n  }\n  // TODO: do this without constructing a new SVG.\n  resetSVG(stickeringMask) {\n    if (this.svgWrapper) {\n      this.removeElement(this.svgWrapper.wrapperElement);\n    }\n    if (!this.kpuzzle) {\n      return;\n    }\n    this.svgWrapper = new TwistyAnimatedSVG(\n      this.kpuzzle,\n      this.svgSource,\n      stickeringMask\n    );\n    this.addElement(this.svgWrapper.wrapperElement);\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cachedPosition)) {\n      this.onPositionChange((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cachedPosition));\n    }\n  }\n  render() {\n  }\n}, _cachedPosition = new WeakMap(), _freshListenerManager = new WeakMap(), _a2);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-2d-puzzle\", Twisty2DPuzzle);\nvar _freshListenerManager2, _cachedTwisty2DPuzzle, _a3;\nvar Twisty2DPuzzleWrapper = (_a3 = class {\n  constructor(model, schedulable, puzzleLoader, effectiveVisualization) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _freshListenerManager2, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.FreshListenerManager());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cachedTwisty2DPuzzle, null);\n    this.model = model;\n    this.schedulable = schedulable;\n    this.puzzleLoader = puzzleLoader;\n    this.effectiveVisualization = effectiveVisualization;\n    this.twisty2DPuzzle();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager2).addListener(\n      this.model.twistySceneModel.stickeringMask,\n      async (stickeringMask) => {\n        (await this.twisty2DPuzzle()).experimentalSetStickeringMask(\n          stickeringMask\n        );\n      }\n    );\n  }\n  disconnect() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager2).disconnect();\n  }\n  // TODO: Hook this up nicely.\n  scheduleRender() {\n  }\n  // TODO: Stale dropper?\n  async twisty2DPuzzle() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cachedTwisty2DPuzzle) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cachedTwisty2DPuzzle, (async () => {\n      const svgPromise = this.effectiveVisualization === \"experimental-2D-LL\" ? this.puzzleLoader.llSVG() : this.puzzleLoader.svg();\n      return new Twisty2DPuzzle(\n        this.model,\n        await this.puzzleLoader.kpuzzle(),\n        await svgPromise,\n        {},\n        this.puzzleLoader\n      );\n    })());\n  }\n}, _freshListenerManager2 = new WeakMap(), _cachedTwisty2DPuzzle = new WeakMap(), _a3);\nvar _freshListenerManager3, _cachedScene, _currentTwisty2DPuzzleWrapper, _a4;\nvar Twisty2DSceneWrapper = (_a4 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor(model, effectiveVisualization) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _freshListenerManager3, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.FreshListenerManager());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cachedScene, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _currentTwisty2DPuzzleWrapper, null);\n    this.model = model;\n    this.effectiveVisualization = effectiveVisualization;\n  }\n  disconnect() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager3).disconnect();\n  }\n  async connectedCallback() {\n    this.addCSS(twistyViewerWrapperCSS);\n    if (this.model) {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager3).addListener(\n        this.model.twistyPlayerModel.puzzleLoader,\n        this.onPuzzleLoader.bind(this)\n      );\n    }\n  }\n  async scene() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cachedScene) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cachedScene, (async () => new (await _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.THREEJS).Scene())());\n  }\n  scheduleRender() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty2DPuzzleWrapper)?.scheduleRender();\n  }\n  currentTwisty2DPuzzleWrapper() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty2DPuzzleWrapper);\n  }\n  // #oldTwisty3DPuzzleWrappers: Twisty3DPuzzleWrapper[] = []; // TODO: Animate these out.\n  async setCurrentTwisty2DPuzzleWrapper(twisty2DPuzzleWrapper) {\n    const old = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty2DPuzzleWrapper);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _currentTwisty2DPuzzleWrapper, twisty2DPuzzleWrapper);\n    old?.disconnect();\n    const twisty2DPuzzlePromise = twisty2DPuzzleWrapper.twisty2DPuzzle();\n    this.contentWrapper.textContent = \"\";\n    this.addElement(await twisty2DPuzzlePromise);\n  }\n  async onPuzzleLoader(puzzleLoader) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty2DPuzzleWrapper)?.disconnect();\n    const twisty2DPuzzleWrapper = new Twisty2DPuzzleWrapper(\n      this.model.twistyPlayerModel,\n      this,\n      puzzleLoader,\n      this.effectiveVisualization\n    );\n    this.setCurrentTwisty2DPuzzleWrapper(twisty2DPuzzleWrapper);\n  }\n}, _freshListenerManager3 = new WeakMap(), _cachedScene = new WeakMap(), _currentTwisty2DPuzzleWrapper = new WeakMap(), _a4);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-2d-scene-wrapper\", Twisty2DSceneWrapper);\nvar _currentClassName, _a5;\nvar ClassListManager = (_a5 = class {\n  // The prefix should ideally end in a dash.\n  constructor(elem, prefix, validSuffixes) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _currentClassName, null);\n    this.elem = elem;\n    this.prefix = prefix;\n    this.validSuffixes = validSuffixes;\n  }\n  // Does nothing if there was no value.\n  clearValue() {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentClassName)) {\n      this.elem.contentWrapper.classList.remove((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentClassName));\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _currentClassName, null);\n  }\n  // Returns if the value changed\n  setValue(suffix) {\n    if (!this.validSuffixes.includes(suffix)) {\n      throw new Error(`Invalid suffix: ${suffix}`);\n    }\n    const newClassName = `${this.prefix}${suffix}`;\n    const changed = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentClassName) !== newClassName;\n    if (changed) {\n      this.clearValue();\n      this.elem.contentWrapper.classList.add(newClassName);\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _currentClassName, newClassName);\n    }\n    return changed;\n  }\n}, _currentClassName = new WeakMap(), _a5);\nvar _resolve, _a6;\nvar InitialValueTracker = (_a6 = class {\n  constructor() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _resolve, void 0);\n    this.promise = new Promise((resolve, reject) => {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _resolve, resolve);\n      this.reject = reject;\n    });\n  }\n  handleNewValue(t) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _resolve).call(this, t);\n  }\n}, _resolve = new WeakMap(), _a6);\nvar _freshListenerManager4, _cachedTwisty3DPuzzle, _a7;\nvar Twisty3DPuzzleWrapper = (_a7 = class extends EventTarget {\n  constructor(model, schedulable, puzzleLoader, visualizationStrategy) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _freshListenerManager4, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.FreshListenerManager());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cachedTwisty3DPuzzle, null);\n    this.model = model;\n    this.schedulable = schedulable;\n    this.puzzleLoader = puzzleLoader;\n    this.visualizationStrategy = visualizationStrategy;\n    this.twisty3DPuzzle();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addListener(\n      this.model.puzzleLoader,\n      (puzzleLoader2) => {\n        if (this.puzzleLoader.id !== puzzleLoader2.id) {\n          this.disconnect();\n        }\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addListener(\n      this.model.legacyPosition,\n      async (position) => {\n        try {\n          (await this.twisty3DPuzzle()).onPositionChange(position);\n          this.scheduleRender();\n        } catch (e) {\n          this.disconnect();\n        }\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addListener(\n      this.model.twistySceneModel.hintFacelet,\n      async (hintFaceletStyle) => {\n        (await this.twisty3DPuzzle()).experimentalUpdateOptions({\n          hintFacelets: hintFaceletStyle === \"auto\" ? \"floating\" : hintFaceletStyle\n        });\n        this.scheduleRender();\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addListener(\n      this.model.twistySceneModel.foundationDisplay,\n      async (foundationDisplay) => {\n        (await this.twisty3DPuzzle()).experimentalUpdateOptions({\n          showFoundation: foundationDisplay !== \"none\"\n        });\n        this.scheduleRender();\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addListener(\n      this.model.twistySceneModel.stickeringMask,\n      async (stickeringMask) => {\n        const twisty3D = await this.twisty3DPuzzle();\n        twisty3D.setStickeringMask(stickeringMask);\n        this.scheduleRender();\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addListener(\n      this.model.twistySceneModel.faceletScale,\n      async (faceletScale) => {\n        (await this.twisty3DPuzzle()).experimentalUpdateOptions({\n          faceletScale\n        });\n        this.scheduleRender();\n      }\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).addMultiListener3(\n      [\n        this.model.twistySceneModel.stickeringMask,\n        this.model.twistySceneModel.foundationStickerSprite,\n        this.model.twistySceneModel.hintStickerSprite\n      ],\n      async (inputs) => {\n        if (\"experimentalUpdateTexture\" in await this.twisty3DPuzzle()) {\n          (await this.twisty3DPuzzle()).experimentalUpdateTexture(\n            inputs[0].specialBehaviour === \"picture\",\n            inputs[1],\n            inputs[2]\n          );\n          this.scheduleRender();\n        }\n      }\n    );\n  }\n  disconnect() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager4).disconnect();\n  }\n  scheduleRender() {\n    this.schedulable.scheduleRender();\n    this.dispatchEvent(new CustomEvent(\"render-scheduled\"));\n  }\n  async twisty3DPuzzle() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cachedTwisty3DPuzzle) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cachedTwisty3DPuzzle, (async () => {\n      const proxyPromise = (0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.proxy3D)();\n      if (this.puzzleLoader.id === \"3x3x3\" && this.visualizationStrategy === \"Cube3D\") {\n        const [\n          foundationSprite,\n          hintSprite,\n          experimentalStickeringMask,\n          initialHintFaceletsAnimation\n        ] = await Promise.all([\n          this.model.twistySceneModel.foundationStickerSprite.get(),\n          this.model.twistySceneModel.hintStickerSprite.get(),\n          this.model.twistySceneModel.stickeringMask.get(),\n          this.model.twistySceneModel.initialHintFaceletsAnimation.get()\n        ]);\n        return (await proxyPromise).cube3DShim(\n          () => this.schedulable.scheduleRender(),\n          {\n            foundationSprite,\n            hintSprite,\n            experimentalStickeringMask,\n            initialHintFaceletsAnimation\n          }\n        );\n      } else {\n        const [hintFacelets, foundationSprite, hintSprite, faceletScale] = await Promise.all([\n          this.model.twistySceneModel.hintFacelet.get(),\n          this.model.twistySceneModel.foundationStickerSprite.get(),\n          this.model.twistySceneModel.hintStickerSprite.get(),\n          this.model.twistySceneModel.faceletScale.get()\n        ]);\n        const pg3d = (await proxyPromise).pg3dShim(\n          () => this.schedulable.scheduleRender(),\n          this.puzzleLoader,\n          hintFacelets === \"auto\" ? \"floating\" : hintFacelets,\n          faceletScale,\n          this.puzzleLoader.id === \"kilominx\"\n          // TODO: generalize to other puzzles\n        );\n        pg3d.then(\n          (p) => p.experimentalUpdateTexture(\n            true,\n            foundationSprite ?? void 0,\n            hintSprite ?? void 0\n          )\n        );\n        return pg3d;\n      }\n    })());\n  }\n  async raycastMove(raycasterPromise, transformations) {\n    const puzzle = await this.twisty3DPuzzle();\n    if (!(\"experimentalGetControlTargets\" in puzzle)) {\n      console.info(\"not PG3D! skipping raycast\");\n      return;\n    }\n    const targets = puzzle.experimentalGetControlTargets();\n    const [raycaster, movePressCancelOptions] = await Promise.all([\n      raycasterPromise,\n      this.model.twistySceneModel.movePressCancelOptions.get()\n    ]);\n    const intersects = raycaster.intersectObjects(targets);\n    if (intersects.length > 0) {\n      const closestMove = puzzle.getClosestMoveToAxis(\n        intersects[0].point,\n        transformations\n      );\n      if (closestMove) {\n        this.model.experimentalAddMove(closestMove.move, {\n          cancel: movePressCancelOptions\n        });\n      } else {\n        console.info(\"Skipping move!\");\n      }\n    }\n  }\n}, _freshListenerManager4 = new WeakMap(), _cachedTwisty3DPuzzle = new WeakMap(), _a7);\nvar _backViewClassListManager, _freshListenerManager5, _backViewVantage, _cachedScene2, _vantages, _currentTwisty3DPuzzleWrapper, _initialWrapperTracker, _twisty3DStaleDropper, _a8;\nvar Twisty3DSceneWrapper = (_a8 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor(model) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _backViewClassListManager, new ClassListManager(this, \"back-view-\", [\n      \"auto\",\n      \"none\",\n      \"side-by-side\",\n      \"top-right\"\n    ]));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _freshListenerManager5, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.FreshListenerManager());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _backViewVantage, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cachedScene2, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _vantages, /* @__PURE__ */ new Set());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _currentTwisty3DPuzzleWrapper, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _initialWrapperTracker, new InitialValueTracker());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _twisty3DStaleDropper, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.StaleDropper());\n    this.model = model;\n  }\n  disconnect() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager5).disconnect();\n  }\n  async connectedCallback() {\n    this.addCSS(twistyViewerWrapperCSS);\n    const vantage = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.Twisty3DVantage(this.model, this);\n    this.addVantage(vantage);\n    if (this.model) {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager5).addMultiListener(\n        [this.model.puzzleLoader, this.model.visualizationStrategy],\n        this.onPuzzle.bind(this)\n      );\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _freshListenerManager5).addListener(\n        this.model.backView,\n        this.onBackView.bind(this)\n      );\n    }\n    this.scheduleRender();\n  }\n  setBackView(backView) {\n    const shouldHaveBackView = [\"side-by-side\", \"top-right\"].includes(backView);\n    const hasBackView = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _backViewVantage) !== null;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _backViewClassListManager).setValue(backView);\n    if (shouldHaveBackView) {\n      if (!hasBackView) {\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _backViewVantage, new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.Twisty3DVantage(this.model, this, {\n          backView: true\n        }));\n        this.addVantage((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _backViewVantage));\n        this.scheduleRender();\n      }\n    } else {\n      if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _backViewVantage)) {\n        this.removeVantage((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _backViewVantage));\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _backViewVantage, null);\n      }\n    }\n  }\n  onBackView(backView) {\n    this.setBackView(backView);\n  }\n  async onPress(e) {\n    const twisty3DPuzzleWrapper = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty3DPuzzleWrapper);\n    if (!twisty3DPuzzleWrapper) {\n      console.info(\"no wrapper; skipping scene wrapper press!\");\n      return;\n    }\n    const raycasterPromise = (async () => {\n      const [camera, three] = await Promise.all([\n        e.detail.cameraPromise,\n        _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.THREEJS\n      ]);\n      const raycaster = new three.Raycaster();\n      const mouse = new (await _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.THREEJS).Vector2(\n        e.detail.pressInfo.normalizedX,\n        e.detail.pressInfo.normalizedY\n      );\n      raycaster.setFromCamera(mouse, camera);\n      return raycaster;\n    })();\n    twisty3DPuzzleWrapper.raycastMove(raycasterPromise, {\n      invert: !e.detail.pressInfo.rightClick,\n      depth: e.detail.pressInfo.keys.ctrlOrMetaKey ? \"rotation\" : e.detail.pressInfo.keys.shiftKey ? \"secondSlice\" : \"none\"\n    });\n  }\n  async scene() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cachedScene2) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cachedScene2, (async () => new (await _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.THREEJS).Scene())());\n  }\n  addVantage(vantage) {\n    vantage.addEventListener(\"press\", this.onPress.bind(this));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _vantages).add(vantage);\n    this.contentWrapper.appendChild(vantage);\n  }\n  removeVantage(vantage) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _vantages).delete(vantage);\n    vantage.remove();\n    vantage.disconnect();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty3DPuzzleWrapper)?.disconnect();\n  }\n  experimentalVantages() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _vantages).values();\n  }\n  scheduleRender() {\n    for (const vantage of (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _vantages)) {\n      vantage.scheduleRender();\n    }\n  }\n  // #oldTwisty3DPuzzleWrappers: Twisty3DPuzzleWrapper[] = []; // TODO: Animate these out.\n  async setCurrentTwisty3DPuzzleWrapper(scene, twisty3DPuzzleWrapper) {\n    const old = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty3DPuzzleWrapper);\n    try {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _currentTwisty3DPuzzleWrapper, twisty3DPuzzleWrapper);\n      old?.disconnect();\n      scene.add(await twisty3DPuzzleWrapper.twisty3DPuzzle());\n    } finally {\n      if (old) {\n        scene.remove(await old.twisty3DPuzzle());\n      }\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _initialWrapperTracker).handleNewValue(twisty3DPuzzleWrapper);\n  }\n  /** @deprecated */\n  async experimentalTwisty3DPuzzleWrapper() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty3DPuzzleWrapper) || (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _initialWrapperTracker).promise;\n  }\n  async onPuzzle(inputs) {\n    if (inputs[1] === \"2D\") {\n      return;\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentTwisty3DPuzzleWrapper)?.disconnect();\n    const [scene, twisty3DPuzzleWrapper] = await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twisty3DStaleDropper).queue(\n      Promise.all([\n        this.scene(),\n        new Twisty3DPuzzleWrapper(this.model, this, inputs[0], inputs[1])\n        // TODO\n      ])\n    );\n    this.setCurrentTwisty3DPuzzleWrapper(scene, twisty3DPuzzleWrapper);\n  }\n}, _backViewClassListManager = new WeakMap(), _freshListenerManager5 = new WeakMap(), _backViewVantage = new WeakMap(), _cachedScene2 = new WeakMap(), _vantages = new WeakMap(), _currentTwisty3DPuzzleWrapper = new WeakMap(), _initialWrapperTracker = new WeakMap(), _twisty3DStaleDropper = new WeakMap(), _a8);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-3d-scene-wrapper\", Twisty3DSceneWrapper);\nvar buttonGridCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  width: 384px;\n  height: 24px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n}\n\n.wrapper {\n  grid-auto-flow: column;\n}\n\n.viewer-link-none .twizzle-link-button {\n  display: none;\n}\n\n.wrapper twisty-button,\n.wrapper twisty-control-button {\n  width: inherit;\n  height: inherit;\n}\n`\n);\nvar buttonCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host:not([hidden]) {\n  display: grid;\n}\n\n:host {\n  width: 48px;\n  height: 24px;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n}\n\nbutton {\n  width: 100%;\n  height: 100%;\n  border: none;\n  \n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n\n  background-color: rgba(196, 196, 196, 0.75);\n}\n\nbutton:enabled {\n  background-color: rgba(196, 196, 196, 0.75)\n}\n\n.dark-mode button:enabled {\n  background-color: #88888888;\n}\n\nbutton:disabled {\n  background-color: rgba(0, 0, 0, 0.4);\n  opacity: 0.25;\n  pointer-events: none;\n}\n\n.dark-mode button:disabled {\n  background-color: #ffffff44;\n}\n\nbutton:enabled:hover {\n  background-color: rgba(255, 255, 255, 0.75);\n  box-shadow: 0 0 1em rgba(0, 0, 0, 0.25);\n  cursor: pointer;\n}\n\n/* TODO: fullscreen icons have too much padding?? */\n.svg-skip-to-start button,\nbutton.svg-skip-to-start {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjQzIDEwMzdxMTktMTkgMzItMTN0MTMgMzJ2MTQ3MnEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djcxMHEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djY3OHEwIDI2LTE5IDQ1dC00NSAxOUg5NjBxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWgxMjhxMjYgMCA0NSAxOXQxOSA0NXY2NzhxNC0xMSAxMy0xOWw3MTAtNzEwcTE5LTE5IDMyLTEzdDEzIDMydjcxMHE0LTExIDEzLTE5eiIvPjwvc3ZnPg==\");\n}\n\n.svg-skip-to-end button,\nbutton.svg-skip-to-end {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik05NDEgMjU0N3EtMTkgMTktMzIgMTN0LTEzLTMyVjEwNTZxMC0yNiAxMy0zMnQzMiAxM2w3MTAgNzEwcTggOCAxMyAxOXYtNzEwcTAtMjYgMTMtMzJ0MzIgMTNsNzEwIDcxMHE4IDggMTMgMTl2LTY3OHEwLTI2IDE5LTQ1dDQ1LTE5aDEyOHEyNiAwIDQ1IDE5dDE5IDQ1djE0MDhxMCAyNi0xOSA0NXQtNDUgMTloLTEyOHEtMjYgMC00NS0xOXQtMTktNDV2LTY3OHEtNSAxMC0xMyAxOWwtNzEwIDcxMHEtMTkgMTktMzIgMTN0LTEzLTMydi03MTBxLTUgMTAtMTMgMTl6Ii8+PC9zdmc+\");\n}\n\n.svg-step-forward button,\nbutton.svg-step-forward {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDE1NjhxMCAyNi0xOSA0NWwtNTEyIDUxMnEtMTkgMTktNDUgMTl0LTQ1LTE5cS0xOS0xOS0xOS00NXYtMjU2aC0yMjRxLTk4IDAtMTc1LjUgNnQtMTU0IDIxLjVxLTc2LjUgMTUuNS0xMzMgNDIuNXQtMTA1LjUgNjkuNXEtNDkgNDIuNS04MCAxMDF0LTQ4LjUgMTM4LjVxLTE3LjUgODAtMTcuNSAxODEgMCA1NSA1IDEyMyAwIDYgMi41IDIzLjV0Mi41IDI2LjVxMCAxNS04LjUgMjV0LTIzLjUgMTBxLTE2IDAtMjgtMTctNy05LTEzLTIydC0xMy41LTMwcS03LjUtMTctMTAuNS0yNC0xMjctMjg1LTEyNy00NTEgMC0xOTkgNTMtMzMzIDE2Mi00MDMgODc1LTQwM2gyMjR2LTI1NnEwLTI2IDE5LTQ1dDQ1LTE5cTI2IDAgNDUgMTlsNTEyIDUxMnExOSAxOSAxOSA0NXoiLz48L3N2Zz4=\");\n}\n\n.svg-step-backward button,\nbutton.svg-step-backward {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDIwNDhxMCAxNjYtMTI3IDQ1MS0zIDctMTAuNSAyNHQtMTMuNSAzMHEtNiAxMy0xMyAyMi0xMiAxNy0yOCAxNy0xNSAwLTIzLjUtMTB0LTguNS0yNXEwLTkgMi41LTI2LjV0Mi41LTIzLjVxNS02OCA1LTEyMyAwLTEwMS0xNy41LTE4MXQtNDguNS0xMzguNXEtMzEtNTguNS04MC0xMDF0LTEwNS41LTY5LjVxLTU2LjUtMjctMTMzLTQyLjV0LTE1NC0yMS41cS03Ny41LTYtMTc1LjUtNmgtMjI0djI1NnEwIDI2LTE5IDQ1dC00NSAxOXEtMjYgMC00NS0xOWwtNTEyLTUxMnEtMTktMTktMTktNDV0MTktNDVsNTEyLTUxMnExOS0xOSA0NS0xOXQ0NSAxOXExOSAxOSAxOSA0NXYyNTZoMjI0cTcxMyAwIDg3NSA0MDMgNTMgMTM0IDUzIDMzM3oiLz48L3N2Zz4=\");\n}\n\n.svg-pause button,\nbutton.svg-pause {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNTYwIDEwODh2MTQwOHEwIDI2LTE5IDQ1dC00NSAxOWgtNTEycS0yNiAwLTQ1LTE5dC0xOS00NVYxMDg4cTAtMjYgMTktNDV0NDUtMTloNTEycTI2IDAgNDUgMTl0MTkgNDV6bS04OTYgMHYxNDA4cTAgMjYtMTkgNDV0LTQ1IDE5aC01MTJxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWg1MTJxMjYgMCA0NSAxOXQxOSA0NXoiLz48L3N2Zz4=\");\n}\n\n.svg-play button,\nbutton.svg-play {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNDcyLjUgMTgyM2wtMTMyOCA3MzhxLTIzIDEzLTM5LjUgM3QtMTYuNS0zNlYxMDU2cTAtMjYgMTYuNS0zNnQzOS41IDNsMTMyOCA3MzhxMjMgMTMgMjMgMzF0LTIzIDMxeiIvPjwvc3ZnPg==\");\n}\n\n.svg-enter-fullscreen button,\nbutton.svg-enter-fullscreen {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTZIN3Y1aDV2LTJIOXYtM3ptLTItNGgyVjloM1Y3SDd2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTYgN3YyaDN2M2gyVjdoLTV6Ii8+PC9zdmc+\");\n}\n\n.svg-exit-fullscreen button,\nbutton.svg-exit-fullscreen {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTcgMThoM3YzaDJ2LTVIN3Yyem0zLThIN3YyaDVWN2gtMnYzem02IDExaDJ2LTNoM3YtMmgtNXY1em0yLTExVjdoLTJ2NWg1di0yaC0zeiIvPjwvc3ZnPg==\");\n}\n\n.svg-twizzle-tw button,\nbutton.svg-twizzle-tw {\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODY0IiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzk3LjU4MSAxNTEuMTh2NTcuMDg0aC04OS43MDN2MjQwLjM1MmgtNjYuOTU1VjIwOC4yNjRIMTUxLjIydi01Ny4wODNoMjQ2LjM2MXptNTQuMzEgNzEuNjc3bDcuNTEyIDMzLjY5MmMyLjcxOCAxMi4xNiA1LjU4IDI0LjY4IDguNTg0IDM3LjU1NWEyMTgwLjc3NSAyMTgwLjc3NSAwIDAwOS40NDIgMzguODQzIDEyNjYuMyAxMjY2LjMgMCAwMDEwLjA4NiAzNy41NTVjMy43Mi0xMi41OSA3LjM2OC0yNS40NjYgMTAuOTQ1LTM4LjYyOCAzLjU3Ni0xMy4xNjIgNy4wMS0yNi4xMSAxMC4zLTM4Ljg0M2w1Ljc2OS0yMi40NTZjMS4yNDgtNC44ODcgMi40NzItOS43MDUgMy42NzQtMTQuNDU1IDMuMDA0LTExLjg3NSA1LjY1MS0yMi45NjIgNy45NC0zMy4yNjNoNDYuMzU0bDIuMzg0IDEwLjU2M2EyMDAwLjc3IDIwMDAuNzcgMCAwMDMuOTM1IDE2LjgyOGw2LjcxMSAyNy43MWMxLjIxMyA0Ljk1NiAyLjQ1IDkuOTggMy43MDkgMTUuMDczYTMxMTkuNzc3IDMxMTkuNzc3IDAgMDA5Ljg3MSAzOC44NDMgMTI0OS4yMjcgMTI0OS4yMjcgMCAwMDEwLjczIDM4LjYyOCAxOTA3LjYwNSAxOTA3LjYwNSAwIDAwMTAuMzAxLTM3LjU1NSAxMzk3Ljk0IDEzOTcuOTQgMCAwMDkuNjU3LTM4Ljg0M2w0LjQtMTkuMDQ2Yy43MTUtMy4xMyAxLjQyMS02LjIzNiAyLjExOC05LjMyMWw5LjU3Ny00Mi44OGg2Ni41MjZhMjk4OC43MTggMjk4OC43MTggMCAwMS0xOS41MjkgNjYuMzExbC01LjcyOCAxOC40ODJhMzIzNy40NiAzMjM3LjQ2IDAgMDEtMTQuMDE1IDQzLjc1MmMtNi40MzggMTkuNi0xMi43MzMgMzcuNjk4LTE4Ljg4NSA1NC4yOTRsLTMuMzA2IDguODI1Yy00Ljg4NCAxMi44OTgtOS40MzMgMjQuMjYzLTEzLjY0NyAzNC4wOTVoLTQ5Ljc4N2E4NDE3LjI4OSA4NDE3LjI4OSAwIDAxLTIxLjAzMS02NC44MDkgMTI4OC42ODYgMTI4OC42ODYgMCAwMS0xOC44ODUtNjQuODEgMTk3Mi40NDQgMTk3Mi40NDQgMCAwMS0xOC4yNCA2NC44MSAyNTc5LjQxMiAyNTc5LjQxMiAwIDAxLTIwLjM4OCA2NC44MWgtNDkuNzg3Yy00LjY4Mi0xMC45MjYtOS43Mi0yMy43NDMtMTUuMTEtMzguNDUxbC0xLjYyOS00LjQ3Yy01LjI1OC0xNC41MjEtMTAuNjgtMzAuMTkyLTE2LjI2Ni00Ny4wMTRsLTIuNDA0LTcuMjhjLTYuNDM4LTE5LjYtMTMuMDItNDAuMzQ0LTE5Ljc0My02Mi4yMzRhMjk4OC43MDcgMjk4OC43MDcgMCAwMS0xOS41MjktNjYuMzExaDY3LjM4NXoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==\");\n}\n`\n);\nvar globalSafeDocument = typeof document === \"undefined\" ? null : document;\nvar fullscreenEnabled = globalSafeDocument?.fullscreenEnabled || !!globalSafeDocument?.webkitFullscreenEnabled;\nfunction documentExitFullscreen() {\n  if (document.exitFullscreen) {\n    return document.exitFullscreen();\n  } else {\n    return document.webkitExitFullscreen();\n  }\n}\nfunction documentFullscreenElement() {\n  if (document.fullscreenElement) {\n    return document.fullscreenElement;\n  } else {\n    return document.webkitFullscreenElement ?? null;\n  }\n}\nfunction requestFullscreen(element) {\n  if (element.requestFullscreen) {\n    return element.requestFullscreen();\n  } else {\n    return element.webkitRequestFullscreen();\n  }\n}\nvar buttonIcons = [\n  \"skip-to-start\",\n  \"skip-to-end\",\n  \"step-forward\",\n  \"step-backward\",\n  \"pause\",\n  \"play\",\n  \"enter-fullscreen\",\n  \"exit-fullscreen\",\n  \"twizzle-tw\"\n];\nvar ButtonAppearanceProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  // TODO: This still seems to fire twice for play/pause?\n  derive(inputs) {\n    const buttonAppearances = {\n      fullscreen: {\n        // TODO: Cache?// TODO: Cache?\n        enabled: fullscreenEnabled,\n        icon: (\n          // TODO: Check against the expected element?\n          // TODO: This will *not* update when we enter/leave fullscreen. We need to work more closely with the controller.\n          document.fullscreenElement === null ? \"enter-fullscreen\" : \"exit-fullscreen\"\n        ),\n        title: \"Enter fullscreen\"\n      },\n      \"jump-to-start\": {\n        enabled: !inputs.coarseTimelineInfo.atStart,\n        icon: \"skip-to-start\",\n        title: \"Restart\"\n      },\n      \"play-step-backwards\": {\n        enabled: !inputs.coarseTimelineInfo.atStart,\n        icon: \"step-backward\",\n        title: \"Step backward\"\n      },\n      \"play-pause\": {\n        enabled: !(inputs.coarseTimelineInfo.atStart && inputs.coarseTimelineInfo.atEnd),\n        icon: inputs.coarseTimelineInfo.playing ? \"pause\" : \"play\",\n        title: inputs.coarseTimelineInfo.playing ? \"Pause\" : \"Play\"\n      },\n      \"play-step\": {\n        enabled: !inputs.coarseTimelineInfo.atEnd,\n        icon: \"step-forward\",\n        title: \"Step forward\"\n      },\n      \"jump-to-end\": {\n        enabled: !inputs.coarseTimelineInfo.atEnd,\n        icon: \"skip-to-end\",\n        title: \"Skip to End\"\n      },\n      \"twizzle-link\": {\n        enabled: true,\n        icon: \"twizzle-tw\",\n        title: \"View at Twizzle\",\n        hidden: inputs.viewerLink === \"none\"\n      }\n    };\n    return buttonAppearances;\n  }\n};\nvar buttonCommands = {\n  fullscreen: true,\n  \"jump-to-start\": true,\n  \"play-step-backwards\": true,\n  \"play-pause\": true,\n  \"play-step\": true,\n  \"jump-to-end\": true,\n  \"twizzle-link\": true\n};\nvar _onCommand, onCommand_fn, _a9;\nvar TwistyButtons = (_a9 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  // TODO: Privacy\n  constructor(model, controller, defaultFullscreenElement) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _onCommand);\n    this.model = model;\n    this.controller = controller;\n    this.defaultFullscreenElement = defaultFullscreenElement;\n    this.buttons = null;\n  }\n  connectedCallback() {\n    this.addCSS(buttonGridCSS);\n    const buttons = {};\n    for (const command in buttonCommands) {\n      const button = new TwistyButton();\n      buttons[command] = button;\n      button.htmlButton.addEventListener(\n        \"click\",\n        () => (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _onCommand, onCommand_fn).call(this, command)\n      );\n      this.addElement(button);\n    }\n    this.buttons = buttons;\n    this.model?.buttonAppearance.addFreshListener(this.update.bind(this));\n    this.model?.twistySceneModel.colorScheme.addFreshListener(\n      this.updateColorScheme.bind(this)\n    );\n  }\n  // TODO: Should we have a prop, or a way to query if we're fullscreen?\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullScreen\n  async onFullscreenButton() {\n    if (!this.defaultFullscreenElement) {\n      throw new Error(\"Attempted to go fullscreen without an element.\");\n    }\n    if (documentFullscreenElement() === this.defaultFullscreenElement) {\n      documentExitFullscreen();\n    } else {\n      this.buttons?.fullscreen.setIcon(\"exit-fullscreen\");\n      requestFullscreen(\n        await this.model?.twistySceneModel.fullscreenElement.get() ?? this.defaultFullscreenElement\n      );\n      const onFullscreen = () => {\n        if (documentFullscreenElement() !== this.defaultFullscreenElement) {\n          this.buttons?.fullscreen.setIcon(\"enter-fullscreen\");\n          window.removeEventListener(\"fullscreenchange\", onFullscreen);\n        }\n      };\n      window.addEventListener(\"fullscreenchange\", onFullscreen);\n    }\n  }\n  async update(buttonAppearances) {\n    for (const command in buttonCommands) {\n      const button = this.buttons[command];\n      const info = buttonAppearances[command];\n      button.htmlButton.disabled = !info.enabled;\n      button.htmlButton.title = info.title;\n      button.setIcon(info.icon);\n      button.hidden = !!info.hidden;\n    }\n  }\n  updateColorScheme(colorScheme) {\n    for (const button of Object.values(this.buttons ?? {})) {\n      button.updateColorScheme(colorScheme);\n    }\n  }\n}, _onCommand = new WeakSet(), onCommand_fn = function(command) {\n  switch (command) {\n    case \"fullscreen\": {\n      this.onFullscreenButton();\n      break;\n    }\n    case \"jump-to-start\": {\n      this.controller?.jumpToStart({ flash: true });\n      break;\n    }\n    case \"play-step-backwards\": {\n      this.controller?.animationController.play({\n        direction: -1,\n        untilBoundary: \"move\"\n        /* Move */\n      });\n      break;\n    }\n    case \"play-pause\": {\n      this.controller?.togglePlay();\n      break;\n    }\n    case \"play-step\": {\n      this.controller?.animationController.play({\n        direction: 1,\n        untilBoundary: \"move\"\n        /* Move */\n      });\n      break;\n    }\n    case \"jump-to-end\": {\n      this.controller?.jumpToEnd({ flash: true });\n      break;\n    }\n    case \"twizzle-link\": {\n      this.controller?.visitTwizzleLink();\n      break;\n    }\n    default:\n      throw new Error(\"Missing command\");\n  }\n}, _a9);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-buttons\", TwistyButtons);\nvar _iconManager, _a10;\nvar TwistyButton = (_a10 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor() {\n    super(...arguments);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _iconManager, void 0);\n    this.htmlButton = document.createElement(\"button\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _iconManager, new ClassListManager(\n      this,\n      \"svg-\",\n      buttonIcons\n    ));\n  }\n  // TODO: async?\n  updateColorScheme(colorScheme) {\n    this.contentWrapper.classList.toggle(\"dark-mode\", colorScheme === \"dark\");\n  }\n  connectedCallback() {\n    this.addCSS(buttonCSS);\n    this.addElement(this.htmlButton);\n  }\n  setIcon(iconName) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _iconManager).setValue(iconName);\n  }\n}, _iconManager = new WeakMap(), _a10);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-button\", TwistyButton);\nvar twistyScrubberCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  width: 384px;\n  height: 16px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  background: rgba(196, 196, 196, 0.75);\n}\n\ninput:not(:disabled) {\n  cursor: ew-resize;\n}\n\n.wrapper.dark-mode {\n  background: #666666;\n}\n`\n);\nvar SLOW_DOWN_SCRUBBING = false;\nvar isMouseDown = false;\nglobalSafeDocument?.addEventListener(\n  \"mousedown\",\n  function(event) {\n    if (event.which) {\n      isMouseDown = true;\n    }\n  },\n  true\n);\nglobalSafeDocument?.addEventListener(\n  \"mouseup\",\n  function(event) {\n    if (event.which) {\n      isMouseDown = false;\n    }\n  },\n  true\n);\nvar y = 0;\nvar clickNum = 0;\nglobalSafeDocument?.addEventListener(\n  \"mousedown\",\n  () => {\n    clickNum++;\n  },\n  false\n);\nglobalSafeDocument?.addEventListener(\"mousemove\", onMouseUpdate, false);\nglobalSafeDocument?.addEventListener(\"mouseenter\", onMouseUpdate, false);\nfunction onMouseUpdate(e) {\n  y = e.pageY;\n}\nvar lastVal = 0;\nvar lastPreval = 0;\nvar scaling = false;\nvar currentClickNum = 0;\nvar _inputElem, _a11;\nvar TwistyScrubber = (_a11 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor(model, controller) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _inputElem, null);\n    this.model = model;\n    this.controller = controller;\n  }\n  async onDetailedTimelineInfo(detailedTimelineInfo) {\n    const inputElem = await this.inputElem();\n    inputElem.min = detailedTimelineInfo.timeRange.start.toString();\n    inputElem.max = detailedTimelineInfo.timeRange.end.toString();\n    inputElem.disabled = inputElem.min === inputElem.max;\n    inputElem.value = detailedTimelineInfo.timestamp.toString();\n  }\n  async connectedCallback() {\n    this.addCSS(twistyScrubberCSS);\n    this.addElement(await this.inputElem());\n    this.model?.twistySceneModel.colorScheme.addFreshListener(\n      this.updateColorScheme.bind(this)\n    );\n  }\n  updateColorScheme(colorScheme) {\n    this.contentWrapper.classList.toggle(\"dark-mode\", colorScheme === \"dark\");\n  }\n  async inputElem() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _inputElem) ?? (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _inputElem, (async () => {\n      const elem = document.createElement(\"input\");\n      elem.type = \"range\";\n      elem.disabled = true;\n      this.model?.detailedTimelineInfo.addFreshListener(\n        this.onDetailedTimelineInfo.bind(this)\n      );\n      elem.addEventListener(\"input\", this.onInput.bind(this));\n      elem.addEventListener(\"keydown\", this.onKeypress.bind(this));\n      return elem;\n    })());\n  }\n  async onInput(e) {\n    if (scaling) {\n      return;\n    }\n    const inputElem = await this.inputElem();\n    await this.slowDown(e, inputElem);\n    const value = parseInt(inputElem.value);\n    this.model?.playingInfo.set({ playing: false });\n    this.model?.timestampRequest.set(value);\n  }\n  onKeypress(e) {\n    switch (e.key) {\n      case \"ArrowLeft\":\n      case \"ArrowRight\": {\n        this.controller?.animationController.play({\n          direction: e.key === \"ArrowLeft\" ? -1 : 1,\n          untilBoundary: \"move\"\n          /* Move */\n        });\n        e.preventDefault();\n        break;\n      }\n      case \" \": {\n        this.controller?.togglePlay();\n        e.preventDefault();\n        break;\n      }\n    }\n  }\n  async slowDown(e, inputElem) {\n    if (!SLOW_DOWN_SCRUBBING) {\n      return;\n    }\n    if (isMouseDown) {\n      const rect = inputElem.getBoundingClientRect();\n      const sliderY = rect.top + rect.height / 2;\n      console.log(sliderY, e, y, isMouseDown);\n      const yDist = Math.abs(sliderY - y);\n      let scale = 1;\n      if (yDist > 64) {\n        scale = Math.max(Math.pow(2, -(yDist - 64) / 64), 1 / 32);\n      }\n      const preVal = parseInt(inputElem.value);\n      console.log(\"cl\", currentClickNum, clickNum, preVal);\n      if (currentClickNum === clickNum) {\n        const delta = (preVal - lastPreval) * scale;\n        console.log(\"delta\", delta, yDist);\n        scaling = true;\n        let newVal = preVal;\n        newVal = lastVal + delta * scale + (preVal - lastVal) * Math.min(1, Math.pow(1 / 2, yDist * yDist / 64));\n        inputElem.value = newVal.toString();\n        console.log(scale);\n        scaling = false;\n        this.contentWrapper.style.opacity = scale.toString();\n      } else {\n        currentClickNum = clickNum;\n      }\n      lastPreval = preVal;\n    }\n  }\n}, _inputElem = new WeakMap(), _a11);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-scrubber\", TwistyScrubber);\nvar cachedCamera = null;\nasync function screenshot(model, options) {\n  const [\n    { PerspectiveCamera, Scene },\n    puzzleLoader,\n    visualizationStrategy,\n    _stickering,\n    // TODO\n    _stickeringMaskRequest,\n    // TODO\n    _legacyPosition,\n    orbitCoordinates\n  ] = await Promise.all([\n    _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.THREEJS,\n    await model.puzzleLoader.get(),\n    await model.visualizationStrategy.get(),\n    await model.twistySceneModel.stickeringRequest.get(),\n    await model.twistySceneModel.stickeringMaskRequest.get(),\n    await model.legacyPosition.get(),\n    await model.twistySceneModel.orbitCoordinates.get()\n  ]);\n  const width = options?.width ?? 2048;\n  const height = options?.height ?? 2048;\n  const aspectRatio = width / height;\n  const camera = cachedCamera ?? (cachedCamera = await (async () => {\n    return new PerspectiveCamera(20, aspectRatio, 0.1, 20);\n  })());\n  const scene = new Scene();\n  const twisty3DWrapper = new Twisty3DPuzzleWrapper(\n    model,\n    { scheduleRender: () => {\n    } },\n    puzzleLoader,\n    visualizationStrategy\n  );\n  scene.add(await twisty3DWrapper.twisty3DPuzzle());\n  await (0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.setCameraFromOrbitCoordinates)(camera, orbitCoordinates);\n  const rendererCanvas = await (0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.rawRenderPooled)(width, height, scene, camera);\n  const dataURL = rendererCanvas.toDataURL();\n  const defaultFilename = await getDefaultFilename(model);\n  return {\n    dataURL,\n    download: async (filename) => {\n      downloadURL(dataURL, filename ?? defaultFilename);\n    }\n  };\n}\nasync function getDefaultFilename(model) {\n  const [puzzleID, algWithIssues] = await Promise.all([\n    model.puzzleID.get(),\n    model.alg.get()\n  ]);\n  return `[${puzzleID}]${algWithIssues.alg.experimentalNumChildAlgNodes() === 0 ? \"\" : ` ${algWithIssues.alg.toString()}`}`;\n}\nfunction downloadURL(url, name, extension = \"png\") {\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = `${name}.${extension}`;\n  a.click();\n}\nvar twistyPlayerCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.wrapper {\n  display: grid;\n  overflow: hidden;\n  contain: size;\n  grid-template-rows: 7fr minmax(1.5em, 0.5fr) minmax(2em, 1fr);\n}\n\n.wrapper > * {\n  width: inherit;\n  height: inherit;\n  overflow: hidden;\n}\n\n.wrapper.controls-none {\n  grid-template-rows: 7fr;\n}\n\n.wrapper.controls-none twisty-scrubber,\n.wrapper.controls-none twisty-control-button-panel ,\n.wrapper.controls-none twisty-scrubber,\n.wrapper.controls-none twisty-buttons {\n  display: none;\n}\n\ntwisty-scrubber {\n  background: rgba(196, 196, 196, 0.5);\n}\n\n.wrapper.checkered,\n.wrapper.checkered-transparent {\n  background-color: #EAEAEA;\n  background-image: linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD),\n    linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD);\n  background-size: 32px 32px;\n  background-position: 0 0, 16px 16px;\n}\n\n.wrapper.checkered-transparent {\n  background-color: #F4F4F4;\n  background-image: linear-gradient(45deg, #DDDDDD88 25%, transparent 25%, transparent 75%, #DDDDDD88 75%, #DDDDDD88),\n    linear-gradient(45deg, #DDDDDD88 25%, transparent 25%, transparent 75%, #DDDDDD88 75%, #DDDDDD88);\n}\n\n.wrapper.dark-mode {\n  background-color: #444;\n  background-image: linear-gradient(45deg, #DDDDDD0b 25%, transparent 25%, transparent 75%, #DDDDDD0b 75%, #DDDDDD0b),\n    linear-gradient(45deg, #DDDDDD0b 25%, transparent 25%, transparent 75%, #DDDDDD0b 75%, #DDDDDD0b);\n}\n\n.visualization-wrapper > * {\n  width: 100%;\n  height: 100%;\n}\n\n.error-elem {\n  width: 100%;\n  height: 100%;\n  display: none;\n  place-content: center;\n  font-family: sans-serif;\n  box-shadow: inset 0 0 2em rgb(255, 0, 0);\n  color: red;\n  text-shadow: 0 0 0.2em white;\n  background: rgba(255, 255, 255, 0.25);\n}\n\n.wrapper.error .visualization-wrapper {\n  display: none;\n}\n\n.wrapper.error .error-elem {\n  display: grid;\n}\n`\n);\nvar ArbitraryStringProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return null;\n  }\n};\nvar URLProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  getDefaultValue() {\n    return null;\n  }\n  derive(input) {\n    if (typeof input === \"string\") {\n      return new URL(input, location.href);\n    }\n    return input;\n  }\n};\nvar AlgIssues = class _AlgIssues {\n  constructor(issues) {\n    this.warnings = Object.freeze(issues?.warnings ?? []);\n    this.errors = Object.freeze(issues?.errors ?? []);\n    Object.freeze(this);\n  }\n  add(issues) {\n    return new _AlgIssues({\n      warnings: this.warnings.concat(issues?.warnings ?? []),\n      errors: this.errors.concat(issues?.errors ?? [])\n    });\n  }\n  /** @deprecated */\n  log() {\n    if (this.errors.length > 0) {\n      console.error(`\\u{1F6A8} ${this.errors[0]}`);\n    } else if (this.warnings.length > 0) {\n      console.warn(`\\u26A0\\uFE0F ${this.warnings[0]}`);\n    } else {\n      console.info(\"\\u{1F60E} No issues!\");\n    }\n  }\n};\nfunction algWithIssuesFromString(s) {\n  try {\n    const alg = _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg.fromString(s);\n    const warnings = [];\n    if (alg.toString() !== s) {\n      warnings.push(\"Alg is non-canonical!\");\n    }\n    return {\n      alg,\n      issues: new AlgIssues({ warnings })\n    };\n  } catch (e) {\n    return {\n      alg: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(),\n      issues: new AlgIssues({\n        errors: [`Malformed alg: ${e.toString()}`]\n      })\n    };\n  }\n}\nfunction algWithIssuesEquals(a1, a2) {\n  return a1.alg.isIdentical(a2.alg) && arrayEquals(a1.issues.warnings, a2.issues.warnings) && arrayEquals(a1.issues.errors, a2.issues.errors);\n}\nvar AlgProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  getDefaultValue() {\n    return { alg: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(), issues: new AlgIssues() };\n  }\n  canReuseValue(v1, v2) {\n    return algWithIssuesEquals(v1, v2);\n  }\n  async derive(newAlg) {\n    if (typeof newAlg === \"string\") {\n      return algWithIssuesFromString(newAlg);\n    } else {\n      return {\n        alg: newAlg,\n        issues: new AlgIssues()\n      };\n    }\n  }\n};\nvar AlgTransformationProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(input) {\n    return input.kpuzzle.algToTransformation(input.setupAlg.alg);\n  }\n};\nvar AnchorTransformationProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    if (inputs.setupTransformation) {\n      return inputs.setupTransformation;\n    }\n    switch (inputs.setupAnchor) {\n      case \"start\":\n        return inputs.setupAlgTransformation;\n      case \"end\": {\n        const algTransformation = inputs.indexer.transformationAtIndex(\n          inputs.indexer.numAnimatedLeaves()\n        );\n        const inverseAlgTransformation = algTransformation.invert();\n        return inputs.setupAlgTransformation.applyTransformation(\n          inverseAlgTransformation\n        );\n      }\n      default:\n        throw new Error(\"Unimplemented!\");\n    }\n  }\n};\nvar CatchUpMoveProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return { move: null, amount: 0 };\n  }\n  canReuseValue(v1, v2) {\n    return v1.move === v2.move && v1.amount === v2.amount;\n  }\n};\nvar CurrentLeavesSimplifiedProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return {\n      patternIndex: inputs.currentMoveInfo.patternIndex,\n      movesFinishing: inputs.currentMoveInfo.movesFinishing.map(\n        (currentMoveInfo) => currentMoveInfo.move\n      ),\n      movesFinished: inputs.currentMoveInfo.movesFinished.map(\n        (currentMoveInfo) => currentMoveInfo.move\n      )\n    };\n  }\n  canReuseValue(v1, v2) {\n    return v1.patternIndex === v2.patternIndex && arrayEqualsCompare(\n      v1.movesFinishing,\n      v2.movesFinishing,\n      (m1, m2) => m1.isIdentical(m2)\n    ) && arrayEqualsCompare(\n      v1.movesFinished,\n      v2.movesFinished,\n      (m1, m2) => m1.isIdentical(m2)\n    );\n  }\n};\nvar CurrentMoveInfoProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    function addCatchUpMove(currentMoveInfo) {\n      if (inputs.detailedTimelineInfo.atEnd && inputs.catchUpMove.move !== null) {\n        currentMoveInfo.currentMoves.push({\n          move: inputs.catchUpMove.move,\n          direction: -1,\n          fraction: 1 - inputs.catchUpMove.amount,\n          startTimestamp: -1,\n          // TODO\n          endTimestamp: -1\n          // TODO\n        });\n      }\n      return currentMoveInfo;\n    }\n    if (inputs.indexer.currentMoveInfo) {\n      return addCatchUpMove(\n        inputs.indexer.currentMoveInfo(inputs.detailedTimelineInfo.timestamp)\n      );\n    } else {\n      const idx = inputs.indexer.timestampToIndex(\n        inputs.detailedTimelineInfo.timestamp\n      );\n      const currentMoveInfo = {\n        patternIndex: idx,\n        currentMoves: [],\n        movesFinishing: [],\n        movesFinished: [],\n        movesStarting: [],\n        latestStart: -Infinity,\n        earliestEnd: Infinity\n      };\n      if (inputs.indexer.numAnimatedLeaves() > 0) {\n        const move = inputs.indexer.getAnimLeaf(idx)?.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n        if (!move) {\n          return addCatchUpMove(currentMoveInfo);\n        }\n        const start = inputs.indexer.indexToMoveStartTimestamp(idx);\n        const duration = inputs.indexer.moveDuration(idx);\n        const fraction = duration ? (inputs.detailedTimelineInfo.timestamp - start) / duration : 0;\n        const end = start + duration;\n        const currentMove = {\n          move,\n          direction: 1,\n          fraction,\n          startTimestamp: start,\n          endTimestamp: end\n        };\n        if (fraction === 0) {\n          currentMoveInfo.movesStarting.push(currentMove);\n        } else if (fraction === 1) {\n          currentMoveInfo.movesFinishing.push(currentMove);\n        } else {\n          currentMoveInfo.currentMoves.push(currentMove);\n          currentMoveInfo.latestStart = Math.max(\n            currentMoveInfo.latestStart,\n            start\n          );\n          currentMoveInfo.earliestEnd = Math.min(\n            currentMoveInfo.earliestEnd,\n            end\n          );\n        }\n      }\n      return addCatchUpMove(currentMoveInfo);\n    }\n  }\n};\nvar CurrentPatternProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    let transformation = inputs.indexer.transformationAtIndex(\n      inputs.currentLeavesSimplified.patternIndex\n    );\n    transformation = inputs.anchoredStart.applyTransformation(transformation);\n    for (const finishingMove of inputs.currentLeavesSimplified.movesFinishing) {\n      transformation = transformation.applyMove(finishingMove);\n    }\n    for (const finishedMove of inputs.currentLeavesSimplified.movesFinished) {\n      transformation = transformation.applyMove(finishedMove);\n    }\n    return transformation.toKPattern();\n  }\n};\nfunction defaultDurationForAmount(amount) {\n  switch (Math.abs(amount)) {\n    case 0:\n      return 0;\n    case 1:\n      return 1e3;\n    case 2:\n      return 1500;\n    default:\n      return 2e3;\n  }\n}\nvar AlgDuration = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalUp {\n  // TODO: Pass durationForAmount as Down type instead?\n  constructor(durationForAmount = defaultDurationForAmount) {\n    super();\n    this.durationForAmount = durationForAmount;\n  }\n  traverseAlg(alg) {\n    let total = 0;\n    for (const algNode of alg.childAlgNodes()) {\n      total += this.traverseAlgNode(algNode);\n    }\n    return total;\n  }\n  traverseGrouping(grouping) {\n    return grouping.amount * this.traverseAlg(grouping.alg);\n  }\n  traverseMove(move) {\n    return this.durationForAmount(move.amount);\n  }\n  traverseCommutator(commutator) {\n    return 2 * (this.traverseAlg(commutator.A) + this.traverseAlg(commutator.B));\n  }\n  traverseConjugate(conjugate) {\n    return 2 * this.traverseAlg(conjugate.A) + this.traverseAlg(conjugate.B);\n  }\n  traversePause(_pause) {\n    return this.durationForAmount(1);\n  }\n  traverseNewline(_newline) {\n    return this.durationForAmount(1);\n  }\n  traverseLineComment(_comment) {\n    return this.durationForAmount(0);\n  }\n};\nvar SimpleAlgIndexer = class {\n  constructor(kpuzzle, alg) {\n    this.kpuzzle = kpuzzle;\n    this.durationFn = new AlgDuration(\n      defaultDurationForAmount\n    );\n    this.moves = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(alg.experimentalExpand());\n  }\n  getAnimLeaf(index) {\n    return Array.from(this.moves.childAlgNodes())[index];\n  }\n  indexToMoveStartTimestamp(index) {\n    const alg = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(Array.from(this.moves.childAlgNodes()).slice(0, index));\n    return this.durationFn.traverseAlg(alg);\n  }\n  timestampToIndex(timestamp) {\n    let cumulativeTime = 0;\n    let i;\n    for (i = 0; i < this.numAnimatedLeaves(); i++) {\n      cumulativeTime += this.durationFn.traverseMove(this.getAnimLeaf(i));\n      if (cumulativeTime >= timestamp) {\n        return i;\n      }\n    }\n    return i;\n  }\n  patternAtIndex(index) {\n    return this.kpuzzle.defaultPattern().applyTransformation(this.transformationAtIndex(index));\n  }\n  transformationAtIndex(index) {\n    let pattern = this.kpuzzle.identityTransformation();\n    for (const move of Array.from(this.moves.childAlgNodes()).slice(0, index)) {\n      pattern = pattern.applyMove(move);\n    }\n    return pattern;\n  }\n  algDuration() {\n    return this.durationFn.traverseAlg(this.moves);\n  }\n  numAnimatedLeaves() {\n    return countAnimatedLeaves(this.moves);\n  }\n  moveDuration(index) {\n    return this.durationFn.traverseMove(this.getAnimLeaf(index));\n  }\n};\nvar axisLookup = {\n  u: \"y\",\n  l: \"x\",\n  f: \"z\",\n  r: \"x\",\n  b: \"z\",\n  d: \"y\",\n  m: \"x\",\n  e: \"y\",\n  s: \"z\",\n  x: \"x\",\n  y: \"y\",\n  z: \"z\"\n};\nfunction isSameAxis(move1, move2) {\n  return axisLookup[move1.family[0].toLowerCase()] === axisLookup[move2.family[0].toLowerCase()];\n}\nvar LocalSimulMoves = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalUp {\n  traverseAlg(alg) {\n    const processed = [];\n    for (const childAlgNode of alg.childAlgNodes()) {\n      processed.push(this.traverseAlgNode(childAlgNode));\n    }\n    return Array.prototype.concat(...processed);\n  }\n  traverseGroupingOnce(alg) {\n    if (alg.experimentalIsEmpty()) {\n      return [];\n    }\n    for (const algNode of alg.childAlgNodes()) {\n      if (!algNode.is(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move)) {\n        return this.traverseAlg(alg);\n      }\n    }\n    const moves = Array.from(alg.childAlgNodes());\n    let maxSimulDur = defaultDurationForAmount(moves[0].amount);\n    for (let i = 0; i < moves.length - 1; i++) {\n      for (let j = 1; j < moves.length; j++) {\n        if (!isSameAxis(moves[i], moves[j])) {\n          return this.traverseAlg(alg);\n        }\n      }\n      maxSimulDur = Math.max(\n        maxSimulDur,\n        defaultDurationForAmount(moves[i].amount)\n      );\n    }\n    const localMovesWithRange = moves.map(\n      (blockMove) => {\n        return {\n          animLeafAlgNode: blockMove,\n          msUntilNext: 0,\n          duration: maxSimulDur\n        };\n      }\n    );\n    localMovesWithRange[localMovesWithRange.length - 1].msUntilNext = maxSimulDur;\n    return localMovesWithRange;\n  }\n  traverseGrouping(grouping) {\n    const processed = [];\n    const segmentOnce = grouping.amount > 0 ? grouping.alg : grouping.alg.invert();\n    for (let i = 0; i < Math.abs(grouping.amount); i++) {\n      processed.push(this.traverseGroupingOnce(segmentOnce));\n    }\n    return Array.prototype.concat(...processed);\n  }\n  traverseMove(move) {\n    const duration = defaultDurationForAmount(move.amount);\n    return [\n      {\n        animLeafAlgNode: move,\n        msUntilNext: duration,\n        duration\n      }\n    ];\n  }\n  traverseCommutator(commutator) {\n    const processed = [];\n    const segmentsOnce = [\n      commutator.A,\n      commutator.B,\n      commutator.A.invert(),\n      commutator.B.invert()\n    ];\n    for (const segment of segmentsOnce) {\n      processed.push(this.traverseGroupingOnce(segment));\n    }\n    return Array.prototype.concat(...processed);\n  }\n  traverseConjugate(conjugate) {\n    const processed = [];\n    const segmentsOnce = [\n      conjugate.A,\n      conjugate.B,\n      conjugate.A.invert()\n    ];\n    for (const segment of segmentsOnce) {\n      processed.push(this.traverseGroupingOnce(segment));\n    }\n    return Array.prototype.concat(...processed);\n  }\n  traversePause(pause) {\n    if (pause.experimentalNISSGrouping) {\n      return [];\n    }\n    const duration = defaultDurationForAmount(1);\n    return [\n      {\n        animLeafAlgNode: pause,\n        msUntilNext: duration,\n        // TODO\n        duration\n      }\n    ];\n  }\n  traverseNewline(_newline) {\n    return [];\n  }\n  traverseLineComment(_comment) {\n    return [];\n  }\n};\nvar localSimulMoves = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(LocalSimulMoves);\nfunction simulMoves(a) {\n  let timestamp = 0;\n  const l = localSimulMoves(a).map(\n    (localSimulMove) => {\n      const leafWithRange = {\n        animLeaf: localSimulMove.animLeafAlgNode,\n        start: timestamp,\n        end: timestamp + localSimulMove.duration\n      };\n      timestamp += localSimulMove.msUntilNext;\n      return leafWithRange;\n    }\n  );\n  return l;\n}\nvar demos = {\n  \"y' y' U' E D R2 r2 F2 B2 U E D' R2 L2' z2 S2 U U D D S2 F2' B2\": [\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"y\", -1), start: 0, end: 1e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"y\", -1), start: 1e3, end: 2e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\", -1), start: 1e3, end: 1600 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"E\", 1), start: 1200, end: 1800 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"D\"), start: 1400, end: 2e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"R\", 2), start: 2e3, end: 3500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"r\", 2), start: 2e3, end: 3500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"F\", 2), start: 3500, end: 4200 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"B\", 2), start: 3800, end: 4500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\", 1), start: 4500, end: 5500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"E\", 1), start: 4500, end: 5500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"D\", -1), start: 4500, end: 5500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"R\", 2), start: 5500, end: 6500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"L\", -2), start: 5500, end: 6500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"z\", 2), start: 5500, end: 6500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"S\", 2), start: 6500, end: 7500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\"), start: 7500, end: 8e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"D\"), start: 7750, end: 8250 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\"), start: 8e3, end: 8500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"D\"), start: 8250, end: 8750 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"S\", 2), start: 8750, end: 9250 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"F\", -2), start: 8750, end: 1e4 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"B\", 2), start: 8750, end: 1e4 }\n  ],\n  \"M' R' U' D' M R\": [\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"M\", -1), start: 0, end: 1e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"R\", -1), start: 0, end: 1e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\", -1), start: 1e3, end: 2e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"D\", -1), start: 1e3, end: 2e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"M\"), start: 2e3, end: 3e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"R\"), start: 2e3, end: 3e3 }\n  ],\n  \"U' E' r E r2' E r U E\": [\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\", -1), start: 0, end: 1e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"E\", -1), start: 0, end: 1e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"r\"), start: 1e3, end: 2500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"E\"), start: 2500, end: 3500 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"r\", -2), start: 3500, end: 5e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"E\"), start: 5e3, end: 6e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"r\"), start: 6e3, end: 7e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"U\"), start: 7e3, end: 8e3 },\n    { animLeaf: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(\"E\"), start: 7e3, end: 8e3 }\n  ]\n};\nvar SimultaneousMoveIndexer = class {\n  // TODO: Allow custom `durationFn`.\n  constructor(kpuzzle, alg) {\n    this.kpuzzle = kpuzzle;\n    this.animLeaves = demos[alg.toString()] ?? simulMoves(alg);\n  }\n  getAnimLeaf(index) {\n    return this.animLeaves[Math.min(index, this.animLeaves.length - 1)]?.animLeaf ?? null;\n  }\n  getAnimLeafWithRange(index) {\n    return this.animLeaves[Math.min(index, this.animLeaves.length - 1)];\n  }\n  indexToMoveStartTimestamp(index) {\n    let start = 0;\n    if (this.animLeaves.length > 0) {\n      start = this.animLeaves[Math.min(index, this.animLeaves.length - 1)].start;\n    }\n    return start;\n  }\n  timestampToIndex(timestamp) {\n    let i = 0;\n    for (i = 0; i < this.animLeaves.length; i++) {\n      if (this.animLeaves[i].start >= timestamp) {\n        return Math.max(0, i - 1);\n      }\n    }\n    return Math.max(0, i - 1);\n  }\n  timestampToPosition(timestamp, startPattern) {\n    const currentMoveInfo = this.currentMoveInfo(timestamp);\n    let pattern = startPattern ?? this.kpuzzle.identityTransformation().toKPattern();\n    for (const leafWithRange of this.animLeaves.slice(\n      0,\n      currentMoveInfo.patternIndex\n    )) {\n      const move = leafWithRange.animLeaf.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n      if (move !== null) {\n        pattern = pattern.applyMove(move);\n      }\n    }\n    return {\n      pattern,\n      movesInProgress: currentMoveInfo.currentMoves\n    };\n  }\n  // TODO: Caching\n  currentMoveInfo(timestamp) {\n    let windowEarliestTimestamp = Infinity;\n    for (const leafWithRange of this.animLeaves) {\n      if (leafWithRange.start <= timestamp && leafWithRange.end >= timestamp) {\n        windowEarliestTimestamp = Math.min(\n          windowEarliestTimestamp,\n          leafWithRange.start\n        );\n      } else if (leafWithRange.start > timestamp) {\n        break;\n      }\n    }\n    const currentMoves = [];\n    const movesStarting = [];\n    const movesFinishing = [];\n    const movesFinished = [];\n    let latestStart = -Infinity;\n    let earliestEnd = Infinity;\n    let patternIndex = 0;\n    for (const leafWithRange of this.animLeaves) {\n      if (leafWithRange.end <= windowEarliestTimestamp) {\n        patternIndex++;\n      } else if (leafWithRange.start > timestamp) {\n        break;\n      } else {\n        const move = leafWithRange.animLeaf.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n        if (move !== null) {\n          let fraction = (timestamp - leafWithRange.start) / (leafWithRange.end - leafWithRange.start);\n          let moveFinished = false;\n          if (fraction > 1) {\n            fraction = 1;\n            moveFinished = true;\n          }\n          const currentMove = {\n            move,\n            direction: 1,\n            fraction,\n            startTimestamp: leafWithRange.start,\n            endTimestamp: leafWithRange.end\n          };\n          switch (fraction) {\n            case 0: {\n              movesStarting.push(currentMove);\n              break;\n            }\n            case 1: {\n              if (moveFinished) {\n                movesFinished.push(currentMove);\n              } else {\n                movesFinishing.push(currentMove);\n              }\n              break;\n            }\n            default:\n              currentMoves.push(currentMove);\n              latestStart = Math.max(latestStart, leafWithRange.start);\n              earliestEnd = Math.min(earliestEnd, leafWithRange.end);\n          }\n        }\n      }\n    }\n    return {\n      patternIndex,\n      currentMoves,\n      latestStart,\n      earliestEnd,\n      movesStarting,\n      movesFinishing,\n      movesFinished\n    };\n  }\n  patternAtIndex(index, startPattern) {\n    let pattern = startPattern ?? this.kpuzzle.defaultPattern();\n    for (let i = 0; i < this.animLeaves.length && i < index; i++) {\n      const leafWithRange = this.animLeaves[i];\n      const move = leafWithRange.animLeaf.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n      if (move !== null) {\n        pattern = pattern.applyMove(move);\n      }\n    }\n    return pattern;\n  }\n  transformationAtIndex(index) {\n    let transformation = this.kpuzzle.identityTransformation();\n    for (const leafWithRange of this.animLeaves.slice(0, index)) {\n      const move = leafWithRange.animLeaf.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n      if (move !== null) {\n        transformation = transformation.applyMove(move);\n      }\n    }\n    return transformation;\n  }\n  algDuration() {\n    let max = 0;\n    for (const leafWithRange of this.animLeaves) {\n      max = Math.max(max, leafWithRange.end);\n    }\n    return max;\n  }\n  numAnimatedLeaves() {\n    return this.animLeaves.length;\n  }\n  moveDuration(index) {\n    const move = this.getAnimLeafWithRange(index);\n    return move.end - move.start;\n  }\n};\nvar AlgWalkerDecoration = class {\n  constructor(moveCount, duration, forward, backward, children = []) {\n    this.moveCount = moveCount;\n    this.duration = duration;\n    this.forward = forward;\n    this.backward = backward;\n    this.children = children;\n  }\n};\nvar DecoratorConstructor = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalUp {\n  constructor(kpuzzle) {\n    super();\n    this.kpuzzle = kpuzzle;\n    this.durationFn = new AlgDuration(\n      defaultDurationForAmount\n    );\n    this.cache = {};\n    this.identity = kpuzzle.identityTransformation();\n    this.dummyLeaf = new AlgWalkerDecoration(\n      0,\n      0,\n      this.identity,\n      this.identity,\n      []\n    );\n  }\n  traverseAlg(alg) {\n    let moveCount = 0;\n    let duration = 0;\n    let transformation = this.identity;\n    const child = [];\n    for (const algNode of alg.childAlgNodes()) {\n      const apd = this.traverseAlgNode(algNode);\n      moveCount += apd.moveCount;\n      duration += apd.duration;\n      if (transformation === this.identity) {\n        transformation = apd.forward;\n      } else {\n        transformation = transformation.applyTransformation(apd.forward);\n      }\n      child.push(apd);\n    }\n    return new AlgWalkerDecoration(\n      moveCount,\n      duration,\n      transformation,\n      transformation.invert(),\n      child\n    );\n  }\n  traverseGrouping(grouping) {\n    const dec = this.traverseAlg(grouping.alg);\n    return this.mult(dec, grouping.amount, [dec]);\n  }\n  traverseMove(move) {\n    const key = move.toString();\n    let r2 = this.cache[key];\n    if (r2) {\n      return r2;\n    }\n    const transformation = this.kpuzzle.moveToTransformation(move);\n    r2 = new AlgWalkerDecoration(\n      1,\n      this.durationFn.traverseAlgNode(move),\n      transformation,\n      transformation.invert()\n    );\n    this.cache[key] = r2;\n    return r2;\n  }\n  traverseCommutator(commutator) {\n    const decA = this.traverseAlg(commutator.A);\n    const decB = this.traverseAlg(commutator.B);\n    const AB = decA.forward.applyTransformation(decB.forward);\n    const ApBp = decA.backward.applyTransformation(decB.backward);\n    const ABApBp = AB.applyTransformation(ApBp);\n    const dec = new AlgWalkerDecoration(\n      2 * (decA.moveCount + decB.moveCount),\n      2 * (decA.duration + decB.duration),\n      ABApBp,\n      ABApBp.invert(),\n      [decA, decB]\n    );\n    return this.mult(dec, 1, [dec, decA, decB]);\n  }\n  traverseConjugate(conjugate) {\n    const decA = this.traverseAlg(conjugate.A);\n    const decB = this.traverseAlg(conjugate.B);\n    const AB = decA.forward.applyTransformation(decB.forward);\n    const ABAp = AB.applyTransformation(decA.backward);\n    const dec = new AlgWalkerDecoration(\n      2 * decA.moveCount + decB.moveCount,\n      2 * decA.duration + decB.duration,\n      ABAp,\n      ABAp.invert(),\n      [decA, decB]\n    );\n    return this.mult(dec, 1, [dec, decA, decB]);\n  }\n  traversePause(pause) {\n    if (pause.experimentalNISSGrouping) {\n      return this.dummyLeaf;\n    }\n    return new AlgWalkerDecoration(\n      1,\n      this.durationFn.traverseAlgNode(pause),\n      this.identity,\n      this.identity\n    );\n  }\n  traverseNewline(_newline) {\n    return this.dummyLeaf;\n  }\n  traverseLineComment(_comment) {\n    return this.dummyLeaf;\n  }\n  mult(apd, n, child) {\n    const absn = Math.abs(n);\n    const st = apd.forward.selfMultiply(n);\n    return new AlgWalkerDecoration(\n      apd.moveCount * absn,\n      apd.duration * absn,\n      st,\n      st.invert(),\n      child\n    );\n  }\n};\nvar WalkerDown = class {\n  constructor(apd, back) {\n    this.apd = apd;\n    this.back = back;\n  }\n};\nvar AlgWalker = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalDownUp {\n  constructor(kpuzzle, algOrAlgNode, apd) {\n    super();\n    this.kpuzzle = kpuzzle;\n    this.algOrAlgNode = algOrAlgNode;\n    this.apd = apd;\n    this.i = -1;\n    this.dur = -1;\n    this.goali = -1;\n    this.goaldur = -1;\n    this.move = void 0;\n    this.back = false;\n    this.moveDuration = 0;\n    this.st = this.kpuzzle.identityTransformation();\n    this.root = new WalkerDown(this.apd, false);\n  }\n  moveByIndex(loc) {\n    if (this.i >= 0 && this.i === loc) {\n      return this.move !== void 0;\n    }\n    return this.dosearch(loc, Infinity);\n  }\n  moveByDuration(dur) {\n    if (this.dur >= 0 && this.dur < dur && this.dur + this.moveDuration >= dur) {\n      return this.move !== void 0;\n    }\n    return this.dosearch(Infinity, dur);\n  }\n  dosearch(loc, dur) {\n    this.goali = loc;\n    this.goaldur = dur;\n    this.i = 0;\n    this.dur = 0;\n    this.move = void 0;\n    this.moveDuration = 0;\n    this.back = false;\n    this.st = this.kpuzzle.identityTransformation();\n    const r2 = this.algOrAlgNode.is(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg) ? this.traverseAlg(this.algOrAlgNode, this.root) : this.traverseAlgNode(this.algOrAlgNode, this.root);\n    return r2;\n  }\n  traverseAlg(alg, wd) {\n    if (!this.firstcheck(wd)) {\n      return false;\n    }\n    let i = wd.back ? alg.experimentalNumChildAlgNodes() - 1 : 0;\n    for (const algNode of (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.directedGenerator)(\n      alg.childAlgNodes(),\n      wd.back ? -1 : 1\n      /* Forwards */\n    )) {\n      if (this.traverseAlgNode(\n        algNode,\n        new WalkerDown(wd.apd.children[i], wd.back)\n      )) {\n        return true;\n      }\n      i += wd.back ? -1 : 1;\n    }\n    return false;\n  }\n  traverseGrouping(grouping, wd) {\n    if (!this.firstcheck(wd)) {\n      return false;\n    }\n    const back = this.domult(wd, grouping.amount);\n    return this.traverseAlg(\n      grouping.alg,\n      new WalkerDown(wd.apd.children[0], back)\n    );\n  }\n  traverseMove(move, wd) {\n    if (!this.firstcheck(wd)) {\n      return false;\n    }\n    this.move = move;\n    this.moveDuration = wd.apd.duration;\n    this.back = wd.back;\n    return true;\n  }\n  traverseCommutator(commutator, wd) {\n    if (!this.firstcheck(wd)) {\n      return false;\n    }\n    const back = this.domult(wd, 1);\n    if (back) {\n      return this.traverseAlg(\n        commutator.B,\n        new WalkerDown(wd.apd.children[2], !back)\n      ) || this.traverseAlg(\n        commutator.A,\n        new WalkerDown(wd.apd.children[1], !back)\n      ) || this.traverseAlg(\n        commutator.B,\n        new WalkerDown(wd.apd.children[2], back)\n      ) || this.traverseAlg(commutator.A, new WalkerDown(wd.apd.children[1], back));\n    } else {\n      return this.traverseAlg(\n        commutator.A,\n        new WalkerDown(wd.apd.children[1], back)\n      ) || this.traverseAlg(\n        commutator.B,\n        new WalkerDown(wd.apd.children[2], back)\n      ) || this.traverseAlg(\n        commutator.A,\n        new WalkerDown(wd.apd.children[1], !back)\n      ) || this.traverseAlg(\n        commutator.B,\n        new WalkerDown(wd.apd.children[2], !back)\n      );\n    }\n  }\n  traverseConjugate(conjugate, wd) {\n    if (!this.firstcheck(wd)) {\n      return false;\n    }\n    const back = this.domult(wd, 1);\n    if (back) {\n      return this.traverseAlg(\n        conjugate.A,\n        new WalkerDown(wd.apd.children[1], !back)\n      ) || this.traverseAlg(\n        conjugate.B,\n        new WalkerDown(wd.apd.children[2], back)\n      ) || this.traverseAlg(conjugate.A, new WalkerDown(wd.apd.children[1], back));\n    } else {\n      return this.traverseAlg(\n        conjugate.A,\n        new WalkerDown(wd.apd.children[1], back)\n      ) || this.traverseAlg(\n        conjugate.B,\n        new WalkerDown(wd.apd.children[2], back)\n      ) || this.traverseAlg(conjugate.A, new WalkerDown(wd.apd.children[1], !back));\n    }\n  }\n  traversePause(pause, wd) {\n    if (!this.firstcheck(wd)) {\n      return false;\n    }\n    this.move = pause;\n    this.moveDuration = wd.apd.duration;\n    this.back = wd.back;\n    return true;\n  }\n  traverseNewline(_newline, _wd) {\n    return false;\n  }\n  traverseLineComment(_lineComment, _wd) {\n    return false;\n  }\n  firstcheck(wd) {\n    if (wd.apd.moveCount + this.i <= this.goali && wd.apd.duration + this.dur < this.goaldur) {\n      return this.keepgoing(wd);\n    }\n    return true;\n  }\n  domult(wd, amount) {\n    let back = wd.back;\n    if (amount === 0) {\n      return back;\n    }\n    if (amount < 0) {\n      back = !back;\n      amount = -amount;\n    }\n    const base = wd.apd.children[0];\n    const full = Math.min(\n      Math.floor((this.goali - this.i) / base.moveCount),\n      Math.ceil((this.goaldur - this.dur) / base.duration - 1)\n    );\n    if (full > 0) {\n      this.keepgoing(new WalkerDown(base, back), full);\n    }\n    return back;\n  }\n  keepgoing(wd, mul = 1) {\n    this.i += mul * wd.apd.moveCount;\n    this.dur += mul * wd.apd.duration;\n    if (mul !== 1) {\n      if (wd.back) {\n        this.st = this.st.applyTransformation(\n          wd.apd.backward.selfMultiply(mul)\n        );\n      } else {\n        this.st = this.st.applyTransformation(wd.apd.forward.selfMultiply(mul));\n      }\n    } else {\n      if (wd.back) {\n        this.st = this.st.applyTransformation(wd.apd.backward);\n      } else {\n        this.st = this.st.applyTransformation(wd.apd.forward);\n      }\n    }\n    return false;\n  }\n};\nvar MIN_CHUNKING_THRESHOLD = 16;\nfunction chunkifyAlg(alg, chunkMaxLength) {\n  const mainAlgBuilder = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.AlgBuilder();\n  const chunkAlgBuilder = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.AlgBuilder();\n  for (const algNode of alg.childAlgNodes()) {\n    chunkAlgBuilder.push(algNode);\n    if (chunkAlgBuilder.experimentalNumAlgNodes() >= chunkMaxLength) {\n      mainAlgBuilder.push(new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Grouping(chunkAlgBuilder.toAlg()));\n      chunkAlgBuilder.reset();\n    }\n  }\n  mainAlgBuilder.push(new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Grouping(chunkAlgBuilder.toAlg()));\n  return mainAlgBuilder.toAlg();\n}\nvar ChunkAlgs = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalUp {\n  traverseAlg(alg) {\n    const algLength = alg.experimentalNumChildAlgNodes();\n    if (algLength < MIN_CHUNKING_THRESHOLD) {\n      return alg;\n    }\n    return chunkifyAlg(alg, Math.ceil(Math.sqrt(algLength)));\n  }\n  traverseGrouping(grouping) {\n    return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Grouping(\n      this.traverseAlg(grouping.alg),\n      grouping.amount\n      // TODO\n    );\n  }\n  traverseMove(move) {\n    return move;\n  }\n  traverseCommutator(commutator) {\n    return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Conjugate(\n      this.traverseAlg(commutator.A),\n      this.traverseAlg(commutator.B)\n    );\n  }\n  traverseConjugate(conjugate) {\n    return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Conjugate(\n      this.traverseAlg(conjugate.A),\n      this.traverseAlg(conjugate.B)\n    );\n  }\n  traversePause(pause) {\n    return pause;\n  }\n  traverseNewline(newline) {\n    return newline;\n  }\n  traverseLineComment(comment) {\n    return comment;\n  }\n};\nvar chunkAlgs = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(ChunkAlgs);\nvar TreeAlgIndexer = class {\n  constructor(kpuzzle, alg) {\n    this.kpuzzle = kpuzzle;\n    const deccon = new DecoratorConstructor(this.kpuzzle);\n    const chunkedAlg = chunkAlgs(alg);\n    this.decoration = deccon.traverseAlg(chunkedAlg);\n    this.walker = new AlgWalker(this.kpuzzle, chunkedAlg, this.decoration);\n  }\n  getAnimLeaf(index) {\n    if (this.walker.moveByIndex(index)) {\n      if (!this.walker.move) {\n        throw new Error(\"`this.walker.mv` missing\");\n      }\n      const move = this.walker.move;\n      if (this.walker.back) {\n        return move.invert();\n      }\n      return move;\n    }\n    return null;\n  }\n  indexToMoveStartTimestamp(index) {\n    if (this.walker.moveByIndex(index) || this.walker.i === index) {\n      return this.walker.dur;\n    }\n    throw new Error(`Out of algorithm: index ${index}`);\n  }\n  indexToMovesInProgress(index) {\n    if (this.walker.moveByIndex(index) || this.walker.i === index) {\n      return this.walker.dur;\n    }\n    throw new Error(`Out of algorithm: index ${index}`);\n  }\n  patternAtIndex(index, startPattern) {\n    this.walker.moveByIndex(index);\n    return (startPattern ?? this.kpuzzle.defaultPattern()).applyTransformation(\n      this.walker.st\n    );\n  }\n  // TransformAtIndex does not reflect the start pattern; it only reflects\n  // the change from the start pattern to the current move index.  If you\n  // want the actual pattern, use patternAtIndex.\n  transformationAtIndex(index) {\n    this.walker.moveByIndex(index);\n    return this.walker.st;\n  }\n  numAnimatedLeaves() {\n    return this.decoration.moveCount;\n  }\n  timestampToIndex(timestamp) {\n    this.walker.moveByDuration(timestamp);\n    return this.walker.i;\n  }\n  algDuration() {\n    return this.decoration.duration;\n  }\n  moveDuration(index) {\n    this.walker.moveByIndex(index);\n    return this.walker.moveDuration;\n  }\n};\nvar IndexerConstructorProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    switch (inputs.indexerConstructorRequest) {\n      case \"auto\":\n        if (countMoves(inputs.alg.alg) < 100 && inputs.puzzle === \"3x3x3\" && inputs.visualizationStrategy === \"Cube3D\") {\n          return SimultaneousMoveIndexer;\n        } else {\n          return TreeAlgIndexer;\n        }\n      case \"tree\":\n        return TreeAlgIndexer;\n      case \"simple\":\n        return SimpleAlgIndexer;\n      case \"simultaneous\":\n        return SimultaneousMoveIndexer;\n      default:\n        throw new Error(\"Invalid indexer request!\");\n    }\n  }\n};\nvar IndexerConstructorRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar IndexerProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(input) {\n    return new input.indexerConstructor(input.kpuzzle, input.algWithIssues.alg);\n  }\n};\nvar LegacyPositionProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return {\n      pattern: inputs.currentPattern,\n      movesInProgress: inputs.currentMoveInfo.currentMoves\n    };\n  }\n};\nvar validate = true;\nvar PuzzleAlgProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  async derive(inputs) {\n    try {\n      if (validate) {\n        inputs.kpuzzle.algToTransformation(inputs.algWithIssues.alg);\n      }\n      return inputs.algWithIssues;\n    } catch (e) {\n      return {\n        alg: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(),\n        issues: new AlgIssues({\n          errors: [`Invalid alg for puzzle: ${e.toString()}`]\n        })\n      };\n    }\n  }\n};\nvar SetupAnchorProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"start\";\n  }\n};\nvar SetupTransformationProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return null;\n  }\n};\nvar KPuzzleProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  async derive(inputs) {\n    return inputs.puzzleLoader.kpuzzle();\n  }\n};\nvar PGPuzzleDescriptionStringProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE;\n  }\n};\nvar PuzzleIDProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  async derive(inputs) {\n    return inputs.puzzleLoader.id;\n  }\n};\nvar PuzzleIDRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE;\n  }\n};\nvar PuzzleLoaderProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    if (inputs.puzzleIDRequest && inputs.puzzleIDRequest !== _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE) {\n      const puzzleLoader = _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.puzzles[inputs.puzzleIDRequest];\n      if (!puzzleLoader) {\n        this.userVisibleErrorTracker.set({\n          errors: [`Invalid puzzle ID: ${inputs.puzzleIDRequest}`]\n        });\n      }\n      return puzzleLoader;\n    }\n    if (inputs.puzzleDescriptionRequest && inputs.puzzleDescriptionRequest !== _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE) {\n      return (0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customPGPuzzleLoader)(inputs.puzzleDescriptionRequest);\n    }\n    return _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.cube3x3x3;\n  }\n};\nvar CoarseTimelineInfoProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return {\n      playing: inputs.playingInfo.playing,\n      atStart: inputs.detailedTimelineInfo.atStart,\n      atEnd: inputs.detailedTimelineInfo.atEnd\n    };\n  }\n  canReuseValue(v1, v2) {\n    return v1.playing === v2.playing && v1.atStart === v2.atStart && v1.atEnd === v2.atEnd;\n  }\n};\nvar _requestedTimestampToMilliseconds, requestedTimestampToMilliseconds_fn, _a12;\nvar DetailedTimelineInfoProp = (_a12 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  constructor() {\n    super(...arguments);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _requestedTimestampToMilliseconds);\n  }\n  derive(inputs) {\n    let timestamp = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _requestedTimestampToMilliseconds, requestedTimestampToMilliseconds_fn).call(this, inputs);\n    let atStart = false;\n    let atEnd = false;\n    if (timestamp >= inputs.timeRange.end) {\n      atEnd = true;\n      timestamp = Math.min(inputs.timeRange.end, timestamp);\n    }\n    if (timestamp <= inputs.timeRange.start) {\n      atStart = true;\n      timestamp = Math.max(inputs.timeRange.start, timestamp);\n    }\n    return {\n      timestamp,\n      timeRange: inputs.timeRange,\n      atStart,\n      atEnd\n    };\n  }\n  canReuseValue(v1, v2) {\n    return v1.timestamp === v2.timestamp && v1.timeRange.start === v2.timeRange.start && v1.timeRange.end === v2.timeRange.end && v1.atStart === v2.atStart && v1.atEnd === v2.atEnd;\n  }\n}, _requestedTimestampToMilliseconds = new WeakSet(), requestedTimestampToMilliseconds_fn = function(inputs) {\n  switch (inputs.timestampRequest) {\n    case \"auto\":\n      return inputs.setupAnchor === \"start\" && inputs.setupAlg.alg.experimentalIsEmpty() ? inputs.timeRange.end : inputs.timeRange.start;\n    case \"start\":\n      return inputs.timeRange.start;\n    case \"end\":\n      return inputs.timeRange.end;\n    case \"anchor\":\n      return inputs.setupAnchor === \"start\" ? inputs.timeRange.start : inputs.timeRange.end;\n    case \"opposite-anchor\":\n      return inputs.setupAnchor === \"start\" ? inputs.timeRange.end : inputs.timeRange.start;\n    default:\n      return inputs.timestampRequest;\n  }\n}, _a12);\nvar PlayingInfoProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  async getDefaultValue() {\n    return {\n      direction: 1,\n      playing: false,\n      untilBoundary: \"entire-timeline\",\n      loop: false\n    };\n  }\n  async derive(newInfo, oldValuePromise) {\n    const oldValue = await oldValuePromise;\n    const newValue = Object.assign({}, oldValue);\n    Object.assign(newValue, newInfo);\n    return newValue;\n  }\n  canReuseValue(v1, v2) {\n    return v1.direction === v2.direction && v1.playing === v2.playing && v1.untilBoundary === v2.untilBoundary && v1.loop === v2.loop;\n  }\n};\nvar TempoScaleProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  getDefaultValue() {\n    return 1;\n  }\n  derive(v) {\n    return v < 0 ? 1 : v;\n  }\n};\nvar smartTimestamps = {\n  auto: true,\n  start: true,\n  end: true,\n  anchor: true,\n  \"opposite-anchor\": true\n};\nvar TimestampRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n  set(v) {\n    const currentValue = this.get();\n    super.set(\n      (async () => {\n        if (!this.validInput(await v)) {\n          return currentValue;\n        }\n        return v;\n      })()\n    );\n  }\n  validInput(v) {\n    if (typeof v === \"number\") {\n      return true;\n    }\n    if (smartTimestamps[v]) {\n      return true;\n    }\n    return false;\n  }\n};\nvar BackViewProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar TimeRangeProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return {\n      start: 0,\n      end: inputs.indexer.algDuration()\n    };\n  }\n};\nvar ViewerLinkProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar VisualizationFormatProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar VisualizationStrategyProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    switch (inputs.puzzleID) {\n      case \"clock\":\n      case \"square1\":\n      case \"redi_cube\":\n      case \"melindas2x2x2x2\":\n        return \"2D\";\n      case \"3x3x3\":\n        switch (inputs.visualizationRequest) {\n          case \"auto\":\n          case \"3D\":\n            return \"Cube3D\";\n          default:\n            return inputs.visualizationRequest;\n        }\n      default:\n        switch (inputs.visualizationRequest) {\n          case \"auto\":\n          case \"3D\":\n            return \"PG3D\";\n          case \"experimental-2D-LL\":\n            if ([\"2x2x2\", \"4x4x4\", \"megaminx\"].includes(inputs.puzzleID)) {\n              return \"experimental-2D-LL\";\n            } else {\n              return \"2D\";\n            }\n          default:\n            return inputs.visualizationRequest;\n        }\n    }\n  }\n};\nvar FaceletScaleProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar FoundationDisplayProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar InitialHintFaceletsAnimationProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar cachedLoader = null;\nasync function loader() {\n  return cachedLoader ?? (cachedLoader = new (await _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.THREEJS).TextureLoader());\n}\nvar SpriteProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  async derive(inputs) {\n    const { spriteURL: textureURL } = inputs;\n    if (textureURL === null) {\n      return null;\n    }\n    return new Promise(async (resolve, _reject) => {\n      const onLoadingError = () => {\n        console.warn(\"Could not load sprite:\", textureURL.toString());\n        resolve(null);\n      };\n      try {\n        (await loader()).load(\n          textureURL.toString(),\n          resolve,\n          onLoadingError,\n          onLoadingError\n        );\n      } catch (e) {\n        onLoadingError();\n      }\n    });\n  }\n};\nvar r = {\n  facelets: [\"regular\", \"regular\", \"regular\", \"regular\", \"regular\"]\n};\nasync function fullStickeringMask(puzzleLoader) {\n  const { definition } = await puzzleLoader.kpuzzle();\n  const fullStickeringMask2 = { orbits: {} };\n  for (const orbitDefinition of definition.orbits) {\n    fullStickeringMask2.orbits[orbitDefinition.orbitName] = {\n      pieces: new Array(orbitDefinition.numPieces).fill(r)\n    };\n  }\n  return fullStickeringMask2;\n}\nvar StickeringMaskProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  getDefaultValue() {\n    return { orbits: {} };\n  }\n  async derive(inputs) {\n    if (inputs.stickeringMaskRequest) {\n      return inputs.stickeringMaskRequest;\n    }\n    if (inputs.stickeringRequest === \"picture\") {\n      return {\n        specialBehaviour: \"picture\",\n        orbits: {}\n      };\n    }\n    return inputs.puzzleLoader.stickeringMask?.(\n      inputs.stickeringRequest ?? \"full\"\n    ) ?? fullStickeringMask(inputs.puzzleLoader);\n  }\n  // TODO: Implement canReuseValue?\n};\nvar charMap = {\n  \"-\": \"Regular\",\n  D: \"Dim\",\n  I: \"Ignored\",\n  // o: ExperimentalPieceStickering.OrientationStickers, // TODO: hack for centers\n  X: \"Invisible\",\n  O: \"IgnoreNonPrimary\",\n  // orient color known\n  P: \"PermuteNonPrimary\",\n  // Example: PLL\n  o: \"Ignoriented\",\n  // Example: LL edges during CLS\n  \"?\": \"OrientationWithoutPermutation\",\n  // ACube: ignore position\n  \"@\": \"Regular\"\n  /* Regular */\n  // ACube: ignore orientation // TODO: distinguish from \"regular\"\n};\nfunction parseSerializedStickeringMask(serializedStickeringMask) {\n  const stickeringMask = {\n    orbits: {}\n  };\n  const serializedOrbits = serializedStickeringMask.split(\",\");\n  for (const serializedOrbit of serializedOrbits) {\n    const [orbitName, serializedOrbitPieces, ...rest] = serializedOrbit.split(\":\");\n    if (rest.length > 0) {\n      throw new Error(\n        `Invalid serialized orbit stickering mask (too many colons): \\`${serializedOrbit}\\``\n      );\n    }\n    const pieces = [];\n    stickeringMask.orbits[orbitName] = { pieces };\n    for (const char of serializedOrbitPieces) {\n      const pieceStickering = charMap[char];\n      pieces.push((0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.getPieceStickeringMask)(pieceStickering));\n    }\n  }\n  return stickeringMask;\n}\nvar StickeringMaskRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  getDefaultValue() {\n    return null;\n  }\n  derive(input) {\n    if (input === null) {\n      return null;\n    } else if (typeof input === \"string\") {\n      return parseSerializedStickeringMask(input);\n    } else {\n      return input;\n    }\n  }\n};\nvar StickeringRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return null;\n  }\n};\nvar DragInputProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar MovePressCancelOptions = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return {};\n  }\n};\nvar MovePressInputProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar BackgroundProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar ColorSchemeProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return inputs.colorSchemeRequest === \"dark\" ? \"dark\" : \"light\";\n  }\n};\nvar ColorSchemeRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n};\nvar DOMElementReferenceProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return null;\n  }\n};\nvar DEFAULT_LATITUDE_LIMIT = 35;\nvar LatitudeLimitProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return DEFAULT_LATITUDE_LIMIT;\n  }\n};\nfunction orbitCoordinatesEqual(c1, c2) {\n  return c1.latitude === c2.latitude && c1.longitude === c2.longitude && c1.distance === c2.distance;\n}\nvar OrbitCoordinatesRequestProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  getDefaultValue() {\n    return \"auto\";\n  }\n  canReuseValue(v1, v2) {\n    return v1 === v2 || orbitCoordinatesEqual(v1, v2);\n  }\n  async derive(newCoordinates, oldValuePromise) {\n    if (newCoordinates === \"auto\") {\n      return \"auto\";\n    }\n    let oldValue = await oldValuePromise;\n    if (oldValue === \"auto\") {\n      oldValue = {};\n    }\n    const newValue = Object.assign({}, oldValue);\n    Object.assign(newValue, newCoordinates);\n    if (typeof newValue.latitude !== \"undefined\") {\n      newValue.latitude = Math.min(Math.max(newValue.latitude, -90), 90);\n    }\n    if (typeof newValue.longitude !== \"undefined\") {\n      newValue.longitude = modIntoRange(newValue.longitude, 180, -180);\n    }\n    return newValue;\n  }\n};\nvar OrbitCoordinatesProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  canReuseValue(v1, v2) {\n    return orbitCoordinatesEqual(v1, v2);\n  }\n  async derive(inputs) {\n    if (inputs.orbitCoordinatesRequest === \"auto\") {\n      return defaultCameraOrbitCoordinates(inputs.puzzleID, inputs.strategy);\n    }\n    const req = Object.assign(\n      Object.assign(\n        {},\n        defaultCameraOrbitCoordinates(inputs.puzzleID, inputs.strategy),\n        inputs.orbitCoordinatesRequest\n      )\n    );\n    if (Math.abs(req.latitude) <= inputs.latitudeLimit) {\n      return req;\n    } else {\n      const { latitude, longitude, distance } = req;\n      return {\n        latitude: inputs.latitudeLimit * Math.sign(latitude),\n        longitude,\n        distance\n      };\n    }\n  }\n};\nvar centeredCameraOrbitCoordinates = {\n  latitude: 31.717474411461005,\n  longitude: 0,\n  distance: 5.877852522924731\n};\nvar cubeCube3DCameraOrbitCoordinates = {\n  latitude: 35,\n  longitude: 30,\n  distance: 6\n};\nvar cubePG3DCameraOrbitCoordinates = {\n  latitude: 35,\n  longitude: 30,\n  distance: 6.25\n};\nvar megaminxCameraOrbitCoordinates = {\n  latitude: Math.atan(1 / 2) * _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.DEGREES_PER_RADIAN,\n  longitude: 0,\n  distance: 6.7\n};\nvar pyraminxCameraOrbitCoordinates = {\n  latitude: 26.56505117707799,\n  longitude: 0,\n  distance: 6\n};\nfunction defaultCameraOrbitCoordinates(puzzleID, strategy) {\n  if (puzzleID[1] === \"x\") {\n    if (strategy === \"Cube3D\") {\n      return cubeCube3DCameraOrbitCoordinates;\n    } else {\n      return cubePG3DCameraOrbitCoordinates;\n    }\n  } else {\n    switch (puzzleID) {\n      case \"megaminx\":\n      case \"gigaminx\":\n        return megaminxCameraOrbitCoordinates;\n      case \"pyraminx\":\n      case \"master_tetraminx\":\n        return pyraminxCameraOrbitCoordinates;\n      case \"skewb\":\n        return cubePG3DCameraOrbitCoordinates;\n      default:\n        return centeredCameraOrbitCoordinates;\n    }\n  }\n}\nvar TwistySceneModel = class {\n  constructor(twistyPlayerModel) {\n    this.twistyPlayerModel = twistyPlayerModel;\n    this.background = new BackgroundProp();\n    this.colorSchemeRequest = new ColorSchemeRequestProp();\n    this.dragInput = new DragInputProp();\n    this.foundationDisplay = new FoundationDisplayProp();\n    this.foundationStickerSpriteURL = new URLProp();\n    this.fullscreenElement = new DOMElementReferenceProp();\n    this.hintFacelet = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.HintFaceletProp();\n    this.hintStickerSpriteURL = new URLProp();\n    this.initialHintFaceletsAnimation = new InitialHintFaceletsAnimationProp();\n    this.latitudeLimit = new LatitudeLimitProp();\n    this.movePressInput = new MovePressInputProp();\n    this.movePressCancelOptions = new MovePressCancelOptions();\n    this.orbitCoordinatesRequest = new OrbitCoordinatesRequestProp();\n    this.stickeringMaskRequest = new StickeringMaskRequestProp();\n    this.stickeringRequest = new StickeringRequestProp();\n    this.faceletScale = new FaceletScaleProp();\n    this.colorScheme = new ColorSchemeProp({\n      colorSchemeRequest: this.colorSchemeRequest\n    });\n    this.foundationStickerSprite = new SpriteProp({\n      spriteURL: this.foundationStickerSpriteURL\n    });\n    this.hintStickerSprite = new SpriteProp({\n      spriteURL: this.hintStickerSpriteURL\n    });\n    this.orbitCoordinates = new OrbitCoordinatesProp({\n      orbitCoordinatesRequest: this.orbitCoordinatesRequest,\n      latitudeLimit: this.latitudeLimit,\n      puzzleID: twistyPlayerModel.puzzleID,\n      strategy: twistyPlayerModel.visualizationStrategy\n    });\n    this.stickeringMask = new StickeringMaskProp({\n      stickeringMaskRequest: this.stickeringMaskRequest,\n      stickeringRequest: this.stickeringRequest,\n      puzzleLoader: twistyPlayerModel.puzzleLoader\n    });\n  }\n};\nvar EMPTY_ERRORS = { errors: [] };\nvar UserVisibleErrorTracker = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return EMPTY_ERRORS;\n  }\n  reset() {\n    this.set(this.getDefaultValue());\n  }\n  canReuseValue(_v1, _v2) {\n    return arrayEquals(_v1.errors, _v2.errors);\n  }\n};\nvar TwistyPlayerModel = class {\n  constructor() {\n    this.userVisibleErrorTracker = new UserVisibleErrorTracker();\n    this.alg = new AlgProp();\n    this.backView = new BackViewProp();\n    this.controlPanel = new ControlPanelProp();\n    this.catchUpMove = new CatchUpMoveProp();\n    this.indexerConstructorRequest = new IndexerConstructorRequestProp();\n    this.playingInfo = new PlayingInfoProp();\n    this.puzzleDescriptionRequest = new PGPuzzleDescriptionStringProp();\n    this.puzzleIDRequest = new PuzzleIDRequestProp();\n    this.setupAnchor = new SetupAnchorProp();\n    this.setupAlg = new AlgProp();\n    this.setupTransformation = new SetupTransformationProp();\n    this.tempoScale = new TempoScaleProp();\n    this.timestampRequest = new TimestampRequestProp();\n    this.viewerLink = new ViewerLinkProp();\n    this.visualizationFormat = new VisualizationFormatProp();\n    this.title = new ArbitraryStringProp();\n    this.videoURL = new URLProp();\n    this.competitionID = new ArbitraryStringProp();\n    this.puzzleLoader = new PuzzleLoaderProp(\n      {\n        puzzleIDRequest: this.puzzleIDRequest,\n        puzzleDescriptionRequest: this.puzzleDescriptionRequest\n      },\n      this.userVisibleErrorTracker\n    );\n    this.kpuzzle = new KPuzzleProp({ puzzleLoader: this.puzzleLoader });\n    this.puzzleID = new PuzzleIDProp({ puzzleLoader: this.puzzleLoader });\n    this.puzzleAlg = new PuzzleAlgProp({\n      algWithIssues: this.alg,\n      kpuzzle: this.kpuzzle\n    });\n    this.puzzleSetupAlg = new PuzzleAlgProp({\n      algWithIssues: this.setupAlg,\n      kpuzzle: this.kpuzzle\n    });\n    this.visualizationStrategy = new VisualizationStrategyProp({\n      visualizationRequest: this.visualizationFormat,\n      puzzleID: this.puzzleID\n    });\n    this.indexerConstructor = new IndexerConstructorProp({\n      alg: this.alg,\n      puzzle: this.puzzleID,\n      visualizationStrategy: this.visualizationStrategy,\n      indexerConstructorRequest: this.indexerConstructorRequest\n    });\n    this.setupAlgTransformation = new AlgTransformationProp({\n      setupAlg: this.puzzleSetupAlg,\n      kpuzzle: this.kpuzzle\n    });\n    this.indexer = new IndexerProp({\n      indexerConstructor: this.indexerConstructor,\n      algWithIssues: this.puzzleAlg,\n      kpuzzle: this.kpuzzle\n    });\n    this.anchorTransformation = new AnchorTransformationProp({\n      setupTransformation: this.setupTransformation,\n      setupAnchor: this.setupAnchor,\n      setupAlgTransformation: this.setupAlgTransformation,\n      indexer: this.indexer\n    });\n    this.timeRange = new TimeRangeProp({\n      indexer: this.indexer\n    });\n    this.detailedTimelineInfo = new DetailedTimelineInfoProp(\n      {\n        timestampRequest: this.timestampRequest,\n        timeRange: this.timeRange,\n        setupAnchor: this.setupAnchor,\n        setupAlg: this.setupAlg\n      }\n    );\n    this.coarseTimelineInfo = new CoarseTimelineInfoProp({\n      detailedTimelineInfo: this.detailedTimelineInfo,\n      playingInfo: this.playingInfo\n    });\n    this.currentMoveInfo = new CurrentMoveInfoProp({\n      indexer: this.indexer,\n      detailedTimelineInfo: this.detailedTimelineInfo,\n      catchUpMove: this.catchUpMove\n    });\n    this.buttonAppearance = new ButtonAppearanceProp({\n      coarseTimelineInfo: this.coarseTimelineInfo,\n      viewerLink: this.viewerLink\n    });\n    this.currentLeavesSimplified = new CurrentLeavesSimplifiedProp({\n      currentMoveInfo: this.currentMoveInfo\n    });\n    this.currentPattern = new CurrentPatternProp({\n      anchoredStart: this.anchorTransformation,\n      currentLeavesSimplified: this.currentLeavesSimplified,\n      indexer: this.indexer\n    });\n    this.legacyPosition = new LegacyPositionProp({\n      currentMoveInfo: this.currentMoveInfo,\n      currentPattern: this.currentPattern\n    });\n    this.twistySceneModel = new TwistySceneModel(this);\n  }\n  async twizzleLink() {\n    const [\n      viewerLink,\n      puzzleID,\n      puzzleDescription,\n      alg,\n      setup,\n      anchor,\n      experimentalStickeringRequest,\n      experimentalTitle\n    ] = await Promise.all([\n      this.viewerLink.get(),\n      this.puzzleID.get(),\n      this.puzzleDescriptionRequest.get(),\n      this.alg.get(),\n      this.setupAlg.get(),\n      this.setupAnchor.get(),\n      this.twistySceneModel.stickeringRequest.get(),\n      this.twistySceneModel.twistyPlayerModel.title.get()\n    ]);\n    const isExplorer = viewerLink === \"experimental-twizzle-explorer\";\n    const url = new URL(\n      `https://alpha.twizzle.net/${isExplorer ? \"explore\" : \"edit\"}/`\n    );\n    if (!alg.alg.experimentalIsEmpty()) {\n      url.searchParams.set(\"alg\", alg.alg.toString());\n    }\n    if (!setup.alg.experimentalIsEmpty()) {\n      url.searchParams.set(\"setup-alg\", setup.alg.toString());\n    }\n    if (anchor !== \"start\") {\n      url.searchParams.set(\"setup-anchor\", anchor);\n    }\n    if (experimentalStickeringRequest !== \"full\" && experimentalStickeringRequest !== null) {\n      url.searchParams.set(\n        \"experimental-stickering\",\n        experimentalStickeringRequest\n      );\n    }\n    if (isExplorer && puzzleDescription !== _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.NO_VALUE) {\n      url.searchParams.set(\"puzzle-description\", puzzleDescription);\n    } else if (puzzleID !== \"3x3x3\") {\n      url.searchParams.set(\"puzzle\", puzzleID);\n    }\n    if (experimentalTitle) {\n      url.searchParams.set(\"title\", experimentalTitle);\n    }\n    return url.toString();\n  }\n  experimentalAddAlgLeaf(algLeaf, options) {\n    const maybeMove = algLeaf.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n    if (maybeMove) {\n      this.experimentalAddMove(maybeMove, options);\n    } else {\n      this.alg.set(\n        (async () => {\n          const alg = (await this.alg.get()).alg;\n          const newAlg = alg.concat(new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg([algLeaf]));\n          this.timestampRequest.set(\"end\");\n          return newAlg;\n        })()\n      );\n    }\n  }\n  // TODO: Animate the new move.\n  experimentalAddMove(flexibleMove, options) {\n    const move = typeof flexibleMove === \"string\" ? new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move(flexibleMove) : flexibleMove;\n    this.alg.set(\n      (async () => {\n        const [{ alg }, puzzleLoader] = await Promise.all([\n          this.alg.get(),\n          this.puzzleLoader.get()\n        ]);\n        const newAlg = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.experimentalAppendMove)(alg, move, {\n          ...options,\n          ...await (0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.getPartialAppendOptionsForPuzzleSpecificSimplifyOptions)(\n            puzzleLoader\n          )\n        });\n        this.timestampRequest.set(\"end\");\n        this.catchUpMove.set({\n          move,\n          amount: 0\n        });\n        return newAlg;\n      })()\n    );\n  }\n  // TODO: allow more than 1?\n  experimentalRemoveFinalChild() {\n    this.alg.set(\n      (async () => {\n        const alg = (await this.alg.get()).alg;\n        const children = Array.from(alg.childAlgNodes());\n        const [finalChild] = children.splice(-1);\n        if (!finalChild) {\n          return alg;\n        }\n        this.timestampRequest.set(\"end\");\n        const finalChildMove = finalChild.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Move);\n        if (finalChildMove) {\n          this.catchUpMove.set({\n            move: finalChildMove.invert(),\n            amount: 0\n          });\n        }\n        return new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(children);\n      })()\n    );\n  }\n};\nfunction err(propName) {\n  return new Error(\n    `Cannot get \\`.${propName}\\` directly from a \\`TwistyPlayer\\`.`\n  );\n}\nvar TwistyPlayerSettable = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor() {\n    super(...arguments);\n    this.experimentalModel = new TwistyPlayerModel();\n    this.experimentalGet = new ExperimentalGetters(this.experimentalModel);\n  }\n  set alg(newAlg) {\n    this.experimentalModel.alg.set(newAlg);\n  }\n  get alg() {\n    throw err(\"alg\");\n  }\n  set experimentalSetupAlg(newSetup) {\n    this.experimentalModel.setupAlg.set(newSetup);\n  }\n  get experimentalSetupAlg() {\n    throw err(\"setup\");\n  }\n  set experimentalSetupAnchor(anchor) {\n    this.experimentalModel.setupAnchor.set(anchor);\n  }\n  get experimentalSetupAnchor() {\n    throw err(\"anchor\");\n  }\n  set puzzle(puzzleID) {\n    this.experimentalModel.puzzleIDRequest.set(puzzleID);\n  }\n  get puzzle() {\n    throw err(\"puzzle\");\n  }\n  set experimentalPuzzleDescription(puzzleDescription) {\n    this.experimentalModel.puzzleDescriptionRequest.set(puzzleDescription);\n  }\n  get experimentalPuzzleDescription() {\n    throw err(\"experimentalPuzzleDescription\");\n  }\n  set timestamp(timestamp) {\n    this.experimentalModel.timestampRequest.set(timestamp);\n  }\n  get timestamp() {\n    throw err(\"timestamp\");\n  }\n  set hintFacelets(hintFaceletStyle) {\n    this.experimentalModel.twistySceneModel.hintFacelet.set(hintFaceletStyle);\n  }\n  get hintFacelets() {\n    throw err(\"hintFacelets\");\n  }\n  set experimentalStickering(stickering) {\n    this.experimentalModel.twistySceneModel.stickeringRequest.set(stickering);\n  }\n  get experimentalStickering() {\n    throw err(\"experimentalStickering\");\n  }\n  set experimentalStickeringMaskOrbits(stickeringMask) {\n    this.experimentalModel.twistySceneModel.stickeringMaskRequest.set(\n      stickeringMask\n    );\n  }\n  get experimentalStickeringMaskOrbits() {\n    throw err(\"experimentalStickeringMaskOrbits\");\n  }\n  set experimentalFaceletScale(faceletScale) {\n    this.experimentalModel.twistySceneModel.faceletScale.set(faceletScale);\n  }\n  get experimentalFaceletScale() {\n    throw err(\"experimentalFaceletScale\");\n  }\n  set backView(backView) {\n    this.experimentalModel.backView.set(backView);\n  }\n  get backView() {\n    throw err(\"backView\");\n  }\n  set background(backgroundTheme) {\n    this.experimentalModel.twistySceneModel.background.set(backgroundTheme);\n  }\n  get background() {\n    throw err(\"background\");\n  }\n  set colorScheme(colorScheme) {\n    this.experimentalModel.twistySceneModel.colorSchemeRequest.set(colorScheme);\n  }\n  get colorScheme() {\n    throw err(\"colorScheme\");\n  }\n  set controlPanel(newControlPanel) {\n    this.experimentalModel.controlPanel.set(newControlPanel);\n  }\n  get controlPanel() {\n    throw err(\"controlPanel\");\n  }\n  set visualization(visualizationFormat) {\n    this.experimentalModel.visualizationFormat.set(visualizationFormat);\n  }\n  get visualization() {\n    throw err(\"visualization\");\n  }\n  set experimentalTitle(title) {\n    this.experimentalModel.title.set(title);\n  }\n  get experimentalTitle() {\n    throw err(\"experimentalTitle\");\n  }\n  set experimentalVideoURL(videoURL) {\n    this.experimentalModel.videoURL.set(videoURL);\n  }\n  get experimentalVideoURL() {\n    throw err(\"experimentalVideoURL\");\n  }\n  set experimentalCompetitionID(competitionID) {\n    this.experimentalModel.competitionID.set(competitionID);\n  }\n  get experimentalCompetitionID() {\n    throw err(\"experimentalCompetitionID\");\n  }\n  set viewerLink(viewerLinkPage) {\n    this.experimentalModel.viewerLink.set(viewerLinkPage);\n  }\n  get viewerLink() {\n    throw err(\"viewerLink\");\n  }\n  set experimentalMovePressInput(movePressInput) {\n    this.experimentalModel.twistySceneModel.movePressInput.set(movePressInput);\n  }\n  get experimentalMovePressInput() {\n    throw err(\"experimentalMovePressInput\");\n  }\n  set experimentalMovePressCancelOptions(movePressCancelOptions) {\n    this.experimentalModel.twistySceneModel.movePressCancelOptions.set(\n      movePressCancelOptions\n    );\n  }\n  get experimentalMovePressCancelOptions() {\n    throw err(\"experimentalMovePressCancelOptions\");\n  }\n  set cameraLatitude(latitude) {\n    this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({\n      latitude\n    });\n  }\n  get cameraLatitude() {\n    throw err(\"cameraLatitude\");\n  }\n  set cameraLongitude(longitude) {\n    this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({\n      longitude\n    });\n  }\n  get cameraLongitude() {\n    throw err(\"cameraLongitude\");\n  }\n  set cameraDistance(distance) {\n    this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({\n      distance\n    });\n  }\n  get cameraDistance() {\n    throw err(\"cameraDistance\");\n  }\n  set cameraLatitudeLimit(latitudeLimit) {\n    this.experimentalModel.twistySceneModel.latitudeLimit.set(latitudeLimit);\n  }\n  get cameraLatitudeLimit() {\n    throw err(\"cameraLatitudeLimit\");\n  }\n  set indexer(indexer) {\n    this.experimentalModel.indexerConstructorRequest.set(indexer);\n  }\n  get indexer() {\n    throw err(\"indexer\");\n  }\n  set tempoScale(newTempoScale) {\n    this.experimentalModel.tempoScale.set(newTempoScale);\n  }\n  get tempoScale() {\n    throw err(\"tempoScale\");\n  }\n  set experimentalSprite(url) {\n    this.experimentalModel.twistySceneModel.foundationStickerSpriteURL.set(url);\n  }\n  get experimentalSprite() {\n    throw err(\"experimentalSprite\");\n  }\n  set experimentalHintSprite(url) {\n    this.experimentalModel.twistySceneModel.hintStickerSpriteURL.set(url);\n  }\n  get experimentalHintSprite() {\n    throw err(\"experimentalHintSprite\");\n  }\n  set fullscreenElement(element) {\n    this.experimentalModel.twistySceneModel.fullscreenElement.set(element);\n  }\n  get fullscreenElement() {\n    throw err(\"fullscreenElement\");\n  }\n  set experimentalInitialHintFaceletsAnimation(anim) {\n    this.experimentalModel.twistySceneModel.initialHintFaceletsAnimation.set(\n      anim\n    );\n  }\n  get experimentalInitialHintFaceletsAnimation() {\n    throw err(\"experimentalInitialHintFaceletsAnimation\");\n  }\n  set experimentalDragInput(dragInputMode) {\n    this.experimentalModel.twistySceneModel.dragInput.set(dragInputMode);\n  }\n  get experimentalDragInput() {\n    throw err(\"experimentalDragInput\");\n  }\n};\nvar ExperimentalGetters = class {\n  constructor(model) {\n    this.model = model;\n  }\n  async alg() {\n    return (await this.model.alg.get()).alg;\n  }\n  async setupAlg() {\n    return (await this.model.setupAlg.get()).alg;\n  }\n  puzzleID() {\n    return this.model.puzzleID.get();\n  }\n  async timestamp() {\n    return (await this.model.detailedTimelineInfo.get()).timestamp;\n  }\n};\nvar DATA_ATTRIBUTE_PREFIX = \"data-\";\nvar twistyPlayerAttributeMap = {\n  // TODO: We assume each of these can be set using a string or will be automatically converted by JS (e.g. numbers). Can we enforce\n  // that with types? Do we need to add a translation mechanism for things we\n  // don't want to leave settable as strings?\n  // TODO: Enum validation.\n  // Alg\n  alg: \"alg\",\n  \"experimental-setup-alg\": \"experimentalSetupAlg\",\n  // String-based\n  \"experimental-setup-anchor\": \"experimentalSetupAnchor\",\n  puzzle: \"puzzle\",\n  \"experimental-puzzle-description\": \"experimentalPuzzleDescription\",\n  visualization: \"visualization\",\n  \"hint-facelets\": \"hintFacelets\",\n  \"experimental-stickering\": \"experimentalStickering\",\n  \"experimental-stickering-mask-orbits\": \"experimentalStickeringMaskOrbits\",\n  background: \"background\",\n  \"color-scheme\": \"colorScheme\",\n  \"control-panel\": \"controlPanel\",\n  \"back-view\": \"backView\",\n  \"experimental-initial-hint-facelets-animation\": \"experimentalInitialHintFaceletsAnimation\",\n  // \"indexer\": \"indexer\",\n  \"viewer-link\": \"viewerLink\",\n  \"experimental-move-press-input\": \"experimentalMovePressInput\",\n  \"experimental-drag-input\": \"experimentalDragInput\",\n  // Metadata\n  \"experimental-title\": \"experimentalTitle\",\n  \"experimental-video-url\": \"experimentalVideoURL\",\n  \"experimental-competition-id\": \"experimentalCompetitionID\",\n  // Number-based\n  \"camera-latitude\": \"cameraLatitude\",\n  \"camera-longitude\": \"cameraLongitude\",\n  \"camera-distance\": \"cameraDistance\",\n  \"camera-latitude-limit\": \"cameraLatitudeLimit\",\n  \"tempo-scale\": \"tempoScale\",\n  // URL-based\n  \"experimental-sprite\": \"experimentalSprite\",\n  \"experimental-hint-sprite\": \"experimentalHintSprite\"\n};\nvar configKeys = Object.fromEntries(\n  Object.values(twistyPlayerAttributeMap).map((s) => [s, true])\n);\nvar propOnly = {\n  experimentalMovePressCancelOptions: true\n};\nvar _controlsManager, _visualizationWrapperElem, _errorElem, _alreadyConnected, _flashLevel, _visualizationWrapper, _initial3DVisualizationWrapper, _visualizationStrategy, _setVisualizationWrapper, setVisualizationWrapper_fn, _a13;\nvar TwistyPlayer = (_a13 = class extends TwistyPlayerSettable {\n  // #onCanvasClick() {\n  // }\n  constructor(config = {}) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _setVisualizationWrapper);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _controlsManager, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _visualizationWrapperElem, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _errorElem, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _alreadyConnected, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _flashLevel, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _visualizationWrapper, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _initial3DVisualizationWrapper, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _visualizationStrategy, void 0);\n    this.controller = new TwistyPlayerController(\n      this.experimentalModel,\n      this\n    );\n    this.experimentalCanvasClickCallback = () => {\n    };\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _controlsManager, new ClassListManager(\n      this,\n      \"controls-\",\n      [\"auto\"].concat(\n        Object.keys(controlsLocations)\n      )\n    ));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _visualizationWrapperElem, document.createElement(\"div\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _errorElem, document.createElement(\"div\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _alreadyConnected, false);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _flashLevel, \"auto\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _visualizationWrapper, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _initial3DVisualizationWrapper, new InitialValueTracker());\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _visualizationStrategy, null);\n    for (const [propName, value] of Object.entries(config)) {\n      if (!(configKeys[propName] || propOnly[propName])) {\n        console.warn(`Invalid config passed to TwistyPlayer: ${propName}`);\n        break;\n      }\n      this[propName] = value;\n    }\n  }\n  // TODO: support resetting\n  async connectedCallback() {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _alreadyConnected)) {\n      return;\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _alreadyConnected, true);\n    this.addCSS(twistyPlayerCSS);\n    this.addElement((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapperElem)).classList.add(\n      \"visualization-wrapper\"\n    );\n    this.addElement((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _errorElem)).classList.add(\"error-elem\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _errorElem).textContent = \"Error\";\n    this.experimentalModel.userVisibleErrorTracker.addFreshListener(\n      (userVisibleError) => {\n        const errorString = userVisibleError.errors[0] ?? null;\n        this.contentWrapper.classList.toggle(\"error\", !!errorString);\n        if (errorString) {\n          (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _errorElem).textContent = errorString;\n        }\n      }\n    );\n    const scrubber = new TwistyScrubber(\n      this.experimentalModel,\n      this.controller\n    );\n    this.contentWrapper.appendChild(scrubber);\n    this.buttons = new TwistyButtons(\n      this.experimentalModel,\n      this.controller,\n      this\n    );\n    this.contentWrapper.appendChild(this.buttons);\n    this.experimentalModel.twistySceneModel.background.addFreshListener(\n      (backgroundTheme) => {\n        this.contentWrapper.classList.toggle(\n          \"checkered\",\n          [\"auto\", \"checkered\"].includes(backgroundTheme)\n        );\n        this.contentWrapper.classList.toggle(\n          \"checkered-transparent\",\n          backgroundTheme === \"checkered-transparent\"\n        );\n      }\n    );\n    this.experimentalModel.twistySceneModel.colorScheme.addFreshListener(\n      (colorScheme) => {\n        this.contentWrapper.classList.toggle(\n          \"dark-mode\",\n          [\"dark\"].includes(colorScheme)\n        );\n      }\n    );\n    this.experimentalModel.controlPanel.addFreshListener(\n      (controlPanel) => {\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _controlsManager).setValue(controlPanel);\n      }\n    );\n    this.experimentalModel.visualizationStrategy.addFreshListener(\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _setVisualizationWrapper, setVisualizationWrapper_fn).bind(this)\n    );\n    this.experimentalModel.puzzleID.addFreshListener(this.flash.bind(this));\n  }\n  /** @deprecated */\n  experimentalSetFlashLevel(newLevel) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _flashLevel, newLevel);\n  }\n  flash() {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _flashLevel) === \"auto\") {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapper)?.animate([{ opacity: 0.25 }, { opacity: 1 }], {\n        duration: 250,\n        easing: \"ease-out\"\n      });\n    }\n  }\n  async experimentalCurrentVantages() {\n    this.connectedCallback();\n    const wrapper = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapper);\n    if (wrapper instanceof Twisty3DSceneWrapper) {\n      return wrapper.experimentalVantages();\n    }\n    return [];\n  }\n  async experimentalCurrentCanvases() {\n    const vantages = await this.experimentalCurrentVantages();\n    const canvases = [];\n    for (const vantage of vantages) {\n      canvases.push((await vantage.canvasInfo()).canvas);\n    }\n    return canvases;\n  }\n  /**\n   * Get the first available puzzle `Object3D`. This can be inserted into\n   * another `three.js` scene, essentially \"adopting\" it from the\n   * `TwistyPlayer`'s scenes while still allowing the `TwistyPlayer` to animate\n   * it. The function returns a `Promise` that returns if and when the\n   * `Object3D` is available, and accepts a callback that is called whenever a\n   * render is scheduled for the puzzle (essentially, if something about the\n   * puzzle has changed, like its appearance or current animated state).\n   *\n   * Note:\n   * - This may never resolve if the player never creates the relevant 3D object\n   *   under the hood (e.g. if the config is set to 2D, or is not valid for\n   *   rendering a puzzle)\n   * - The architecture of `cubing.js` may change significantly, so it is not\n   *   guaranteed that a `three.js` `Object3D` will be available from the main\n   *   thread in the future.\n   * - This function only returns the current `three.js` puzzle object (once one\n   *   exists). If you change e.g. the `puzzle` config for the player, then the\n   *   object will currently become stale. This may be replaced with more\n   *   convenient behaviour in the future.\n   *\n   * @deprecated */\n  async experimentalCurrentThreeJSPuzzleObject(puzzleRenderScheduledCallback) {\n    this.connectedCallback();\n    const sceneWrapper = await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _initial3DVisualizationWrapper).promise;\n    const puzzleWrapper = await sceneWrapper.experimentalTwisty3DPuzzleWrapper();\n    const twisty3DPuzzlePromise = puzzleWrapper.twisty3DPuzzle();\n    const safeToCallback = (async () => {\n      await twisty3DPuzzlePromise;\n      await new Promise((resolve) => setTimeout(resolve, 0));\n    })();\n    if (puzzleRenderScheduledCallback) {\n      const scheduler = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.RenderScheduler(async () => {\n      });\n      puzzleWrapper.addEventListener(\"render-scheduled\", async () => {\n        if (!scheduler.requestIsPending()) {\n          scheduler.requestAnimFrame();\n          await safeToCallback;\n          puzzleRenderScheduledCallback();\n        }\n      });\n    }\n    return twisty3DPuzzlePromise;\n  }\n  jumpToStart(options) {\n    this.controller.jumpToStart(options);\n  }\n  jumpToEnd(options) {\n    this.controller.jumpToEnd(options);\n  }\n  play() {\n    this.controller.togglePlay(true);\n  }\n  pause() {\n    this.controller.togglePlay(false);\n  }\n  // Inspiration:\n  // - https://developer.mozilla.org/en-US/docs/Web/API/Element/toggleAttribute (`force` argument)\n  // - https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle (`force` argument)\n  // We still provide `play()` and `pause()` individually for convenience, though.\n  togglePlay(play) {\n    this.controller.togglePlay(play);\n  }\n  // TODO: Animate the new move.\n  // TODO: Automatically handle puzzle.\n  experimentalAddMove(flexibleMove, options) {\n    this.experimentalModel.experimentalAddMove(flexibleMove, options);\n  }\n  // TODO: Animate the new move.\n  // TODO: Automatically handle puzzle.\n  experimentalAddAlgLeaf(algLeaf, options) {\n    this.experimentalModel.experimentalAddAlgLeaf(algLeaf, options);\n  }\n  static get observedAttributes() {\n    const observed = [];\n    for (const key of Object.keys(twistyPlayerAttributeMap)) {\n      observed.push(key, DATA_ATTRIBUTE_PREFIX + key);\n    }\n    return observed;\n  }\n  experimentalRemoveFinalChild() {\n    this.experimentalModel.experimentalRemoveFinalChild();\n  }\n  attributeChangedCallback(attributeName, _oldValue, newValue) {\n    if (attributeName.startsWith(DATA_ATTRIBUTE_PREFIX)) {\n      attributeName = attributeName.slice(DATA_ATTRIBUTE_PREFIX.length);\n    }\n    const setterName = twistyPlayerAttributeMap[attributeName];\n    if (!setterName) {\n      return;\n    }\n    this[setterName] = newValue;\n  }\n  // TODO: Make this more ergonomic and flexible.\n  // TODO: dimensions.\n  async experimentalScreenshot(options) {\n    return (await screenshot(this.experimentalModel, options)).dataURL;\n  }\n  // TODO: Make this more ergonomic and flexible.\n  // TODO: dimensions.\n  async experimentalDownloadScreenshot(filename) {\n    if ([\"2D\", \"experimental-2D-LL\"].includes(\n      await this.experimentalModel.visualizationStrategy.get()\n    )) {\n      const wrapper2D = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapper);\n      const twisty2DPuzzle = await wrapper2D.currentTwisty2DPuzzleWrapper().twisty2DPuzzle();\n      const str = new XMLSerializer().serializeToString(\n        twisty2DPuzzle.svgWrapper.svgElement\n      );\n      const url = URL.createObjectURL(new Blob([str]));\n      downloadURL(\n        url,\n        filename ?? await getDefaultFilename(this.experimentalModel),\n        \"svg\"\n      );\n    } else {\n      await (await screenshot(this.experimentalModel)).download(filename);\n    }\n  }\n}, _controlsManager = new WeakMap(), _visualizationWrapperElem = new WeakMap(), _errorElem = new WeakMap(), _alreadyConnected = new WeakMap(), _flashLevel = new WeakMap(), _visualizationWrapper = new WeakMap(), _initial3DVisualizationWrapper = new WeakMap(), _visualizationStrategy = new WeakMap(), _setVisualizationWrapper = new WeakSet(), setVisualizationWrapper_fn = function(strategy) {\n  if (strategy !== (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationStrategy)) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapper)?.remove();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapper)?.disconnect();\n    let newWrapper;\n    switch (strategy) {\n      case \"2D\":\n      case \"experimental-2D-LL\": {\n        newWrapper = new Twisty2DSceneWrapper(\n          this.experimentalModel.twistySceneModel,\n          strategy\n        );\n        break;\n      }\n      case \"Cube3D\":\n      case \"PG3D\": {\n        newWrapper = new Twisty3DSceneWrapper(this.experimentalModel);\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _initial3DVisualizationWrapper).handleNewValue(newWrapper);\n        break;\n      }\n      default:\n        throw new Error(\"Invalid visualization\");\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _visualizationWrapperElem).appendChild(newWrapper);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _visualizationWrapper, newWrapper);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _visualizationStrategy, strategy);\n  }\n}, _a13);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-player\", TwistyPlayer);\nvar twistyAlgViewerCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  display: inline;\n}\n\n.wrapper {\n  display: inline;\n}\n\na:not(:hover) {\n  color: inherit;\n  text-decoration: none;\n}\n\ntwisty-alg-leaf-elem.twisty-alg-comment {\n  color: rgba(0, 0, 0, 0.4);\n}\n\n.wrapper.current-move {\n  background: rgba(66, 133, 244, 0.3);\n  margin-left: -0.1em;\n  margin-right: -0.1em;\n  padding-left: 0.1em;\n  padding-right: 0.1em;\n  border-radius: 0.1em;\n}\n`\n);\nasync function firstElementWithId(id) {\n  return new Promise((resolve, reject) => {\n    const currentElem = document.getElementById(id);\n    if (currentElem) {\n      resolve(currentElem);\n    }\n    const observer = new MutationObserver((mutations) => {\n      for (const mutation of mutations) {\n        if (mutation.attributeName === \"id\" && mutation.target instanceof Element && mutation.target.getAttribute(\"id\") === id) {\n          resolve(mutation.target);\n          observer.disconnect();\n        }\n      }\n    });\n    observer.observe(document.body, {\n      attributeFilter: [\"id\"],\n      subtree: true\n    });\n  });\n}\nvar DEFAULT_OFFSET_MS = 250;\nvar TwistyAlgLeafElem = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor(className, text, dataDown, algOrAlgNode, offsetIntoMove, clickable) {\n    super({ mode: \"open\" });\n    this.algOrAlgNode = algOrAlgNode;\n    this.classList.add(className);\n    this.addCSS(twistyAlgViewerCSS);\n    if (clickable) {\n      const anchor = this.contentWrapper.appendChild(\n        document.createElement(\"a\")\n      );\n      anchor.href = \"#\";\n      anchor.textContent = text;\n      anchor.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        dataDown.twistyAlgViewer.jumpToIndex(\n          dataDown.earliestMoveIndex,\n          offsetIntoMove\n        );\n      });\n    } else {\n      this.contentWrapper.appendChild(\n        document.createElement(\"span\")\n      ).textContent = text;\n    }\n  }\n  pathToIndex(_index) {\n    return [];\n  }\n  setCurrentMove(current) {\n    this.contentWrapper.classList.toggle(\"current-move\", current);\n  }\n};\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-alg-leaf-elem\", TwistyAlgLeafElem);\nvar TwistyAlgWrapperElem = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.HTMLElementShim {\n  constructor(className, algOrAlgNode) {\n    super();\n    this.algOrAlgNode = algOrAlgNode;\n    this.queue = [];\n    this.classList.add(className);\n  }\n  addString(str) {\n    this.queue.push(document.createTextNode(str));\n  }\n  addElem(dataUp) {\n    this.queue.push(dataUp.element);\n    return dataUp.moveCount;\n  }\n  flushQueue(direction = 1) {\n    for (const node of maybeReverseList(this.queue, direction)) {\n      this.append(node);\n    }\n    this.queue = [];\n  }\n  pathToIndex(_index) {\n    return [];\n  }\n};\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-alg-wrapper-elem\", TwistyAlgWrapperElem);\nfunction oppositeDirection(direction) {\n  return direction === 1 ? -1 : 1;\n}\nfunction updateDirectionByAmount(currentDirection, amount) {\n  return amount < 0 ? oppositeDirection(currentDirection) : currentDirection;\n}\nfunction maybeReverseList(l, direction) {\n  if (direction === 1) {\n    return l;\n  }\n  const copy = Array.from(l);\n  copy.reverse();\n  return copy;\n}\nvar AlgToDOMTree = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalDownUp {\n  traverseAlg(alg, dataDown) {\n    let moveCount = 0;\n    const element = new TwistyAlgWrapperElem(\"twisty-alg-alg\", alg);\n    let first = true;\n    for (const algNode of (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.direct)(\n      alg.childAlgNodes(),\n      dataDown.direction\n    )) {\n      if (!first) {\n        element.addString(\" \");\n      }\n      first = false;\n      if (algNode.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Pause)?.experimentalNISSGrouping) {\n        element.addString(\"^(\");\n      }\n      if (!algNode.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Grouping)?.experimentalNISSPlaceholder) {\n        moveCount += element.addElem(\n          this.traverseAlgNode(algNode, {\n            earliestMoveIndex: dataDown.earliestMoveIndex + moveCount,\n            twistyAlgViewer: dataDown.twistyAlgViewer,\n            direction: dataDown.direction\n          })\n        );\n      }\n      if (algNode.as(_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Pause)?.experimentalNISSGrouping) {\n        element.addString(\")\");\n      }\n    }\n    element.flushQueue(dataDown.direction);\n    return {\n      moveCount,\n      element\n    };\n  }\n  traverseGrouping(grouping, dataDown) {\n    const square1Tuple = grouping.experimentalAsSquare1Tuple();\n    const direction = updateDirectionByAmount(\n      dataDown.direction,\n      grouping.amount\n    );\n    let moveCount = 0;\n    const element = new TwistyAlgWrapperElem(\"twisty-alg-grouping\", grouping);\n    element.addString(\"(\");\n    if (square1Tuple) {\n      moveCount += element.addElem({\n        moveCount: 1,\n        element: new TwistyAlgLeafElem(\n          \"twisty-alg-move\",\n          // TODO: Mark the tuple with a special class?\n          square1Tuple[0].amount.toString(),\n          dataDown,\n          square1Tuple[0],\n          true,\n          true\n        )\n      });\n      element.addString(\", \");\n      moveCount += element.addElem({\n        moveCount: 1,\n        element: new TwistyAlgLeafElem(\n          \"twisty-alg-move\",\n          // TODO: Mark the tuple with a special class?\n          square1Tuple[1].amount.toString(),\n          dataDown,\n          square1Tuple[1],\n          true,\n          true\n        )\n      });\n    } else {\n      moveCount += element.addElem(\n        this.traverseAlg(grouping.alg, {\n          earliestMoveIndex: dataDown.earliestMoveIndex + moveCount,\n          twistyAlgViewer: dataDown.twistyAlgViewer,\n          direction\n        })\n      );\n    }\n    element.addString(`)${grouping.experimentalRepetitionSuffix}`);\n    element.flushQueue();\n    return {\n      moveCount: moveCount * Math.abs(grouping.amount),\n      element\n    };\n  }\n  traverseMove(move, dataDown) {\n    const element = new TwistyAlgLeafElem(\n      \"twisty-alg-move\",\n      move.toString(),\n      dataDown,\n      move,\n      true,\n      true\n    );\n    dataDown.twistyAlgViewer.highlighter.addMove(\n      move.startCharIndex,\n      element\n    );\n    return {\n      moveCount: 1,\n      element\n    };\n  }\n  traverseCommutator(commutator, dataDown) {\n    let moveCount = 0;\n    const element = new TwistyAlgWrapperElem(\n      \"twisty-alg-commutator\",\n      commutator\n    );\n    element.addString(\"[\");\n    element.flushQueue();\n    const [first, second] = maybeReverseList(\n      [commutator.A, commutator.B],\n      dataDown.direction\n    );\n    moveCount += element.addElem(\n      this.traverseAlg(first, {\n        earliestMoveIndex: dataDown.earliestMoveIndex + moveCount,\n        twistyAlgViewer: dataDown.twistyAlgViewer,\n        direction: dataDown.direction\n      })\n    );\n    element.addString(\", \");\n    moveCount += element.addElem(\n      this.traverseAlg(second, {\n        earliestMoveIndex: dataDown.earliestMoveIndex + moveCount,\n        twistyAlgViewer: dataDown.twistyAlgViewer,\n        direction: dataDown.direction\n      })\n    );\n    element.flushQueue(dataDown.direction);\n    element.addString(\"]\");\n    element.flushQueue();\n    return {\n      moveCount: moveCount * 2,\n      element\n    };\n  }\n  traverseConjugate(conjugate, dataDown) {\n    let moveCount = 0;\n    const element = new TwistyAlgWrapperElem(\"twisty-alg-conjugate\", conjugate);\n    element.addString(\"[\");\n    const aLen = element.addElem(\n      this.traverseAlg(conjugate.A, {\n        earliestMoveIndex: dataDown.earliestMoveIndex + moveCount,\n        twistyAlgViewer: dataDown.twistyAlgViewer,\n        direction: dataDown.direction\n      })\n    );\n    moveCount += aLen;\n    element.addString(\": \");\n    moveCount += element.addElem(\n      this.traverseAlg(conjugate.B, {\n        earliestMoveIndex: dataDown.earliestMoveIndex + moveCount,\n        twistyAlgViewer: dataDown.twistyAlgViewer,\n        direction: dataDown.direction\n      })\n    );\n    element.addString(\"]\");\n    element.flushQueue();\n    return {\n      moveCount: moveCount + aLen,\n      element\n    };\n  }\n  traversePause(pause, dataDown) {\n    if (pause.experimentalNISSGrouping) {\n      return this.traverseAlg(pause.experimentalNISSGrouping.alg, dataDown);\n    }\n    return {\n      moveCount: 1,\n      element: new TwistyAlgLeafElem(\n        \"twisty-alg-pause\",\n        \".\",\n        dataDown,\n        pause,\n        true,\n        true\n      )\n    };\n  }\n  traverseNewline(newline, _dataDown) {\n    const element = new TwistyAlgWrapperElem(\"twisty-alg-newline\", newline);\n    element.append(document.createElement(\"br\"));\n    return {\n      moveCount: 0,\n      element\n    };\n  }\n  traverseLineComment(lineComment, dataDown) {\n    return {\n      moveCount: 0,\n      element: new TwistyAlgLeafElem(\n        \"twisty-alg-line-comment\",\n        `//${lineComment.text}`,\n        dataDown,\n        lineComment,\n        false,\n        false\n      )\n    };\n  }\n};\nvar algToDOMTree = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(AlgToDOMTree);\nvar MoveHighlighter = class {\n  constructor() {\n    this.moveCharIndexMap = /* @__PURE__ */ new Map();\n    this.currentElem = null;\n  }\n  addMove(charIndex, elem) {\n    this.moveCharIndexMap.set(charIndex, elem);\n  }\n  set(move) {\n    const newElem = move ? this.moveCharIndexMap.get(move.startCharIndex) ?? null : null;\n    if (this.currentElem === newElem) {\n      return;\n    }\n    this.currentElem?.classList.remove(\"twisty-alg-current-move\");\n    this.currentElem?.setCurrentMove(false);\n    newElem?.classList.add(\"twisty-alg-current-move\");\n    newElem?.setCurrentMove(true);\n    this.currentElem = newElem;\n  }\n};\nvar _domTree, _twistyPlayer, _setTwistyPlayer, setTwistyPlayer_fn, _a14;\nvar TwistyAlgViewer = (_a14 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.HTMLElementShim {\n  constructor(options) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _setTwistyPlayer);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _domTree, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _twistyPlayer, void 0);\n    this.highlighter = new MoveHighlighter();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _twistyPlayer, null);\n    this.lastClickTimestamp = null;\n    if (options?.twistyPlayer) {\n      this.twistyPlayer = options?.twistyPlayer;\n    }\n  }\n  connectedCallback() {\n  }\n  setAlg(alg) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _domTree, algToDOMTree(alg, {\n      earliestMoveIndex: 0,\n      twistyAlgViewer: this,\n      direction: 1\n      /* Forwards */\n    }).element);\n    this.textContent = \"\";\n    this.appendChild((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _domTree));\n  }\n  get twistyPlayer() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer);\n  }\n  set twistyPlayer(twistyPlayer) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _setTwistyPlayer, setTwistyPlayer_fn).call(this, twistyPlayer);\n  }\n  async jumpToIndex(index, offsetIntoMove) {\n    const twistyPlayer = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer);\n    if (twistyPlayer) {\n      twistyPlayer.pause();\n      const timestampPromise = (async () => {\n        const indexer = await twistyPlayer.experimentalModel.indexer.get();\n        const offset = offsetIntoMove ? DEFAULT_OFFSET_MS : 0;\n        return indexer.indexToMoveStartTimestamp(index) + indexer.moveDuration(index) - offset;\n      })();\n      twistyPlayer.experimentalModel.timestampRequest.set(\n        await timestampPromise\n        // TODO\n      );\n      if (this.lastClickTimestamp === await timestampPromise) {\n        twistyPlayer.play();\n        this.lastClickTimestamp = null;\n      } else {\n        this.lastClickTimestamp = await timestampPromise;\n      }\n    }\n  }\n  async attributeChangedCallback(attributeName, _oldValue, newValue) {\n    if (attributeName === \"for\") {\n      let elem = document.getElementById(newValue);\n      if (!elem) {\n        console.info(\"for= elem does not exist, waiting for one\");\n      }\n      await customElements.whenDefined(\"twisty-player\");\n      elem = await firstElementWithId(newValue);\n      if (!(elem instanceof TwistyPlayer)) {\n        console.warn(\"for= elem is not a twisty-player\");\n        return;\n      }\n      this.twistyPlayer = elem;\n    }\n  }\n  static get observedAttributes() {\n    return [\"for\"];\n  }\n}, _domTree = new WeakMap(), _twistyPlayer = new WeakMap(), _setTwistyPlayer = new WeakSet(), setTwistyPlayer_fn = async function(twistyPlayer) {\n  if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer)) {\n    console.warn(\"twisty-player reassignment is not supported\");\n    return;\n  }\n  if (twistyPlayer === null) {\n    throw new Error(\"clearing twistyPlayer is not supported\");\n  }\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _twistyPlayer, twistyPlayer);\n  (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer).experimentalModel.alg.addFreshListener(\n    (algWithIssues) => {\n      this.setAlg(algWithIssues.alg);\n    }\n  );\n  const sourceAlg = (await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer).experimentalModel.alg.get()).alg;\n  const parsedAlg = \"startCharIndex\" in sourceAlg ? sourceAlg : _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg.fromString(sourceAlg.toString());\n  this.setAlg(parsedAlg);\n  twistyPlayer.experimentalModel.currentMoveInfo.addFreshListener(\n    (currentMoveInfo) => {\n      let moveInfo = currentMoveInfo.currentMoves[0];\n      moveInfo ?? (moveInfo = currentMoveInfo.movesStarting[0]);\n      moveInfo ?? (moveInfo = currentMoveInfo.movesFinishing[0]);\n      if (!moveInfo) {\n        this.highlighter.set(null);\n      } else {\n        const mainCurrentMove = moveInfo.move;\n        this.highlighter.set(mainCurrentMove);\n      }\n    }\n  );\n  twistyPlayer.experimentalModel.detailedTimelineInfo.addFreshListener(\n    (detailedTimelineInfo) => {\n      if (detailedTimelineInfo.timestamp !== this.lastClickTimestamp) {\n        this.lastClickTimestamp = null;\n      }\n    }\n  );\n}, _a14);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-alg-viewer\", TwistyAlgViewer);\nvar LeafTokens = class extends _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.TraversalDownUp {\n  traverseAlg(alg, dataDown) {\n    const algNodeArrays = [];\n    let numMovesInside = 0;\n    for (const algNode of alg.childAlgNodes()) {\n      const dataUp = this.traverseAlgNode(algNode, {\n        numMovesSofar: dataDown.numMovesSofar + numMovesInside\n      });\n      algNodeArrays.push(dataUp.tokens);\n      numMovesInside += dataUp.numLeavesInside;\n    }\n    return {\n      tokens: Array.prototype.concat(...algNodeArrays),\n      numLeavesInside: numMovesInside\n    };\n  }\n  traverseGrouping(grouping, dataDown) {\n    const dataUp = this.traverseAlg(grouping.alg, dataDown);\n    return {\n      tokens: dataUp.tokens,\n      numLeavesInside: dataUp.numLeavesInside * grouping.amount\n    };\n  }\n  traverseMove(move, dataDown) {\n    return {\n      tokens: [{ leaf: move, idx: dataDown.numMovesSofar }],\n      numLeavesInside: 1\n    };\n  }\n  traverseCommutator(commutator, dataDown) {\n    const dataUpA = this.traverseAlg(commutator.A, dataDown);\n    const dataUpB = this.traverseAlg(commutator.B, {\n      numMovesSofar: dataDown.numMovesSofar + dataUpA.numLeavesInside\n    });\n    return {\n      tokens: dataUpA.tokens.concat(dataUpB.tokens),\n      numLeavesInside: dataUpA.numLeavesInside * 2 + dataUpB.numLeavesInside\n    };\n  }\n  traverseConjugate(conjugate, dataDown) {\n    const dataUpA = this.traverseAlg(conjugate.A, dataDown);\n    const dataUpB = this.traverseAlg(conjugate.B, {\n      numMovesSofar: dataDown.numMovesSofar + dataUpA.numLeavesInside\n    });\n    return {\n      tokens: dataUpA.tokens.concat(dataUpB.tokens),\n      numLeavesInside: dataUpA.numLeavesInside * 2 + dataUpB.numLeavesInside * 2\n    };\n  }\n  traversePause(pause, dataDown) {\n    return {\n      tokens: [{ leaf: pause, idx: dataDown.numMovesSofar }],\n      numLeavesInside: 1\n    };\n  }\n  traverseNewline(_newline, _dataDown) {\n    return {\n      tokens: [],\n      numLeavesInside: 0\n    };\n  }\n  traverseLineComment(_comment, _dataDown) {\n    return {\n      tokens: [],\n      numLeavesInside: 0\n    };\n  }\n};\nvar leafTokens = (0,_chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.functionFromTraversal)(LeafTokens);\nvar TwistyAlgEditorValueProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.SimpleTwistyPropSource {\n  getDefaultValue() {\n    return \"\";\n  }\n};\nvar AlgEditorAlgWithIssuesProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(input) {\n    return algWithIssuesFromString(input.value);\n  }\n  // TODO: canReuse needs to take the source string into account.\n};\nvar TwistyAlgEditorSelectionProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropSource {\n  getDefaultValue() {\n    return {\n      selectionStart: 0,\n      selectionEnd: 0,\n      endChangedMostRecently: false\n    };\n  }\n  async derive(input, oldValue) {\n    const { selectionStart, selectionEnd } = input;\n    const lastResult = await oldValue;\n    const endChangedMostRecently = input.selectionStart === lastResult.selectionStart && input.selectionEnd !== (await oldValue).selectionEnd;\n    return {\n      selectionStart,\n      selectionEnd,\n      endChangedMostRecently\n    };\n  }\n};\nvar TargetCharProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return inputs.selectionInfo.endChangedMostRecently ? inputs.selectionInfo.selectionEnd : inputs.selectionInfo.selectionStart;\n  }\n};\nvar LeafTokensProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    return leafTokens(inputs.algWithIssues.alg, {\n      numMovesSofar: 0\n    }).tokens;\n  }\n};\nvar LeafToHighlightProp = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.TwistyPropDerived {\n  derive(inputs) {\n    function withWhere(leafInfo) {\n      if (leafInfo === null) {\n        return null;\n      }\n      let where;\n      if (inputs.targetChar < leafInfo.leaf.startCharIndex) {\n        where = \"before\";\n      } else if (inputs.targetChar === leafInfo.leaf.startCharIndex) {\n        where = \"start\";\n      } else if (inputs.targetChar < leafInfo.leaf.endCharIndex) {\n        where = \"inside\";\n      } else if (inputs.targetChar === leafInfo.leaf.endCharIndex) {\n        where = \"end\";\n      } else {\n        where = \"after\";\n      }\n      return {\n        leafInfo,\n        where\n      };\n    }\n    let lastLeafInfo = null;\n    for (const leafInfo of inputs.leafTokens) {\n      if (inputs.targetChar < leafInfo.leaf.startCharIndex && lastLeafInfo !== null) {\n        return withWhere(lastLeafInfo);\n      }\n      if (inputs.targetChar <= leafInfo.leaf.endCharIndex) {\n        return withWhere(leafInfo);\n      }\n      lastLeafInfo = leafInfo;\n    }\n    return withWhere(lastLeafInfo);\n  }\n};\nvar TwistyAlgEditorModel = class {\n  constructor() {\n    this.valueProp = new TwistyAlgEditorValueProp();\n    this.selectionProp = new TwistyAlgEditorSelectionProp();\n    this.targetCharProp = new TargetCharProp({ selectionInfo: this.selectionProp });\n    this.algEditorAlgWithIssues = new AlgEditorAlgWithIssuesProp({\n      value: this.valueProp\n    });\n    this.leafTokensProp = new LeafTokensProp({\n      algWithIssues: this.algEditorAlgWithIssues\n    });\n    this.leafToHighlight = new LeafToHighlightProp({\n      leafTokens: this.leafTokensProp,\n      targetChar: this.targetCharProp\n    });\n  }\n};\nvar COMMENT_DELIMITER = \"//\";\nfunction maybeParse(str) {\n  try {\n    return _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg.fromString(str);\n  } catch {\n    return null;\n  }\n}\nfunction splitBeforeOnFirstOccurrence(str, delimiter) {\n  const idx = str.indexOf(delimiter);\n  if (idx === -1) {\n    return [str, \"\"];\n  }\n  return [str.slice(0, idx), str.slice(idx)];\n}\nfunction replaceSmartQuotesOutsideComments(str) {\n  const linesOut = [];\n  for (const line of str.split(\"\\n\")) {\n    let [before, after] = splitBeforeOnFirstOccurrence(line, COMMENT_DELIMITER);\n    before = before.replaceAll(\"\\u2019\", \"'\");\n    linesOut.push(before + after);\n  }\n  return linesOut.join(\"\\n\");\n}\nfunction pasteIntoTextArea(textArea, pastedText) {\n  const { value: oldValue } = textArea;\n  const { selectionStart, selectionEnd } = textArea;\n  const textPrecedingSelection = oldValue.slice(0, selectionStart);\n  const textFollowingSelection = oldValue.slice(selectionEnd);\n  const selectionStartsInExistingComment = textPrecedingSelection.match(/\\/\\/[^\\n]*$/);\n  const pasteCreatesStartingComment = oldValue[selectionStart - 1] === \"/\" && pastedText[0] === \"/\";\n  const pasteStartsWithCommentText = selectionStartsInExistingComment || pasteCreatesStartingComment;\n  const pasteEndsWithComment = pastedText.match(/\\/\\/[^\\n]*$/);\n  let replacement = pastedText;\n  if (pasteStartsWithCommentText) {\n    const [before, after] = splitBeforeOnFirstOccurrence(pastedText, \"\\n\");\n    replacement = before + replaceSmartQuotesOutsideComments(after);\n  } else {\n    replacement = replaceSmartQuotesOutsideComments(pastedText);\n  }\n  const tryAddSpaceBefore = !pasteStartsWithCommentText && selectionStart !== 0 && // Not at text start\n  ![\"\\n\", \" \"].includes(replacement[0]) && ![\"\\n\", \" \"].includes(oldValue[selectionStart - 1]);\n  const tryAddSpaceAfter = !pasteEndsWithComment && selectionEnd !== oldValue.length && // Not at text end\n  ![\"\\n\", \" \"].includes(replacement.at(-1)) && ![\"\\n\", \" \"].includes(oldValue[selectionEnd]);\n  function adoptSpacingIfValid(prefix, suffix) {\n    const candidate = prefix + replacement + suffix;\n    const valid = !!maybeParse(\n      textPrecedingSelection + candidate + textFollowingSelection\n    );\n    if (valid) {\n      replacement = candidate;\n    }\n    return valid;\n  }\n  tryAddSpaceBefore && tryAddSpaceAfter && adoptSpacingIfValid(\" \", \" \") || // Paste \"R U R' U'\" over \" \" in \"F F'\" to create \"F R U R' U' F'\"\n  tryAddSpaceBefore && adoptSpacingIfValid(\" \", \"\") || // Paste \"U\" after \"R'\" in \"R' L'\" to create \"R' U L'\"\n  tryAddSpaceAfter && adoptSpacingIfValid(\"\", \" \");\n  const execCommandSuccess = document.execCommand(\n    \"insertText\",\n    false,\n    replacement\n  );\n  if (!execCommandSuccess) {\n    textArea.setRangeText(replacement, selectionStart, selectionEnd, \"end\");\n  }\n}\nvar twistyAlgEditorCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n:host {\n  width: 384px;\n  display: grid;\n}\n\n.wrapper {\n  /*overflow: hidden;\n  resize: horizontal;*/\n\n  background: var(--background, none);\n  display: grid;\n}\n\ntextarea, .carbon-copy {\n  grid-area: 1 / 1 / 2 / 2;\n\n  width: 100%;\n  font-family: sans-serif;\n  line-height: 1.2em;\n\n  font-size: var(--font-size, inherit);\n  font-family: var(--font-family, sans-serif);\n\n  box-sizing: border-box;\n\n  padding: var(--padding, 0.5em);\n  /* Prevent horizontal growth. */\n  overflow-x: hidden;\n}\n\ntextarea {\n  resize: none;\n  background: none;\n  z-index: 2;\n  overflow: hidden;\n  border: 1px solid var(--border-color, rgba(0, 0, 0, 0.25));\n}\n\n.carbon-copy {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  color: transparent;\n  user-select: none;\n  pointer-events: none;\n\n  z-index: 1;\n}\n\n.carbon-copy .highlight {\n  background: var(--highlight-color, rgba(255, 128, 0, 0.5));\n  padding: 0.1em 0.2em;\n  margin: -0.1em -0.2em;\n  border-radius: 0.2em;\n}\n\n.wrapper.issue-warning textarea,\n.wrapper.valid-for-puzzle-warning textarea {\n  outline: none;\n  border: 1px solid rgba(200, 200, 0, 0.5);\n  background: rgba(255, 255, 0, 0.1);\n}\n\n.wrapper.issue-error textarea,\n.wrapper.valid-for-puzzle-error textarea {\n  outline: none;\n  border: 1px solid red;\n  background: rgba(255, 0, 0, 0.1);\n}\n`\n);\nvar ATTRIBUTE_FOR_TWISTY_PLAYER = \"for-twisty-player\";\nvar ATTRIBUTE_PLACEHOLDER = \"placeholder\";\nvar ATTRIBUTE_TWISTY_PLAYER_PROP = \"twisty-player-prop\";\nvar _textarea, _carbonCopy, _carbonCopyPrefix, _carbonCopyHighlight, _carbonCopySuffix, _textareaClassListValidForPuzzleManager, _twistyPlayer2, _twistyPlayerProp, _algProp, algProp_get, _onInputHasFired, _padSuffix, padSuffix_fn, _highlightedLeaf, _a15;\nvar TwistyAlgEditor = (_a15 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor(options) {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _algProp);\n    // `white-space: pre;` mostly matches the formatting of the `<textarea>`, *except* when we end with a newline.\n    // So we add an space to ensure that there is a character on the final line (that is very unlikely to trigger extra line wrapping).\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _padSuffix);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _textarea, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _carbonCopy, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _carbonCopyPrefix, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _carbonCopyHighlight, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _carbonCopySuffix, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _textareaClassListValidForPuzzleManager, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _twistyPlayer2, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _twistyPlayerProp, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _onInputHasFired, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _highlightedLeaf, void 0);\n    this.model = new TwistyAlgEditorModel();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _textarea, document.createElement(\"textarea\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _carbonCopy, document.createElement(\"div\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _carbonCopyPrefix, document.createElement(\"span\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _carbonCopyHighlight, document.createElement(\"span\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _carbonCopySuffix, document.createElement(\"span\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _textareaClassListValidForPuzzleManager, new ClassListManager(this, \"valid-for-puzzle-\", [\n      \"none\",\n      \"warning\",\n      \"error\"\n    ]));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _twistyPlayer2, null);\n    this.debugNeverRequestTimestamp = false;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _onInputHasFired, false);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _highlightedLeaf, null);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopy).classList.add(\"carbon-copy\");\n    this.addElement((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopy));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).rows = 1;\n    this.addElement((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyPrefix).classList.add(\"prefix\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopy).appendChild((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyPrefix));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyHighlight).classList.add(\"highlight\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopy).appendChild((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyHighlight));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopySuffix).classList.add(\"suffix\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopy).appendChild((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopySuffix));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).placeholder = \"Alg\";\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).setAttribute(\"spellcheck\", \"false\");\n    this.addCSS(twistyAlgEditorCSS);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).addEventListener(\"input\", () => {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _onInputHasFired, true);\n      this.onInput();\n    });\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).addEventListener(\"blur\", () => this.onBlur());\n    document.addEventListener(\n      \"selectionchange\",\n      () => this.onSelectionChange()\n    );\n    if (options?.twistyPlayer) {\n      this.twistyPlayer = options.twistyPlayer;\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _twistyPlayerProp, options?.twistyPlayerProp ?? \"alg\");\n    if (options?.twistyPlayerProp === \"alg\") {\n      this.model.leafToHighlight.addFreshListener(\n        (highlightInfo) => {\n          if (highlightInfo) {\n            this.highlightLeaf(highlightInfo.leafInfo.leaf);\n          }\n        }\n      );\n    }\n  }\n  connectedCallback() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).addEventListener(\"paste\", (e) => {\n      const text = e.clipboardData?.getData(\"text\");\n      if (text) {\n        pasteIntoTextArea((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea), text);\n        e.preventDefault();\n        this.onInput();\n      }\n    });\n  }\n  // TODO\n  set algString(s) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value = s;\n    this.onInput();\n  }\n  // TODO: remove?\n  get algString() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value;\n  }\n  // To we need a getter?\n  set placeholder(placeholderText) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).placeholder = placeholderText;\n  }\n  onInput() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyHighlight).hidden = true;\n    this.highlightLeaf(null);\n    const endTrimmed = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value.trimEnd();\n    this.model.valueProp.set(endTrimmed);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _algProp, algProp_get)?.set(endTrimmed);\n  }\n  async onSelectionChange() {\n    if (document.activeElement !== this || this.shadow.activeElement !== (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea)) {\n      return;\n    }\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayerProp) !== \"alg\") {\n      return;\n    }\n    const { selectionStart, selectionEnd } = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea);\n    this.model.selectionProp.set({\n      selectionStart,\n      selectionEnd\n    });\n  }\n  async onBlur() {\n  }\n  setAlgIssueClassForPuzzle(issues) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textareaClassListValidForPuzzleManager).setValue(issues);\n  }\n  // TODO: support a primary highlighted move and secondary ones.\n  highlightLeaf(leaf) {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayerProp) !== \"alg\") {\n      return;\n    }\n    if (leaf === null) {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyPrefix).textContent = \"\";\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyHighlight).textContent = \"\";\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopySuffix).textContent = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _padSuffix, padSuffix_fn).call(this, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value);\n      return;\n    }\n    if (leaf === (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _highlightedLeaf)) {\n      return;\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _highlightedLeaf, leaf);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyPrefix).textContent = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value.slice(\n      0,\n      leaf.startCharIndex\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyHighlight).textContent = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value.slice(\n      leaf.startCharIndex,\n      leaf.endCharIndex\n    );\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopySuffix).textContent = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateMethod)(this, _padSuffix, padSuffix_fn).call(this, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _textarea).value.slice(leaf.endCharIndex));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _carbonCopyHighlight).hidden = false;\n  }\n  get twistyPlayer() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer2);\n  }\n  // TODO: spread out this impl over private methods instead of self-listeners.\n  set twistyPlayer(twistyPlayer) {\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer2)) {\n      console.warn(\"twisty-player reassignment/clearing is not supported\");\n      return;\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _twistyPlayer2, twistyPlayer);\n    if (!twistyPlayer) {\n      return;\n    }\n    (async () => {\n      this.algString = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _algProp, algProp_get) ? (await (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _algProp, algProp_get).get()).alg.toString() : \"\";\n    })();\n    if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayerProp) === \"alg\") {\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer2)?.experimentalModel.puzzleAlg.addFreshListener(\n        (algWithIssues) => {\n          if (algWithIssues.issues.errors.length === 0) {\n            this.setAlgIssueClassForPuzzle(\n              // TODO: Allow trailing spaces.\n              algWithIssues.issues.warnings.length === 0 ? \"none\" : \"warning\"\n            );\n            const newAlg = algWithIssues.alg;\n            const oldAlg = _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg.fromString(this.algString);\n            if (!newAlg.isIdentical(oldAlg)) {\n              this.algString = newAlg.toString();\n              this.onInput();\n            } else {\n            }\n          } else {\n            this.setAlgIssueClassForPuzzle(\"error\");\n          }\n        }\n      );\n      this.model.leafToHighlight.addFreshListener(\n        async (highlightInfo) => {\n          if (highlightInfo === null) {\n            return;\n          }\n          const [indexer, timestampRequest] = await Promise.all([\n            await twistyPlayer.experimentalModel.indexer.get(),\n            await twistyPlayer.experimentalModel.timestampRequest.get()\n          ]);\n          if (timestampRequest === \"auto\" && !(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _onInputHasFired)) {\n            return;\n          }\n          const moveStartTimestamp = indexer.indexToMoveStartTimestamp(\n            highlightInfo.leafInfo.idx\n          );\n          const duration = indexer.moveDuration(highlightInfo.leafInfo.idx);\n          let newTimestamp;\n          switch (highlightInfo.where) {\n            case \"before\": {\n              newTimestamp = moveStartTimestamp;\n              break;\n            }\n            case \"start\":\n            case \"inside\": {\n              newTimestamp = moveStartTimestamp + duration / 4;\n              break;\n            }\n            case \"end\":\n            case \"after\": {\n              newTimestamp = moveStartTimestamp + duration;\n              break;\n            }\n            default:\n              console.log(\"invalid where\");\n              throw new Error(\"Invalid where!\");\n          }\n          if (!this.debugNeverRequestTimestamp) {\n            twistyPlayer.experimentalModel.timestampRequest.set(newTimestamp);\n          }\n        }\n      );\n      twistyPlayer.experimentalModel.currentLeavesSimplified.addFreshListener(\n        async (currentLeavesSimplified) => {\n          const indexer = await twistyPlayer.experimentalModel.indexer.get();\n          const leaf = indexer.getAnimLeaf(\n            currentLeavesSimplified.patternIndex\n          );\n          this.highlightLeaf(leaf);\n        }\n      );\n    }\n  }\n  attributeChangedCallback(attributeName, _oldValue, newValue) {\n    switch (attributeName) {\n      case ATTRIBUTE_FOR_TWISTY_PLAYER: {\n        const elem = document.getElementById(newValue);\n        if (!elem) {\n          console.warn(`${ATTRIBUTE_FOR_TWISTY_PLAYER}= elem does not exist`);\n          return;\n        }\n        if (!(elem instanceof TwistyPlayer)) {\n          console.warn(`${ATTRIBUTE_FOR_TWISTY_PLAYER}=is not a twisty-player`);\n          return;\n        }\n        this.twistyPlayer = elem;\n        return;\n      }\n      case ATTRIBUTE_PLACEHOLDER: {\n        this.placeholder = newValue;\n        return;\n      }\n      case ATTRIBUTE_TWISTY_PLAYER_PROP: {\n        if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer2)) {\n          console.log(\"cannot set prop\");\n          throw new Error(\"cannot set prop after twisty player\");\n        }\n        (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _twistyPlayerProp, newValue);\n        return;\n      }\n    }\n  }\n  static get observedAttributes() {\n    return [\n      ATTRIBUTE_FOR_TWISTY_PLAYER,\n      ATTRIBUTE_PLACEHOLDER,\n      ATTRIBUTE_TWISTY_PLAYER_PROP\n    ];\n  }\n}, _textarea = new WeakMap(), _carbonCopy = new WeakMap(), _carbonCopyPrefix = new WeakMap(), _carbonCopyHighlight = new WeakMap(), _carbonCopySuffix = new WeakMap(), _textareaClassListValidForPuzzleManager = new WeakMap(), _twistyPlayer2 = new WeakMap(), _twistyPlayerProp = new WeakMap(), _algProp = new WeakSet(), algProp_get = function() {\n  if ((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer2) === null) {\n    return null;\n  } else {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer2).experimentalModel[(0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayerProp)];\n  }\n}, _onInputHasFired = new WeakMap(), _padSuffix = new WeakSet(), padSuffix_fn = function(s) {\n  return s.endsWith(\"\\n\") ? `${s} ` : s;\n}, _highlightedLeaf = new WeakMap(), _a15);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twisty-alg-editor\", TwistyAlgEditor);\nvar twizzleLinkCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(\n  `\n.wrapper {\n  background: rgb(255, 245, 235);\n  border: 1px solid rgba(0, 0, 0, 0.25);\n\n  /* Workaround from https://stackoverflow.com/questions/40010597/how-do-i-apply-opacity-to-a-css-color-variable */\n  --text-color: 0, 0, 0;\n  --heading-background: 255, 230, 210;\n\n  color: rgb(var(--text-color));\n}\n\n.setup-alg, twisty-alg-viewer {\n  padding: 0.5em 1em;\n}\n\n.heading {\n  background: rgba(var(--heading-background), 1);\n  color: rgba(var(--text-color), 1);\n  font-weight: bold;\n  padding: 0.25em 0.5em;\n  display: grid;\n  grid-template-columns: auto 1fr;\n\n  /* For the move count hover elems. */\n  position: sticky;\n}\n\n.heading.title {\n  background: rgb(255, 245, 235);\n  font-size: 150%;\n  white-space: pre-wrap;\n}\n\n.heading .move-count {\n  font-weight: initial;\n  text-align: right;\n  color: rgba(var(--text-color), 0.4);\n}\n\n.wrapper.dark-mode .heading .move-count {\n  color: rgba(var(--text-color), 0.7);\n}\n\n.heading a {\n  text-decoration: none;\n  color: inherit;\n}\n\ntwisty-player {\n  width: 100%;\n  min-height: 128px;\n  height: 288px;\n  resize: vertical;\n  overflow-y: hidden;\n}\n\ntwisty-player + .heading {\n  padding-top: 0.5em;\n}\n\ntwisty-alg-viewer {\n  display: inline-block;\n}\n\n.wrapper {\n  container-type: inline-size;\n}\n\n.scrollable-region {\n  border-top: 1px solid rgba(0, 0, 0, 0.25);\n}\n\n.scrollable-region {\n  max-height: 18em;\n  overflow-y: auto;\n}\n\n@container (min-width: 512px) {\n  .responsive-wrapper {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n  }\n  twisty-player {\n    height: 320px\n  }\n  .scrollable-region {\n    border-top: none;\n    border-left: 1px solid rgba(0, 0, 0, 0.25);\n    contain: strict;\n    max-height: 100cqh;\n  }\n}\n\n.wrapper:fullscreen,\n.wrapper:fullscreen .responsive-wrapper {\n  width: 100%;\n  height: 100%;\n}\n\n.wrapper:fullscreen twisty-player,\n.wrapper:fullscreen .scrollable-region {\n  height: 50%;\n}\n\n@container (min-width: 512px) {\n  .wrapper:fullscreen twisty-player,\n  .wrapper:fullscreen .scrollable-region {\n    height: 100%;\n  }\n}\n\n/* TODO: dedup with Twizzle Editor */\n.move-count > span:hover:before {\n  background-color: rgba(var(--heading-background), 1);\n  color: rgba(var(--text-color), 1);\n  backdrop-filter: blur(4px);\n  z-index: 100;\n  position: absolute;\n  padding: 0.5em;\n  top: 1.5em;\n  right: 0;\n  content: attr(data-before);\n  white-space: pre-wrap;\n  text-align: left;\n}\n\n.move-count > span:hover {\n  color: rgba(var(--text-color), 1);\n  cursor: help;\n}\n`\n);\nvar twizzleLinkForumTweaksCSS = new _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.CSSSource(`\n.wrapper {\n  background: white;\n  --heading-background: 232, 239, 253\n}\n\n.wrapper.dark-mode {\n  --text-color: 236, 236, 236;\n  --heading-background: 29, 29, 29;\n}\n\n.scrollable-region {\n  overflow-y: auto;\n}\n\n.wrapper.dark-mode {\n  background: #262626;\n  --text-color: 142, 142, 142;\n  border-color: #FFFFFF44;\n  color-scheme: dark;\n}\n\n.wrapper.dark-mode .heading:not(.title) {\n  background: #1d1d1d;\n}\n\n.heading.title {\n  background: none;\n}\n`);\nfunction getConfigFromURL(prefix = \"\", url = location.href) {\n  const paramMapping = {\n    alg: \"alg\",\n    \"setup-alg\": \"experimental-setup-alg\",\n    \"setup-anchor\": \"experimental-setup-anchor\",\n    puzzle: \"puzzle\",\n    stickering: \"experimental-stickering\",\n    \"puzzle-description\": \"experimental-puzzle-description\",\n    title: \"experimental-title\",\n    \"video-url\": \"experimental-video-url\",\n    competition: \"experimental-competition-id\"\n  };\n  const params = new URL(url).searchParams;\n  const config = {};\n  for (const [ourParam, twistyPlayerParam] of Object.entries(paramMapping)) {\n    const paramValue = params.get(prefix + ourParam);\n    if (paramValue !== null) {\n      const configKey = twistyPlayerAttributeMap[twistyPlayerParam];\n      config[configKey] = paramValue;\n    }\n  }\n  return config;\n}\nvar OUTER_BLOCK_MOVES_EXPLANATION = \"outer block moves (e.g. R, Rw, or 4r)\";\nvar INNER_BLOCK_MOVES_EXPLANATION = \"inner block moves (e.g. M or 2-5r)\";\nvar METRIC_EXPLANATIONS = {\n  [\n    \"OBTM\"\n    /* OuterBlockTurnMetric */\n  ]: `HTM = OBTM (\"Outer Block Turn Metric\"):\n\\u2022 ${INNER_BLOCK_MOVES_EXPLANATION} count as 2 turns\n\\u2022 ${OUTER_BLOCK_MOVES_EXPLANATION} count as 1 turn\n\\u2022 rotations (e.g. x) count as 0 turns`,\n  [\n    \"OBQTM\"\n    /* OuterBlockQuantumTurnMetric */\n  ]: `QTM = OBQTM (\"Outer Block Quantum Turn Metric\"):\n\\u2022 ${INNER_BLOCK_MOVES_EXPLANATION} count as 2 turns per quantum (e.g. M2 counts as 4)\n\\u2022 ${OUTER_BLOCK_MOVES_EXPLANATION} count as 1 turn per quantum (e.g. R2 counts as 2)\n\\u2022 rotations (e.g. x) count as 0 turns`,\n  [\n    \"RBTM\"\n    /* RangeBlockTurnMetric */\n  ]: `STM = RBTM (\"Range Block Turn Metric\"):\n\\u2022 ${INNER_BLOCK_MOVES_EXPLANATION} count as 1 turn\n\\u2022 ${OUTER_BLOCK_MOVES_EXPLANATION} count as 1 turn\n\\u2022 rotations (e.g. x) count as 0 turns`,\n  [\n    \"RBQTM\"\n    /* RangeBlockQuantumTurnMetric */\n  ]: `SQTM = RBQTM (\"Range Block Quantum Turn Metric\"):\n\\u2022 ${INNER_BLOCK_MOVES_EXPLANATION} count as 1 turn per quantum (e.g. M2 counts as 2)\n\\u2022 ${OUTER_BLOCK_MOVES_EXPLANATION} count as 1 turn per quantum (e.g. R2 counts as 2)\n\\u2022 rotations (e.g. x) count as 0 turns`,\n  [\n    \"ETM\"\n    /* ExecutionTurnMetric */\n  ]: `ETM (\"Execution Turn Metric\"):\n\\u2022 all moves (including rotations) count as 1 turn`\n};\nvar CONSISTENT_METRIC_ABBREVIATIONS = {\n  [\n    \"OBTM\"\n    /* OuterBlockTurnMetric */\n  ]: \"OB\",\n  [\n    \"OBQTM\"\n    /* OuterBlockQuantumTurnMetric */\n  ]: \"OBQ\",\n  [\n    \"RBTM\"\n    /* RangeBlockTurnMetric */\n  ]: \"RB\",\n  [\n    \"RBQTM\"\n    /* RangeBlockQuantumTurnMetric */\n  ]: \"RBQ\",\n  [\n    \"ETM\"\n    /* ExecutionTurnMetric */\n  ]: \"E\"\n};\nvar _cssElem, _cssCDNForumTweaksElem, _scrollableRegion, _responsiveWrapper, _moveCountElem, _a16;\nvar TwizzleLink = (_a16 = class extends _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.ManagedCustomElement {\n  constructor(options) {\n    super({ mode: \"open\" });\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cssElem, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _cssCDNForumTweaksElem, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _scrollableRegion, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _responsiveWrapper, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _moveCountElem, void 0);\n    this.options = options;\n    this.twistyPlayer = null;\n    this.a = null;\n  }\n  fallback() {\n    this.contentWrapper.textContent = \"\";\n    if (this.a) {\n      const span = this.contentWrapper.appendChild(\n        document.createElement(\"span\")\n      );\n      span.textContent = \"\\u2757\\uFE0F\";\n      span.title = \"Could not show a player for link\";\n      this.addElement(this.a);\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cssElem)?.remove();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _cssCDNForumTweaksElem)?.remove();\n  }\n  async connectedCallback() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _responsiveWrapper, this.addElement(document.createElement(\"div\")));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _responsiveWrapper).classList.add(\"responsive-wrapper\");\n    if (this.options?.colorScheme === \"dark\") {\n      this.contentWrapper.classList.add(\"dark-mode\");\n    }\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _cssElem, this.addCSS(twizzleLinkCSS));\n    if (this.options?.cdnForumTweaks) {\n      this.addCSS(twizzleLinkForumTweaksCSS);\n    }\n    this.a = this.querySelector(\"a\");\n    if (!this.a) {\n      return;\n    }\n    const config = getConfigFromURL(\"\", this.a.href);\n    const href = this.a?.href;\n    const { hostname, pathname } = new URL(href);\n    if (hostname !== \"alpha.twizzle.net\") {\n      this.fallback();\n      return;\n    }\n    if ([\"/edit/\", \"/explore/\"].includes(pathname)) {\n      const isExplorer = pathname === \"/explore/\";\n      if (config.puzzle && !(config.puzzle in _chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.puzzles)) {\n        const puzzleDescription = (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_scramble-display_dist_esm_puzzle-geometry-QEEUMPT6_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./puzzle-geometry-QEEUMPT6.js */ \"./node_modules/scramble-display/dist/esm/puzzle-geometry-QEEUMPT6.js\"))).getPuzzleDescriptionString(config.puzzle);\n        delete config.puzzle;\n        config.experimentalPuzzleDescription = puzzleDescription;\n      }\n      this.twistyPlayer = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _responsiveWrapper).appendChild(\n        new TwistyPlayer({\n          background: this.options?.cdnForumTweaks ? \"checkered-transparent\" : \"checkered\",\n          colorScheme: this.options?.colorScheme ? \"dark\" : \"light\",\n          ...config,\n          viewerLink: isExplorer ? \"experimental-twizzle-explorer\" : \"auto\"\n        })\n      );\n      this.twistyPlayer.fullscreenElement = this.contentWrapper;\n      if (config.experimentalTitle) {\n        this.twistyPlayer.experimentalTitle = config.experimentalTitle;\n      }\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _scrollableRegion, (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _responsiveWrapper).appendChild(\n        document.createElement(\"div\")\n      ));\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _scrollableRegion).classList.add(\"scrollable-region\");\n      if (config.experimentalTitle) {\n        this.addHeading(config.experimentalTitle).classList.add(\"title\");\n      }\n      if (config.experimentalSetupAlg) {\n        this.addHeading(\n          \"Setup\",\n          async () => (await this.twistyPlayer?.experimentalModel.setupAlg.get())?.alg.toString() ?? null\n        );\n        const setupAlgDiv = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _scrollableRegion).appendChild(\n          document.createElement(\"div\")\n        );\n        setupAlgDiv.classList.add(\"setup-alg\");\n        setupAlgDiv.textContent = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(\n          config.experimentalSetupAlg\n        ).toString();\n      }\n      const movesHeading = this.addHeading(\n        \"Moves\",\n        async () => (await this.twistyPlayer?.experimentalModel.alg.get())?.alg.toString() ?? null\n      );\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _moveCountElem, movesHeading.appendChild(\n        constructMoveCountDisplay(this.twistyPlayer.experimentalModel)\n      ));\n      (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _moveCountElem).classList.add(\"move-count\");\n      const twistyAlgViewer = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _scrollableRegion).appendChild(\n        new TwistyAlgViewer({ twistyPlayer: this.twistyPlayer })\n      );\n      twistyAlgViewer.part.add(\"twisty-alg-viewer\");\n    } else {\n      this.fallback();\n    }\n  }\n  addHeading(text, getTextToCopy) {\n    const headingDiv = (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _scrollableRegion).appendChild(\n      document.createElement(\"div\")\n    );\n    headingDiv.classList.add(\"heading\");\n    const wrapperSpan = headingDiv.appendChild(document.createElement(\"span\"));\n    wrapperSpan.textContent = text;\n    if (getTextToCopy) {\n      wrapperSpan.textContent += \" \";\n      const a = wrapperSpan.appendChild(document.createElement(\"a\"));\n      a.textContent = \"\\u{1F4CB}\";\n      a.href = \"#\";\n      a.title = \"Copy to clipboard\";\n      async function setAndClear(text2) {\n        a.textContent = text2;\n        await new Promise((resolve) => setTimeout(resolve, 2e3));\n        if (a.textContent === text2) {\n          a.textContent = \"\\u{1F4CB}\";\n        }\n      }\n      a.addEventListener(\"click\", async (e) => {\n        e.preventDefault();\n        a.textContent = \"\\u2026\\u{1F4CB}\";\n        const textToCopy = await getTextToCopy();\n        if (textToCopy) {\n          try {\n            await navigator.clipboard.writeText(textToCopy);\n            setAndClear(\"\\u2705\\u{1F4CB}\");\n          } catch (e2) {\n            setAndClear(\"\\u274C\\u{1F4CB}\");\n            throw e2;\n          }\n        } else {\n          setAndClear(\"\\u274C\\u{1F4CB}\");\n        }\n      });\n    }\n    return headingDiv;\n  }\n}, _cssElem = new WeakMap(), _cssCDNForumTweaksElem = new WeakMap(), _scrollableRegion = new WeakMap(), _responsiveWrapper = new WeakMap(), _moveCountElem = new WeakMap(), _a16);\n_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.customElementsShim.define(\"twizzle-link\", TwizzleLink);\nfunction constructMoveCountDisplay(model, elem = document.createElement(\"span\")) {\n  async function update() {\n    const [algWithIssues, puzzleLoader] = await Promise.all([\n      model.puzzleAlg.get(),\n      model.puzzleLoader.get()\n    ]);\n    if (algWithIssues.issues.errors.length !== 0) {\n      elem.textContent = \"\";\n      return;\n    }\n    let isFirstMetric = true;\n    function addMetric(metric) {\n      if (isFirstMetric) {\n        isFirstMetric = false;\n      } else {\n        elem.append(\")(\");\n      }\n      const span = elem.appendChild(document.createElement(\"span\"));\n      const moveCount = countMetricMoves(\n        puzzleLoader,\n        metric,\n        algWithIssues.alg\n      );\n      span.append(`${CONSISTENT_METRIC_ABBREVIATIONS[metric]}: `);\n      const moveNumber = span.appendChild(document.createElement(\"span\"));\n      moveNumber.textContent = moveCount.toString();\n      moveNumber.classList.add(\"move-number\");\n      span.setAttribute(\"data-before\", METRIC_EXPLANATIONS[metric] ?? \"\");\n      span.setAttribute(\"title\", METRIC_EXPLANATIONS[metric] ?? \"\");\n    }\n    elem.textContent = \"(\";\n    if (puzzleLoader.id === \"3x3x3\") {\n      addMetric(\n        \"OBTM\"\n        /* OuterBlockTurnMetric */\n      );\n      addMetric(\n        \"OBQTM\"\n        /* OuterBlockQuantumTurnMetric */\n      );\n      addMetric(\n        \"RBTM\"\n        /* RangeBlockTurnMetric */\n      );\n    } else if (puzzleLoader.pg) {\n      addMetric(\n        \"RBTM\"\n        /* RangeBlockTurnMetric */\n      );\n      addMetric(\n        \"RBQTM\"\n        /* RangeBlockQuantumTurnMetric */\n      );\n    }\n    addMetric(\n      \"ETM\"\n      /* ExecutionTurnMetric */\n    );\n    elem.append(\")\");\n  }\n  model.puzzleAlg.addFreshListener(update);\n  model.puzzleID.addFreshListener(update);\n  return elem;\n}\n\n// src/scramble-display/css.ts\nvar mainStyleText = `\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  place-content: center;\n  overflow: hidden;\n}\n\n.wrapper > * {\n  width: inherit;\n  height: inherit;\n  overflow: hidden;\n}\n\ntwisty-player {\n  width: 100%;\n  height: 100%;\n}\n`;\n\n// src/scramble-display/ScrambleDisplay.ts\nvar CUBE_333 = \"333\";\nvar DEFAULT_EVENT = CUBE_333;\nvar _shadow, _wrapper, _currentAttributes, _twistyPlayer3;\nvar ScrambleDisplay = class extends HTMLElement {\n  // TODO: Accept ScrambleDisplayAttributes arg?\n  constructor() {\n    super();\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _shadow, void 0);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _wrapper, document.createElement(\"div\"));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _currentAttributes, {\n      eventID: null,\n      scramble: new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(),\n      visualization: null,\n      checkered: false\n    });\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateAdd)(this, _twistyPlayer3, new TwistyPlayer({\n      controlPanel: \"none\",\n      hintFacelets: \"none\",\n      visualization: \"2D\",\n      background: \"none\"\n    }));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateSet)(this, _shadow, this.attachShadow({ mode: \"closed\" }));\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _wrapper).classList.add(\"wrapper\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _shadow).appendChild((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _wrapper));\n    const style = document.createElement(\"style\");\n    style.textContent = mainStyleText;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _shadow).appendChild(style);\n  }\n  // Note: You should avoid setting properties like `alg` or `visualization`\n  // directly on the twisty player, since `<scramble-display>` may overwrite\n  // them again. However, we make the player available this way in case you may\n  // find it convenient to have access for other purposes.\n  get player() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer3);\n  }\n  connectedCallback() {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _wrapper).appendChild((0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer3));\n  }\n  set event(eventID) {\n    const info = (0,_chunk_EYSO3CHT_js__WEBPACK_IMPORTED_MODULE_0__.eventInfo)(eventID ?? DEFAULT_EVENT);\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer3).puzzle = info?.puzzleID ?? \"3x3x3\";\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).eventID = eventID;\n  }\n  get event() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).eventID;\n  }\n  set scramble(scramble) {\n    const alg = new _chunk_KTP5YOXP_js__WEBPACK_IMPORTED_MODULE_1__.Alg(scramble ?? \"\");\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer3).alg = alg;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).scramble = alg;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _wrapper).setAttribute(\"title\", alg.toString());\n  }\n  get scramble() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).scramble;\n  }\n  set visualization(visualization) {\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer3).visualization = visualization ?? \"2D\";\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).visualization = visualization;\n  }\n  get visualization() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).visualization;\n  }\n  set checkered(checkered) {\n    const checkeredBoolean = !!checkered;\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _twistyPlayer3).background = checkeredBoolean ? \"checkered\" : \"none\";\n    (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).checkered = checkeredBoolean;\n  }\n  get checkered() {\n    return (0,_chunk_VVT7CIBF_js__WEBPACK_IMPORTED_MODULE_2__.__privateGet)(this, _currentAttributes).checkered;\n  }\n  attributeChangedCallback(name, oldValue, newValue) {\n    switch (name) {\n      case \"event\": {\n        this.event = newValue;\n        break;\n      }\n      case \"scramble\": {\n        this.scramble = newValue;\n        break;\n      }\n      case \"visualization\": {\n        this.visualization = newValue;\n        break;\n      }\n      case \"checkered\": {\n        this.checkered = newValue !== null;\n        break;\n      }\n    }\n  }\n  static get observedAttributes() {\n    return [\"event\", \"scramble\", \"visualization\", \"checkered\"];\n  }\n};\n_shadow = new WeakMap();\n_wrapper = new WeakMap();\n_currentAttributes = new WeakMap();\n_twistyPlayer3 = new WeakMap();\ncustomElements.define(\"scramble-display\", ScrambleDisplay);\n\n\n\n//# sourceURL=webpack://cubetimer/./node_modules/scramble-display/dist/esm/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".bundle.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "cubetimer:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkcubetimer"] = self["webpackChunkcubetimer"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;